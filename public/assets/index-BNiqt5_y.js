var VA=Object.defineProperty;var FA=(n,e,t)=>e in n?VA(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var G=(n,e,t)=>(FA(n,typeof e!="symbol"?e+"":e,t),t);function jA(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function El(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var YD={exports:{}},Zf={},zD={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rc=Symbol.for("react.element"),$A=Symbol.for("react.portal"),UA=Symbol.for("react.fragment"),BA=Symbol.for("react.strict_mode"),WA=Symbol.for("react.profiler"),YA=Symbol.for("react.provider"),zA=Symbol.for("react.context"),HA=Symbol.for("react.forward_ref"),KA=Symbol.for("react.suspense"),qA=Symbol.for("react.memo"),GA=Symbol.for("react.lazy"),A0=Symbol.iterator;function QA(n){return n===null||typeof n!="object"?null:(n=A0&&n[A0]||n["@@iterator"],typeof n=="function"?n:null)}var HD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},KD=Object.assign,qD={};function Tl(n,e,t){this.props=n,this.context=e,this.refs=qD,this.updater=t||HD}Tl.prototype.isReactComponent={};Tl.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Tl.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function GD(){}GD.prototype=Tl.prototype;function bv(n,e,t){this.props=n,this.context=e,this.refs=qD,this.updater=t||HD}var kv=bv.prototype=new GD;kv.constructor=bv;KD(kv,Tl.prototype);kv.isPureReactComponent=!0;var R0=Array.isArray,QD=Object.prototype.hasOwnProperty,Cv={current:null},XD={key:!0,ref:!0,__self:!0,__source:!0};function JD(n,e,t){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)QD.call(e,r)&&!XD.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Rc,type:n,key:o,ref:s,props:i,_owner:Cv.current}}function XA(n,e){return{$$typeof:Rc,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function xv(n){return typeof n=="object"&&n!==null&&n.$$typeof===Rc}function JA(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var N0=/\/+/g;function ym(n,e){return typeof n=="object"&&n!==null&&n.key!=null?JA(""+n.key):e.toString(36)}function hh(n,e,t,r,i){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var s=!1;if(n===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(n.$$typeof){case Rc:case $A:s=!0}}if(s)return s=n,i=i(s),n=r===""?"."+ym(s,0):r,R0(i)?(t="",n!=null&&(t=n.replace(N0,"$&/")+"/"),hh(i,e,t,"",function(u){return u})):i!=null&&(xv(i)&&(i=XA(i,t+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(N0,"$&/")+"/")+n)),e.push(i)),1;if(s=0,r=r===""?".":r+":",R0(n))for(var a=0;a<n.length;a++){o=n[a];var l=r+ym(o,a);s+=hh(o,e,t,l,i)}else if(l=QA(n),typeof l=="function")for(n=l.call(n),a=0;!(o=n.next()).done;)o=o.value,l=r+ym(o,a++),s+=hh(o,e,t,l,i);else if(o==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function kd(n,e,t){if(n==null)return n;var r=[],i=0;return hh(n,r,"","",function(o){return e.call(t,o,i++)}),r}function ZA(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var sn={current:null},fh={transition:null},eR={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:fh,ReactCurrentOwner:Cv};function ZD(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:kd,forEach:function(n,e,t){kd(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return kd(n,function(){e++}),e},toArray:function(n){return kd(n,function(e){return e})||[]},only:function(n){if(!xv(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};pe.Component=Tl;pe.Fragment=UA;pe.Profiler=WA;pe.PureComponent=bv;pe.StrictMode=BA;pe.Suspense=KA;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eR;pe.act=ZD;pe.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=KD({},n.props),i=n.key,o=n.ref,s=n._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Cv.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)QD.call(e,l)&&!XD.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Rc,type:n.type,key:i,ref:o,props:r,_owner:s}};pe.createContext=function(n){return n={$$typeof:zA,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:YA,_context:n},n.Consumer=n};pe.createElement=JD;pe.createFactory=function(n){var e=JD.bind(null,n);return e.type=n,e};pe.createRef=function(){return{current:null}};pe.forwardRef=function(n){return{$$typeof:HA,render:n}};pe.isValidElement=xv;pe.lazy=function(n){return{$$typeof:GA,_payload:{_status:-1,_result:n},_init:ZA}};pe.memo=function(n,e){return{$$typeof:qA,type:n,compare:e===void 0?null:e}};pe.startTransition=function(n){var e=fh.transition;fh.transition={};try{n()}finally{fh.transition=e}};pe.unstable_act=ZD;pe.useCallback=function(n,e){return sn.current.useCallback(n,e)};pe.useContext=function(n){return sn.current.useContext(n)};pe.useDebugValue=function(){};pe.useDeferredValue=function(n){return sn.current.useDeferredValue(n)};pe.useEffect=function(n,e){return sn.current.useEffect(n,e)};pe.useId=function(){return sn.current.useId()};pe.useImperativeHandle=function(n,e,t){return sn.current.useImperativeHandle(n,e,t)};pe.useInsertionEffect=function(n,e){return sn.current.useInsertionEffect(n,e)};pe.useLayoutEffect=function(n,e){return sn.current.useLayoutEffect(n,e)};pe.useMemo=function(n,e){return sn.current.useMemo(n,e)};pe.useReducer=function(n,e,t){return sn.current.useReducer(n,e,t)};pe.useRef=function(n){return sn.current.useRef(n)};pe.useState=function(n){return sn.current.useState(n)};pe.useSyncExternalStore=function(n,e,t){return sn.current.useSyncExternalStore(n,e,t)};pe.useTransition=function(){return sn.current.useTransition()};pe.version="18.3.1";zD.exports=pe;var N=zD.exports;const F=El(N),tR=jA({__proto__:null,default:F},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nR=N,rR=Symbol.for("react.element"),iR=Symbol.for("react.fragment"),oR=Object.prototype.hasOwnProperty,sR=nR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aR={key:!0,ref:!0,__self:!0,__source:!0};function eS(n,e,t){var r,i={},o=null,s=null;t!==void 0&&(o=""+t),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)oR.call(e,r)&&!aR.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:rR,type:n,key:o,ref:s,props:i,_owner:sR.current}}Zf.Fragment=iR;Zf.jsx=eS;Zf.jsxs=eS;YD.exports=Zf;var R=YD.exports,wg={},tS={exports:{}},On={},nS={exports:{}},rS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(Y,K){var H=Y.length;Y.push(K);e:for(;0<H;){var de=H-1>>>1,ce=Y[de];if(0<i(ce,K))Y[de]=K,Y[H]=ce,H=de;else break e}}function t(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var K=Y[0],H=Y.pop();if(H!==K){Y[0]=H;e:for(var de=0,ce=Y.length,we=ce>>>1;de<we;){var ot=2*(de+1)-1,Xe=Y[ot],dt=ot+1,ht=Y[dt];if(0>i(Xe,H))dt<ce&&0>i(ht,Xe)?(Y[de]=ht,Y[dt]=H,de=dt):(Y[de]=Xe,Y[ot]=H,de=ot);else if(dt<ce&&0>i(ht,H))Y[de]=ht,Y[dt]=H,de=dt;else break e}}return K}function i(Y,K){var H=Y.sortIndex-K.sortIndex;return H!==0?H:Y.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();n.unstable_now=function(){return s.now()-a}}var l=[],u=[],d=1,h=null,p=3,m=!1,v=!1,w=!1,D=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(Y){for(var K=t(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=Y)r(u),K.sortIndex=K.expirationTime,e(l,K);else break;K=t(u)}}function P(Y){if(w=!1,T(Y),!v)if(t(l)!==null)v=!0,ie(M);else{var K=t(u);K!==null&&ne(P,K.startTime-Y)}}function M(Y,K){v=!1,w&&(w=!1,_(E),E=-1),m=!0;var H=p;try{for(T(K),h=t(l);h!==null&&(!(h.expirationTime>K)||Y&&!A());){var de=h.callback;if(typeof de=="function"){h.callback=null,p=h.priorityLevel;var ce=de(h.expirationTime<=K);K=n.unstable_now(),typeof ce=="function"?h.callback=ce:h===t(l)&&r(l),T(K)}else r(l);h=t(l)}if(h!==null)var we=!0;else{var ot=t(u);ot!==null&&ne(P,ot.startTime-K),we=!1}return we}finally{h=null,p=H,m=!1}}var L=!1,I=null,E=-1,b=5,k=-1;function A(){return!(n.unstable_now()-k<b)}function O(){if(I!==null){var Y=n.unstable_now();k=Y;var K=!0;try{K=I(!0,Y)}finally{K?C():(L=!1,I=null)}}else L=!1}var C;if(typeof y=="function")C=function(){y(O)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,oe=ee.port2;ee.port1.onmessage=O,C=function(){oe.postMessage(null)}}else C=function(){D(O,0)};function ie(Y){I=Y,L||(L=!0,C())}function ne(Y,K){E=D(function(){Y(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,ie(M))},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(Y){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var H=p;p=K;try{return Y()}finally{p=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Y,K){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var H=p;p=Y;try{return K()}finally{p=H}},n.unstable_scheduleCallback=function(Y,K,H){var de=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?de+H:de):H=de,Y){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=H+ce,Y={id:d++,callback:K,priorityLevel:Y,startTime:H,expirationTime:ce,sortIndex:-1},H>de?(Y.sortIndex=H,e(u,Y),t(l)===null&&Y===t(u)&&(w?(_(E),E=-1):w=!0,ne(P,H-de))):(Y.sortIndex=ce,e(l,Y),v||m||(v=!0,ie(M))),Y},n.unstable_shouldYield=A,n.unstable_wrapCallback=function(Y){var K=p;return function(){var H=p;p=K;try{return Y.apply(this,arguments)}finally{p=H}}}})(rS);nS.exports=rS;var lR=nS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uR=N,An=lR;function W(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iS=new Set,Gu={};function js(n,e){Ka(n,e),Ka(n+"Capture",e)}function Ka(n,e){for(Gu[n]=e,n=0;n<e.length;n++)iS.add(e[n])}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eg=Object.prototype.hasOwnProperty,cR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,O0={},M0={};function dR(n){return Eg.call(M0,n)?!0:Eg.call(O0,n)?!1:cR.test(n)?M0[n]=!0:(O0[n]=!0,!1)}function hR(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function fR(n,e,t,r){if(e===null||typeof e>"u"||hR(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function an(n,e,t,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Ft[n]=new an(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Ft[e]=new an(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Ft[n]=new an(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Ft[n]=new an(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Ft[n]=new an(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Ft[n]=new an(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Ft[n]=new an(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Ft[n]=new an(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Ft[n]=new an(n,5,!1,n.toLowerCase(),null,!1,!1)});var Pv=/[\-:]([a-z])/g;function Av(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Pv,Av);Ft[e]=new an(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Pv,Av);Ft[e]=new an(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Pv,Av);Ft[e]=new an(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Ft[n]=new an(n,1,!1,n.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new an("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Ft[n]=new an(n,1,!1,n.toLowerCase(),null,!0,!0)});function Rv(n,e,t,r){var i=Ft.hasOwnProperty(e)?Ft[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fR(e,t,i,r)&&(t=null),r||i===null?dR(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var vi=uR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cd=Symbol.for("react.element"),ma=Symbol.for("react.portal"),ga=Symbol.for("react.fragment"),Nv=Symbol.for("react.strict_mode"),Tg=Symbol.for("react.profiler"),oS=Symbol.for("react.provider"),sS=Symbol.for("react.context"),Ov=Symbol.for("react.forward_ref"),Ig=Symbol.for("react.suspense"),Dg=Symbol.for("react.suspense_list"),Mv=Symbol.for("react.memo"),Ai=Symbol.for("react.lazy"),aS=Symbol.for("react.offscreen"),L0=Symbol.iterator;function Xl(n){return n===null||typeof n!="object"?null:(n=L0&&n[L0]||n["@@iterator"],typeof n=="function"?n:null)}var Qe=Object.assign,vm;function gu(n){if(vm===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);vm=e&&e[1]||""}return`
`+vm+n}var _m=!1;function wm(n,e){if(!n||_m)return"";_m=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=s&&0<=a);break}}}finally{_m=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?gu(n):""}function pR(n){switch(n.tag){case 5:return gu(n.type);case 16:return gu("Lazy");case 13:return gu("Suspense");case 19:return gu("SuspenseList");case 0:case 2:case 15:return n=wm(n.type,!1),n;case 11:return n=wm(n.type.render,!1),n;case 1:return n=wm(n.type,!0),n;default:return""}}function Sg(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ga:return"Fragment";case ma:return"Portal";case Tg:return"Profiler";case Nv:return"StrictMode";case Ig:return"Suspense";case Dg:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case sS:return(n.displayName||"Context")+".Consumer";case oS:return(n._context.displayName||"Context")+".Provider";case Ov:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Mv:return e=n.displayName||null,e!==null?e:Sg(n.type)||"Memo";case Ai:e=n._payload,n=n._init;try{return Sg(n(e))}catch{}}return null}function mR(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sg(e);case 8:return e===Nv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function co(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function lS(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gR(n){var e=lS(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,o=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function xd(n){n._valueTracker||(n._valueTracker=gR(n))}function uS(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=lS(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Yh(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function bg(n,e){var t=e.checked;return Qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function V0(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=co(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cS(n,e){e=e.checked,e!=null&&Rv(n,"checked",e,!1)}function kg(n,e){cS(n,e);var t=co(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Cg(n,e.type,t):e.hasOwnProperty("defaultValue")&&Cg(n,e.type,co(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function F0(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Cg(n,e,t){(e!=="number"||Yh(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var yu=Array.isArray;function Ra(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+co(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function xg(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Qe({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function j0(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(W(92));if(yu(t)){if(1<t.length)throw Error(W(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:co(t)}}function dS(n,e){var t=co(e.value),r=co(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function $0(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function hS(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pg(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?hS(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Pd,fS=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Pd=Pd||document.createElement("div"),Pd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pd.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Qu(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Au={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yR=["Webkit","ms","Moz","O"];Object.keys(Au).forEach(function(n){yR.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Au[e]=Au[n]})});function pS(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Au.hasOwnProperty(n)&&Au[n]?(""+e).trim():e+"px"}function mS(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=pS(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var vR=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ag(n,e){if(e){if(vR[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Rg(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ng=null;function Lv(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Og=null,Na=null,Oa=null;function U0(n){if(n=Mc(n)){if(typeof Og!="function")throw Error(W(280));var e=n.stateNode;e&&(e=ip(e),Og(n.stateNode,n.type,e))}}function gS(n){Na?Oa?Oa.push(n):Oa=[n]:Na=n}function yS(){if(Na){var n=Na,e=Oa;if(Oa=Na=null,U0(n),e)for(n=0;n<e.length;n++)U0(e[n])}}function vS(n,e){return n(e)}function _S(){}var Em=!1;function wS(n,e,t){if(Em)return n(e,t);Em=!0;try{return vS(n,e,t)}finally{Em=!1,(Na!==null||Oa!==null)&&(_S(),yS())}}function Xu(n,e){var t=n.stateNode;if(t===null)return null;var r=ip(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(W(231,e,typeof t));return t}var Mg=!1;if(li)try{var Jl={};Object.defineProperty(Jl,"passive",{get:function(){Mg=!0}}),window.addEventListener("test",Jl,Jl),window.removeEventListener("test",Jl,Jl)}catch{Mg=!1}function _R(n,e,t,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var Ru=!1,zh=null,Hh=!1,Lg=null,wR={onError:function(n){Ru=!0,zh=n}};function ER(n,e,t,r,i,o,s,a,l){Ru=!1,zh=null,_R.apply(wR,arguments)}function TR(n,e,t,r,i,o,s,a,l){if(ER.apply(this,arguments),Ru){if(Ru){var u=zh;Ru=!1,zh=null}else throw Error(W(198));Hh||(Hh=!0,Lg=u)}}function $s(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function ES(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function B0(n){if($s(n)!==n)throw Error(W(188))}function IR(n){var e=n.alternate;if(!e){if(e=$s(n),e===null)throw Error(W(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===t)return B0(i),n;if(o===r)return B0(i),e;o=o.sibling}throw Error(W(188))}if(t.return!==r.return)t=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===t){s=!0,t=i,r=o;break}if(a===r){s=!0,r=i,t=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===t){s=!0,t=o,r=i;break}if(a===r){s=!0,r=o,t=i;break}a=a.sibling}if(!s)throw Error(W(189))}}if(t.alternate!==r)throw Error(W(190))}if(t.tag!==3)throw Error(W(188));return t.stateNode.current===t?n:e}function TS(n){return n=IR(n),n!==null?IS(n):null}function IS(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=IS(n);if(e!==null)return e;n=n.sibling}return null}var DS=An.unstable_scheduleCallback,W0=An.unstable_cancelCallback,DR=An.unstable_shouldYield,SR=An.unstable_requestPaint,at=An.unstable_now,bR=An.unstable_getCurrentPriorityLevel,Vv=An.unstable_ImmediatePriority,SS=An.unstable_UserBlockingPriority,Kh=An.unstable_NormalPriority,kR=An.unstable_LowPriority,bS=An.unstable_IdlePriority,ep=null,Dr=null;function CR(n){if(Dr&&typeof Dr.onCommitFiberRoot=="function")try{Dr.onCommitFiberRoot(ep,n,void 0,(n.current.flags&128)===128)}catch{}}var er=Math.clz32?Math.clz32:AR,xR=Math.log,PR=Math.LN2;function AR(n){return n>>>=0,n===0?32:31-(xR(n)/PR|0)|0}var Ad=64,Rd=4194304;function vu(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function qh(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,o=n.pingedLanes,s=t&268435455;if(s!==0){var a=s&~i;a!==0?r=vu(a):(o&=s,o!==0&&(r=vu(o)))}else s=t&~i,s!==0?r=vu(s):o!==0&&(r=vu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-er(e),i=1<<t,r|=n[t],e&=~i;return r}function RR(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NR(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,o=n.pendingLanes;0<o;){var s=31-er(o),a=1<<s,l=i[s];l===-1?(!(a&t)||a&r)&&(i[s]=RR(a,e)):l<=e&&(n.expiredLanes|=a),o&=~a}}function Vg(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function kS(){var n=Ad;return Ad<<=1,!(Ad&4194240)&&(Ad=64),n}function Tm(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Nc(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-er(e),n[e]=t}function OR(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-er(t),o=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~o}}function Fv(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-er(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var xe=0;function CS(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var xS,jv,PS,AS,RS,Fg=!1,Nd=[],qi=null,Gi=null,Qi=null,Ju=new Map,Zu=new Map,Mi=[],MR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Y0(n,e){switch(n){case"focusin":case"focusout":qi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":Ju.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zu.delete(e.pointerId)}}function Zl(n,e,t,r,i,o){return n===null||n.nativeEvent!==o?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Mc(e),e!==null&&jv(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function LR(n,e,t,r,i){switch(e){case"focusin":return qi=Zl(qi,n,e,t,r,i),!0;case"dragenter":return Gi=Zl(Gi,n,e,t,r,i),!0;case"mouseover":return Qi=Zl(Qi,n,e,t,r,i),!0;case"pointerover":var o=i.pointerId;return Ju.set(o,Zl(Ju.get(o)||null,n,e,t,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Zu.set(o,Zl(Zu.get(o)||null,n,e,t,r,i)),!0}return!1}function NS(n){var e=os(n.target);if(e!==null){var t=$s(e);if(t!==null){if(e=t.tag,e===13){if(e=ES(t),e!==null){n.blockedOn=e,RS(n.priority,function(){PS(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ph(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=jg(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);Ng=r,t.target.dispatchEvent(r),Ng=null}else return e=Mc(t),e!==null&&jv(e),n.blockedOn=t,!1;e.shift()}return!0}function z0(n,e,t){ph(n)&&t.delete(e)}function VR(){Fg=!1,qi!==null&&ph(qi)&&(qi=null),Gi!==null&&ph(Gi)&&(Gi=null),Qi!==null&&ph(Qi)&&(Qi=null),Ju.forEach(z0),Zu.forEach(z0)}function eu(n,e){n.blockedOn===e&&(n.blockedOn=null,Fg||(Fg=!0,An.unstable_scheduleCallback(An.unstable_NormalPriority,VR)))}function ec(n){function e(i){return eu(i,n)}if(0<Nd.length){eu(Nd[0],n);for(var t=1;t<Nd.length;t++){var r=Nd[t];r.blockedOn===n&&(r.blockedOn=null)}}for(qi!==null&&eu(qi,n),Gi!==null&&eu(Gi,n),Qi!==null&&eu(Qi,n),Ju.forEach(e),Zu.forEach(e),t=0;t<Mi.length;t++)r=Mi[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Mi.length&&(t=Mi[0],t.blockedOn===null);)NS(t),t.blockedOn===null&&Mi.shift()}var Ma=vi.ReactCurrentBatchConfig,Gh=!0;function FR(n,e,t,r){var i=xe,o=Ma.transition;Ma.transition=null;try{xe=1,$v(n,e,t,r)}finally{xe=i,Ma.transition=o}}function jR(n,e,t,r){var i=xe,o=Ma.transition;Ma.transition=null;try{xe=4,$v(n,e,t,r)}finally{xe=i,Ma.transition=o}}function $v(n,e,t,r){if(Gh){var i=jg(n,e,t,r);if(i===null)Rm(n,e,r,Qh,t),Y0(n,r);else if(LR(i,n,e,t,r))r.stopPropagation();else if(Y0(n,r),e&4&&-1<MR.indexOf(n)){for(;i!==null;){var o=Mc(i);if(o!==null&&xS(o),o=jg(n,e,t,r),o===null&&Rm(n,e,r,Qh,t),o===i)break;i=o}i!==null&&r.stopPropagation()}else Rm(n,e,r,null,t)}}var Qh=null;function jg(n,e,t,r){if(Qh=null,n=Lv(r),n=os(n),n!==null)if(e=$s(n),e===null)n=null;else if(t=e.tag,t===13){if(n=ES(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Qh=n,null}function OS(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bR()){case Vv:return 1;case SS:return 4;case Kh:case kR:return 16;case bS:return 536870912;default:return 16}default:return 16}}var Wi=null,Uv=null,mh=null;function MS(){if(mh)return mh;var n,e=Uv,t=e.length,r,i="value"in Wi?Wi.value:Wi.textContent,o=i.length;for(n=0;n<t&&e[n]===i[n];n++);var s=t-n;for(r=1;r<=s&&e[t-r]===i[o-r];r++);return mh=i.slice(n,1<r?1-r:void 0)}function gh(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Od(){return!0}function H0(){return!1}function Mn(n){function e(t,r,i,o,s){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Od:H0,this.isPropagationStopped=H0,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Od)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Od)},persist:function(){},isPersistent:Od}),e}var Il={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bv=Mn(Il),Oc=Qe({},Il,{view:0,detail:0}),$R=Mn(Oc),Im,Dm,tu,tp=Qe({},Oc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wv,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==tu&&(tu&&n.type==="mousemove"?(Im=n.screenX-tu.screenX,Dm=n.screenY-tu.screenY):Dm=Im=0,tu=n),Im)},movementY:function(n){return"movementY"in n?n.movementY:Dm}}),K0=Mn(tp),UR=Qe({},tp,{dataTransfer:0}),BR=Mn(UR),WR=Qe({},Oc,{relatedTarget:0}),Sm=Mn(WR),YR=Qe({},Il,{animationName:0,elapsedTime:0,pseudoElement:0}),zR=Mn(YR),HR=Qe({},Il,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),KR=Mn(HR),qR=Qe({},Il,{data:0}),q0=Mn(qR),GR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JR(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=XR[n])?!!e[n]:!1}function Wv(){return JR}var ZR=Qe({},Oc,{key:function(n){if(n.key){var e=GR[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=gh(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?QR[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wv,charCode:function(n){return n.type==="keypress"?gh(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?gh(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),eN=Mn(ZR),tN=Qe({},tp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G0=Mn(tN),nN=Qe({},Oc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wv}),rN=Mn(nN),iN=Qe({},Il,{propertyName:0,elapsedTime:0,pseudoElement:0}),oN=Mn(iN),sN=Qe({},tp,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),aN=Mn(sN),lN=[9,13,27,32],Yv=li&&"CompositionEvent"in window,Nu=null;li&&"documentMode"in document&&(Nu=document.documentMode);var uN=li&&"TextEvent"in window&&!Nu,LS=li&&(!Yv||Nu&&8<Nu&&11>=Nu),Q0=" ",X0=!1;function VS(n,e){switch(n){case"keyup":return lN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FS(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ya=!1;function cN(n,e){switch(n){case"compositionend":return FS(e);case"keypress":return e.which!==32?null:(X0=!0,Q0);case"textInput":return n=e.data,n===Q0&&X0?null:n;default:return null}}function dN(n,e){if(ya)return n==="compositionend"||!Yv&&VS(n,e)?(n=MS(),mh=Uv=Wi=null,ya=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return LS&&e.locale!=="ko"?null:e.data;default:return null}}var hN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function J0(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!hN[n.type]:e==="textarea"}function jS(n,e,t,r){gS(r),e=Xh(e,"onChange"),0<e.length&&(t=new Bv("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Ou=null,tc=null;function fN(n){QS(n,0)}function np(n){var e=wa(n);if(uS(e))return n}function pN(n,e){if(n==="change")return e}var $S=!1;if(li){var bm;if(li){var km="oninput"in document;if(!km){var Z0=document.createElement("div");Z0.setAttribute("oninput","return;"),km=typeof Z0.oninput=="function"}bm=km}else bm=!1;$S=bm&&(!document.documentMode||9<document.documentMode)}function eE(){Ou&&(Ou.detachEvent("onpropertychange",US),tc=Ou=null)}function US(n){if(n.propertyName==="value"&&np(tc)){var e=[];jS(e,tc,n,Lv(n)),wS(fN,e)}}function mN(n,e,t){n==="focusin"?(eE(),Ou=e,tc=t,Ou.attachEvent("onpropertychange",US)):n==="focusout"&&eE()}function gN(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return np(tc)}function yN(n,e){if(n==="click")return np(e)}function vN(n,e){if(n==="input"||n==="change")return np(e)}function _N(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var nr=typeof Object.is=="function"?Object.is:_N;function nc(n,e){if(nr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!Eg.call(e,i)||!nr(n[i],e[i]))return!1}return!0}function tE(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function nE(n,e){var t=tE(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=tE(t)}}function BS(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?BS(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function WS(){for(var n=window,e=Yh();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Yh(n.document)}return e}function zv(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function wN(n){var e=WS(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&BS(t.ownerDocument.documentElement,t)){if(r!==null&&zv(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!n.extend&&o>r&&(i=r,r=o,o=i),i=nE(t,o);var s=nE(t,r);i&&s&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),o>r?(n.addRange(e),n.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var EN=li&&"documentMode"in document&&11>=document.documentMode,va=null,$g=null,Mu=null,Ug=!1;function rE(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Ug||va==null||va!==Yh(r)||(r=va,"selectionStart"in r&&zv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mu&&nc(Mu,r)||(Mu=r,r=Xh($g,"onSelect"),0<r.length&&(e=new Bv("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=va)))}function Md(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var _a={animationend:Md("Animation","AnimationEnd"),animationiteration:Md("Animation","AnimationIteration"),animationstart:Md("Animation","AnimationStart"),transitionend:Md("Transition","TransitionEnd")},Cm={},YS={};li&&(YS=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function rp(n){if(Cm[n])return Cm[n];if(!_a[n])return n;var e=_a[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in YS)return Cm[n]=e[t];return n}var zS=rp("animationend"),HS=rp("animationiteration"),KS=rp("animationstart"),qS=rp("transitionend"),GS=new Map,iE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function To(n,e){GS.set(n,e),js(e,[n])}for(var xm=0;xm<iE.length;xm++){var Pm=iE[xm],TN=Pm.toLowerCase(),IN=Pm[0].toUpperCase()+Pm.slice(1);To(TN,"on"+IN)}To(zS,"onAnimationEnd");To(HS,"onAnimationIteration");To(KS,"onAnimationStart");To("dblclick","onDoubleClick");To("focusin","onFocus");To("focusout","onBlur");To(qS,"onTransitionEnd");Ka("onMouseEnter",["mouseout","mouseover"]);Ka("onMouseLeave",["mouseout","mouseover"]);Ka("onPointerEnter",["pointerout","pointerover"]);Ka("onPointerLeave",["pointerout","pointerover"]);js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));js("onBeforeInput",["compositionend","keypress","textInput","paste"]);js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DN=new Set("cancel close invalid load scroll toggle".split(" ").concat(_u));function oE(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,TR(r,e,void 0,n),n.currentTarget=null}function QS(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;oE(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;oE(i,a,u),o=l}}}if(Hh)throw n=Lg,Hh=!1,Lg=null,n}function Fe(n,e){var t=e[Hg];t===void 0&&(t=e[Hg]=new Set);var r=n+"__bubble";t.has(r)||(XS(e,n,2,!1),t.add(r))}function Am(n,e,t){var r=0;e&&(r|=4),XS(t,n,r,e)}var Ld="_reactListening"+Math.random().toString(36).slice(2);function rc(n){if(!n[Ld]){n[Ld]=!0,iS.forEach(function(t){t!=="selectionchange"&&(DN.has(t)||Am(t,!1,n),Am(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Ld]||(e[Ld]=!0,Am("selectionchange",!1,e))}}function XS(n,e,t,r){switch(OS(e)){case 1:var i=FR;break;case 4:i=jR;break;default:i=$v}t=i.bind(null,e,t,n),i=void 0,!Mg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function Rm(n,e,t,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=os(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}wS(function(){var u=o,d=Lv(t),h=[];e:{var p=GS.get(n);if(p!==void 0){var m=Bv,v=n;switch(n){case"keypress":if(gh(t)===0)break e;case"keydown":case"keyup":m=eN;break;case"focusin":v="focus",m=Sm;break;case"focusout":v="blur",m=Sm;break;case"beforeblur":case"afterblur":m=Sm;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=K0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=BR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=rN;break;case zS:case HS:case KS:m=zR;break;case qS:m=oN;break;case"scroll":m=$R;break;case"wheel":m=aN;break;case"copy":case"cut":case"paste":m=KR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=G0}var w=(e&4)!==0,D=!w&&n==="scroll",_=w?p!==null?p+"Capture":null:p;w=[];for(var y=u,T;y!==null;){T=y;var P=T.stateNode;if(T.tag===5&&P!==null&&(T=P,_!==null&&(P=Xu(y,_),P!=null&&w.push(ic(y,P,T)))),D)break;y=y.return}0<w.length&&(p=new m(p,v,null,t,d),h.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==Ng&&(v=t.relatedTarget||t.fromElement)&&(os(v)||v[ui]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=t.relatedTarget||t.toElement,m=u,v=v?os(v):null,v!==null&&(D=$s(v),v!==D||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(w=K0,P="onMouseLeave",_="onMouseEnter",y="mouse",(n==="pointerout"||n==="pointerover")&&(w=G0,P="onPointerLeave",_="onPointerEnter",y="pointer"),D=m==null?p:wa(m),T=v==null?p:wa(v),p=new w(P,y+"leave",m,t,d),p.target=D,p.relatedTarget=T,P=null,os(d)===u&&(w=new w(_,y+"enter",v,t,d),w.target=T,w.relatedTarget=D,P=w),D=P,m&&v)t:{for(w=m,_=v,y=0,T=w;T;T=na(T))y++;for(T=0,P=_;P;P=na(P))T++;for(;0<y-T;)w=na(w),y--;for(;0<T-y;)_=na(_),T--;for(;y--;){if(w===_||_!==null&&w===_.alternate)break t;w=na(w),_=na(_)}w=null}else w=null;m!==null&&sE(h,p,m,w,!1),v!==null&&D!==null&&sE(h,D,v,w,!0)}}e:{if(p=u?wa(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var M=pN;else if(J0(p))if($S)M=vN;else{M=gN;var L=mN}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=yN);if(M&&(M=M(n,u))){jS(h,M,t,d);break e}L&&L(n,p,u),n==="focusout"&&(L=p._wrapperState)&&L.controlled&&p.type==="number"&&Cg(p,"number",p.value)}switch(L=u?wa(u):window,n){case"focusin":(J0(L)||L.contentEditable==="true")&&(va=L,$g=u,Mu=null);break;case"focusout":Mu=$g=va=null;break;case"mousedown":Ug=!0;break;case"contextmenu":case"mouseup":case"dragend":Ug=!1,rE(h,t,d);break;case"selectionchange":if(EN)break;case"keydown":case"keyup":rE(h,t,d)}var I;if(Yv)e:{switch(n){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ya?VS(n,t)&&(E="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(E="onCompositionStart");E&&(LS&&t.locale!=="ko"&&(ya||E!=="onCompositionStart"?E==="onCompositionEnd"&&ya&&(I=MS()):(Wi=d,Uv="value"in Wi?Wi.value:Wi.textContent,ya=!0)),L=Xh(u,E),0<L.length&&(E=new q0(E,n,null,t,d),h.push({event:E,listeners:L}),I?E.data=I:(I=FS(t),I!==null&&(E.data=I)))),(I=uN?cN(n,t):dN(n,t))&&(u=Xh(u,"onBeforeInput"),0<u.length&&(d=new q0("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:u}),d.data=I))}QS(h,e)})}function ic(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Xh(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Xu(n,t),o!=null&&r.unshift(ic(n,o,i)),o=Xu(n,e),o!=null&&r.push(ic(n,o,i))),n=n.return}return r}function na(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function sE(n,e,t,r,i){for(var o=e._reactName,s=[];t!==null&&t!==r;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Xu(t,o),l!=null&&s.unshift(ic(t,l,a))):i||(l=Xu(t,o),l!=null&&s.push(ic(t,l,a)))),t=t.return}s.length!==0&&n.push({event:e,listeners:s})}var SN=/\r\n?/g,bN=/\u0000|\uFFFD/g;function aE(n){return(typeof n=="string"?n:""+n).replace(SN,`
`).replace(bN,"")}function Vd(n,e,t){if(e=aE(e),aE(n)!==e&&t)throw Error(W(425))}function Jh(){}var Bg=null,Wg=null;function Yg(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zg=typeof setTimeout=="function"?setTimeout:void 0,kN=typeof clearTimeout=="function"?clearTimeout:void 0,lE=typeof Promise=="function"?Promise:void 0,CN=typeof queueMicrotask=="function"?queueMicrotask:typeof lE<"u"?function(n){return lE.resolve(null).then(n).catch(xN)}:zg;function xN(n){setTimeout(function(){throw n})}function Nm(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),ec(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);ec(e)}function Xi(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function uE(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Dl=Math.random().toString(36).slice(2),vr="__reactFiber$"+Dl,oc="__reactProps$"+Dl,ui="__reactContainer$"+Dl,Hg="__reactEvents$"+Dl,PN="__reactListeners$"+Dl,AN="__reactHandles$"+Dl;function os(n){var e=n[vr];if(e)return e;for(var t=n.parentNode;t;){if(e=t[ui]||t[vr]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=uE(n);n!==null;){if(t=n[vr])return t;n=uE(n)}return e}n=t,t=n.parentNode}return null}function Mc(n){return n=n[vr]||n[ui],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function wa(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(W(33))}function ip(n){return n[oc]||null}var Kg=[],Ea=-1;function Io(n){return{current:n}}function je(n){0>Ea||(n.current=Kg[Ea],Kg[Ea]=null,Ea--)}function Me(n,e){Ea++,Kg[Ea]=n.current,n.current=e}var ho={},Kt=Io(ho),gn=Io(!1),vs=ho;function qa(n,e){var t=n.type.contextTypes;if(!t)return ho;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in t)i[o]=e[o];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function yn(n){return n=n.childContextTypes,n!=null}function Zh(){je(gn),je(Kt)}function cE(n,e,t){if(Kt.current!==ho)throw Error(W(168));Me(Kt,e),Me(gn,t)}function JS(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,mR(n)||"Unknown",i));return Qe({},t,r)}function ef(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ho,vs=Kt.current,Me(Kt,n),Me(gn,gn.current),!0}function dE(n,e,t){var r=n.stateNode;if(!r)throw Error(W(169));t?(n=JS(n,e,vs),r.__reactInternalMemoizedMergedChildContext=n,je(gn),je(Kt),Me(Kt,n)):je(gn),Me(gn,t)}var Kr=null,op=!1,Om=!1;function ZS(n){Kr===null?Kr=[n]:Kr.push(n)}function RN(n){op=!0,ZS(n)}function Do(){if(!Om&&Kr!==null){Om=!0;var n=0,e=xe;try{var t=Kr;for(xe=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Kr=null,op=!1}catch(i){throw Kr!==null&&(Kr=Kr.slice(n+1)),DS(Vv,Do),i}finally{xe=e,Om=!1}}return null}var Ta=[],Ia=0,tf=null,nf=0,Fn=[],jn=0,_s=null,Xr=1,Jr="";function Ko(n,e){Ta[Ia++]=nf,Ta[Ia++]=tf,tf=n,nf=e}function eb(n,e,t){Fn[jn++]=Xr,Fn[jn++]=Jr,Fn[jn++]=_s,_s=n;var r=Xr;n=Jr;var i=32-er(r)-1;r&=~(1<<i),t+=1;var o=32-er(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Xr=1<<32-er(e)+i|t<<i|r,Jr=o+n}else Xr=1<<o|t<<i|r,Jr=n}function Hv(n){n.return!==null&&(Ko(n,1),eb(n,1,0))}function Kv(n){for(;n===tf;)tf=Ta[--Ia],Ta[Ia]=null,nf=Ta[--Ia],Ta[Ia]=null;for(;n===_s;)_s=Fn[--jn],Fn[jn]=null,Jr=Fn[--jn],Fn[jn]=null,Xr=Fn[--jn],Fn[jn]=null}var xn=null,kn=null,Ue=!1,Zn=null;function tb(n,e){var t=$n(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function hE(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,xn=n,kn=Xi(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,xn=n,kn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=_s!==null?{id:Xr,overflow:Jr}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=$n(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,xn=n,kn=null,!0):!1;default:return!1}}function qg(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Gg(n){if(Ue){var e=kn;if(e){var t=e;if(!hE(n,e)){if(qg(n))throw Error(W(418));e=Xi(t.nextSibling);var r=xn;e&&hE(n,e)?tb(r,t):(n.flags=n.flags&-4097|2,Ue=!1,xn=n)}}else{if(qg(n))throw Error(W(418));n.flags=n.flags&-4097|2,Ue=!1,xn=n}}}function fE(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;xn=n}function Fd(n){if(n!==xn)return!1;if(!Ue)return fE(n),Ue=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Yg(n.type,n.memoizedProps)),e&&(e=kn)){if(qg(n))throw nb(),Error(W(418));for(;e;)tb(n,e),e=Xi(e.nextSibling)}if(fE(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(W(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){kn=Xi(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}kn=null}}else kn=xn?Xi(n.stateNode.nextSibling):null;return!0}function nb(){for(var n=kn;n;)n=Xi(n.nextSibling)}function Ga(){kn=xn=null,Ue=!1}function qv(n){Zn===null?Zn=[n]:Zn.push(n)}var NN=vi.ReactCurrentBatchConfig;function nu(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(W(309));var r=t.stateNode}if(!r)throw Error(W(147,n));var i=r,o=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof n!="string")throw Error(W(284));if(!t._owner)throw Error(W(290,n))}return n}function jd(n,e){throw n=Object.prototype.toString.call(e),Error(W(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function pE(n){var e=n._init;return e(n._payload)}function rb(n){function e(_,y){if(n){var T=_.deletions;T===null?(_.deletions=[y],_.flags|=16):T.push(y)}}function t(_,y){if(!n)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function i(_,y){return _=to(_,y),_.index=0,_.sibling=null,_}function o(_,y,T){return _.index=T,n?(T=_.alternate,T!==null?(T=T.index,T<y?(_.flags|=2,y):T):(_.flags|=2,y)):(_.flags|=1048576,y)}function s(_){return n&&_.alternate===null&&(_.flags|=2),_}function a(_,y,T,P){return y===null||y.tag!==6?(y=Um(T,_.mode,P),y.return=_,y):(y=i(y,T),y.return=_,y)}function l(_,y,T,P){var M=T.type;return M===ga?d(_,y,T.props.children,P,T.key):y!==null&&(y.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ai&&pE(M)===y.type)?(P=i(y,T.props),P.ref=nu(_,y,T),P.return=_,P):(P=Ih(T.type,T.key,T.props,null,_.mode,P),P.ref=nu(_,y,T),P.return=_,P)}function u(_,y,T,P){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=Bm(T,_.mode,P),y.return=_,y):(y=i(y,T.children||[]),y.return=_,y)}function d(_,y,T,P,M){return y===null||y.tag!==7?(y=cs(T,_.mode,P,M),y.return=_,y):(y=i(y,T),y.return=_,y)}function h(_,y,T){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Um(""+y,_.mode,T),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Cd:return T=Ih(y.type,y.key,y.props,null,_.mode,T),T.ref=nu(_,null,y),T.return=_,T;case ma:return y=Bm(y,_.mode,T),y.return=_,y;case Ai:var P=y._init;return h(_,P(y._payload),T)}if(yu(y)||Xl(y))return y=cs(y,_.mode,T,null),y.return=_,y;jd(_,y)}return null}function p(_,y,T,P){var M=y!==null?y.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return M!==null?null:a(_,y,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Cd:return T.key===M?l(_,y,T,P):null;case ma:return T.key===M?u(_,y,T,P):null;case Ai:return M=T._init,p(_,y,M(T._payload),P)}if(yu(T)||Xl(T))return M!==null?null:d(_,y,T,P,null);jd(_,T)}return null}function m(_,y,T,P,M){if(typeof P=="string"&&P!==""||typeof P=="number")return _=_.get(T)||null,a(y,_,""+P,M);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Cd:return _=_.get(P.key===null?T:P.key)||null,l(y,_,P,M);case ma:return _=_.get(P.key===null?T:P.key)||null,u(y,_,P,M);case Ai:var L=P._init;return m(_,y,T,L(P._payload),M)}if(yu(P)||Xl(P))return _=_.get(T)||null,d(y,_,P,M,null);jd(y,P)}return null}function v(_,y,T,P){for(var M=null,L=null,I=y,E=y=0,b=null;I!==null&&E<T.length;E++){I.index>E?(b=I,I=null):b=I.sibling;var k=p(_,I,T[E],P);if(k===null){I===null&&(I=b);break}n&&I&&k.alternate===null&&e(_,I),y=o(k,y,E),L===null?M=k:L.sibling=k,L=k,I=b}if(E===T.length)return t(_,I),Ue&&Ko(_,E),M;if(I===null){for(;E<T.length;E++)I=h(_,T[E],P),I!==null&&(y=o(I,y,E),L===null?M=I:L.sibling=I,L=I);return Ue&&Ko(_,E),M}for(I=r(_,I);E<T.length;E++)b=m(I,_,E,T[E],P),b!==null&&(n&&b.alternate!==null&&I.delete(b.key===null?E:b.key),y=o(b,y,E),L===null?M=b:L.sibling=b,L=b);return n&&I.forEach(function(A){return e(_,A)}),Ue&&Ko(_,E),M}function w(_,y,T,P){var M=Xl(T);if(typeof M!="function")throw Error(W(150));if(T=M.call(T),T==null)throw Error(W(151));for(var L=M=null,I=y,E=y=0,b=null,k=T.next();I!==null&&!k.done;E++,k=T.next()){I.index>E?(b=I,I=null):b=I.sibling;var A=p(_,I,k.value,P);if(A===null){I===null&&(I=b);break}n&&I&&A.alternate===null&&e(_,I),y=o(A,y,E),L===null?M=A:L.sibling=A,L=A,I=b}if(k.done)return t(_,I),Ue&&Ko(_,E),M;if(I===null){for(;!k.done;E++,k=T.next())k=h(_,k.value,P),k!==null&&(y=o(k,y,E),L===null?M=k:L.sibling=k,L=k);return Ue&&Ko(_,E),M}for(I=r(_,I);!k.done;E++,k=T.next())k=m(I,_,E,k.value,P),k!==null&&(n&&k.alternate!==null&&I.delete(k.key===null?E:k.key),y=o(k,y,E),L===null?M=k:L.sibling=k,L=k);return n&&I.forEach(function(O){return e(_,O)}),Ue&&Ko(_,E),M}function D(_,y,T,P){if(typeof T=="object"&&T!==null&&T.type===ga&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Cd:e:{for(var M=T.key,L=y;L!==null;){if(L.key===M){if(M=T.type,M===ga){if(L.tag===7){t(_,L.sibling),y=i(L,T.props.children),y.return=_,_=y;break e}}else if(L.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ai&&pE(M)===L.type){t(_,L.sibling),y=i(L,T.props),y.ref=nu(_,L,T),y.return=_,_=y;break e}t(_,L);break}else e(_,L);L=L.sibling}T.type===ga?(y=cs(T.props.children,_.mode,P,T.key),y.return=_,_=y):(P=Ih(T.type,T.key,T.props,null,_.mode,P),P.ref=nu(_,y,T),P.return=_,_=P)}return s(_);case ma:e:{for(L=T.key;y!==null;){if(y.key===L)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){t(_,y.sibling),y=i(y,T.children||[]),y.return=_,_=y;break e}else{t(_,y);break}else e(_,y);y=y.sibling}y=Bm(T,_.mode,P),y.return=_,_=y}return s(_);case Ai:return L=T._init,D(_,y,L(T._payload),P)}if(yu(T))return v(_,y,T,P);if(Xl(T))return w(_,y,T,P);jd(_,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,y!==null&&y.tag===6?(t(_,y.sibling),y=i(y,T),y.return=_,_=y):(t(_,y),y=Um(T,_.mode,P),y.return=_,_=y),s(_)):t(_,y)}return D}var Qa=rb(!0),ib=rb(!1),rf=Io(null),of=null,Da=null,Gv=null;function Qv(){Gv=Da=of=null}function Xv(n){var e=rf.current;je(rf),n._currentValue=e}function Qg(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function La(n,e){of=n,Gv=Da=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(hn=!0),n.firstContext=null)}function Yn(n){var e=n._currentValue;if(Gv!==n)if(n={context:n,memoizedValue:e,next:null},Da===null){if(of===null)throw Error(W(308));Da=n,of.dependencies={lanes:0,firstContext:n}}else Da=Da.next=n;return e}var ss=null;function Jv(n){ss===null?ss=[n]:ss.push(n)}function ob(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,Jv(e)):(t.next=i.next,i.next=t),e.interleaved=t,ci(n,r)}function ci(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Ri=!1;function Zv(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sb(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ri(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Ji(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ci(n,t)}return i=r.interleaved,i===null?(e.next=e,Jv(r)):(e.next=i.next,i.next=e),r.interleaved=e,ci(n,t)}function yh(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,Fv(n,t)}}function mE(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var s={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};o===null?i=o=s:o=o.next=s,t=t.next}while(t!==null);o===null?i=o=e:o=o.next=e}else i=o=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function sf(n,e,t,r){var i=n.updateQueue;Ri=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,d=u=l=null,a=o;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,w=a;switch(p=e,m=t,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(m,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,p=typeof v=="function"?v.call(m,h,p):v,p==null)break e;h=Qe({},h,p);break e;case 2:Ri=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,s|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Es|=s,n.lanes=s,n.memoizedState=h}}function gE(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var Lc={},Sr=Io(Lc),sc=Io(Lc),ac=Io(Lc);function as(n){if(n===Lc)throw Error(W(174));return n}function e_(n,e){switch(Me(ac,e),Me(sc,n),Me(Sr,Lc),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Pg(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Pg(e,n)}je(Sr),Me(Sr,e)}function Xa(){je(Sr),je(sc),je(ac)}function ab(n){as(ac.current);var e=as(Sr.current),t=Pg(e,n.type);e!==t&&(Me(sc,n),Me(Sr,t))}function t_(n){sc.current===n&&(je(Sr),je(sc))}var ze=Io(0);function af(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mm=[];function n_(){for(var n=0;n<Mm.length;n++)Mm[n]._workInProgressVersionPrimary=null;Mm.length=0}var vh=vi.ReactCurrentDispatcher,Lm=vi.ReactCurrentBatchConfig,ws=0,qe=null,vt=null,St=null,lf=!1,Lu=!1,lc=0,ON=0;function Bt(){throw Error(W(321))}function r_(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!nr(n[t],e[t]))return!1;return!0}function i_(n,e,t,r,i,o){if(ws=o,qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vh.current=n===null||n.memoizedState===null?FN:jN,n=t(r,i),Lu){o=0;do{if(Lu=!1,lc=0,25<=o)throw Error(W(301));o+=1,St=vt=null,e.updateQueue=null,vh.current=$N,n=t(r,i)}while(Lu)}if(vh.current=uf,e=vt!==null&&vt.next!==null,ws=0,St=vt=qe=null,lf=!1,e)throw Error(W(300));return n}function o_(){var n=lc!==0;return lc=0,n}function mr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?qe.memoizedState=St=n:St=St.next=n,St}function zn(){if(vt===null){var n=qe.alternate;n=n!==null?n.memoizedState:null}else n=vt.next;var e=St===null?qe.memoizedState:St.next;if(e!==null)St=e,vt=n;else{if(n===null)throw Error(W(310));vt=n,n={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},St===null?qe.memoizedState=St=n:St=St.next=n}return St}function uc(n,e){return typeof e=="function"?e(n):e}function Vm(n){var e=zn(),t=e.queue;if(t===null)throw Error(W(311));t.lastRenderedReducer=n;var r=vt,i=r.baseQueue,o=t.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,t.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var d=u.lane;if((ws&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,qe.lanes|=d,Es|=d}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,nr(r,e.memoizedState)||(hn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do o=i.lane,qe.lanes|=o,Es|=o,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Fm(n){var e=zn(),t=e.queue;if(t===null)throw Error(W(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,o=e.memoizedState;if(i!==null){t.pending=null;var s=i=i.next;do o=n(o,s.action),s=s.next;while(s!==i);nr(o,e.memoizedState)||(hn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,r]}function lb(){}function ub(n,e){var t=qe,r=zn(),i=e(),o=!nr(r.memoizedState,i);if(o&&(r.memoizedState=i,hn=!0),r=r.queue,s_(hb.bind(null,t,r,n),[n]),r.getSnapshot!==e||o||St!==null&&St.memoizedState.tag&1){if(t.flags|=2048,cc(9,db.bind(null,t,r,i,e),void 0,null),bt===null)throw Error(W(349));ws&30||cb(t,e,i)}return i}function cb(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function db(n,e,t,r){e.value=t,e.getSnapshot=r,fb(e)&&pb(n)}function hb(n,e,t){return t(function(){fb(e)&&pb(n)})}function fb(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!nr(n,t)}catch{return!0}}function pb(n){var e=ci(n,1);e!==null&&tr(e,n,1,-1)}function yE(n){var e=mr();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uc,lastRenderedState:n},e.queue=n,n=n.dispatch=VN.bind(null,qe,n),[e.memoizedState,n]}function cc(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function mb(){return zn().memoizedState}function _h(n,e,t,r){var i=mr();qe.flags|=n,i.memoizedState=cc(1|e,t,void 0,r===void 0?null:r)}function sp(n,e,t,r){var i=zn();r=r===void 0?null:r;var o=void 0;if(vt!==null){var s=vt.memoizedState;if(o=s.destroy,r!==null&&r_(r,s.deps)){i.memoizedState=cc(e,t,o,r);return}}qe.flags|=n,i.memoizedState=cc(1|e,t,o,r)}function vE(n,e){return _h(8390656,8,n,e)}function s_(n,e){return sp(2048,8,n,e)}function gb(n,e){return sp(4,2,n,e)}function yb(n,e){return sp(4,4,n,e)}function vb(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function _b(n,e,t){return t=t!=null?t.concat([n]):null,sp(4,4,vb.bind(null,e,n),t)}function a_(){}function wb(n,e){var t=zn();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&r_(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function Eb(n,e){var t=zn();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&r_(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function Tb(n,e,t){return ws&21?(nr(t,e)||(t=kS(),qe.lanes|=t,Es|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,hn=!0),n.memoizedState=t)}function MN(n,e){var t=xe;xe=t!==0&&4>t?t:4,n(!0);var r=Lm.transition;Lm.transition={};try{n(!1),e()}finally{xe=t,Lm.transition=r}}function Ib(){return zn().memoizedState}function LN(n,e,t){var r=eo(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},Db(n))Sb(e,t);else if(t=ob(n,e,t,r),t!==null){var i=nn();tr(t,n,r,i),bb(t,e,r)}}function VN(n,e,t){var r=eo(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(Db(n))Sb(e,i);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,t);if(i.hasEagerState=!0,i.eagerState=a,nr(a,s)){var l=e.interleaved;l===null?(i.next=i,Jv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=ob(n,e,i,r),t!==null&&(i=nn(),tr(t,n,r,i),bb(t,e,r))}}function Db(n){var e=n.alternate;return n===qe||e!==null&&e===qe}function Sb(n,e){Lu=lf=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function bb(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,Fv(n,t)}}var uf={readContext:Yn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},FN={readContext:Yn,useCallback:function(n,e){return mr().memoizedState=[n,e===void 0?null:e],n},useContext:Yn,useEffect:vE,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,_h(4194308,4,vb.bind(null,e,n),t)},useLayoutEffect:function(n,e){return _h(4194308,4,n,e)},useInsertionEffect:function(n,e){return _h(4,2,n,e)},useMemo:function(n,e){var t=mr();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=mr();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=LN.bind(null,qe,n),[r.memoizedState,n]},useRef:function(n){var e=mr();return n={current:n},e.memoizedState=n},useState:yE,useDebugValue:a_,useDeferredValue:function(n){return mr().memoizedState=n},useTransition:function(){var n=yE(!1),e=n[0];return n=MN.bind(null,n[1]),mr().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=qe,i=mr();if(Ue){if(t===void 0)throw Error(W(407));t=t()}else{if(t=e(),bt===null)throw Error(W(349));ws&30||cb(r,e,t)}i.memoizedState=t;var o={value:t,getSnapshot:e};return i.queue=o,vE(hb.bind(null,r,o,n),[n]),r.flags|=2048,cc(9,db.bind(null,r,o,t,e),void 0,null),t},useId:function(){var n=mr(),e=bt.identifierPrefix;if(Ue){var t=Jr,r=Xr;t=(r&~(1<<32-er(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=lc++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=ON++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},jN={readContext:Yn,useCallback:wb,useContext:Yn,useEffect:s_,useImperativeHandle:_b,useInsertionEffect:gb,useLayoutEffect:yb,useMemo:Eb,useReducer:Vm,useRef:mb,useState:function(){return Vm(uc)},useDebugValue:a_,useDeferredValue:function(n){var e=zn();return Tb(e,vt.memoizedState,n)},useTransition:function(){var n=Vm(uc)[0],e=zn().memoizedState;return[n,e]},useMutableSource:lb,useSyncExternalStore:ub,useId:Ib,unstable_isNewReconciler:!1},$N={readContext:Yn,useCallback:wb,useContext:Yn,useEffect:s_,useImperativeHandle:_b,useInsertionEffect:gb,useLayoutEffect:yb,useMemo:Eb,useReducer:Fm,useRef:mb,useState:function(){return Fm(uc)},useDebugValue:a_,useDeferredValue:function(n){var e=zn();return vt===null?e.memoizedState=n:Tb(e,vt.memoizedState,n)},useTransition:function(){var n=Fm(uc)[0],e=zn().memoizedState;return[n,e]},useMutableSource:lb,useSyncExternalStore:ub,useId:Ib,unstable_isNewReconciler:!1};function Xn(n,e){if(n&&n.defaultProps){e=Qe({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Xg(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Qe({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var ap={isMounted:function(n){return(n=n._reactInternals)?$s(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=nn(),i=eo(n),o=ri(r,i);o.payload=e,t!=null&&(o.callback=t),e=Ji(n,o,i),e!==null&&(tr(e,n,i,r),yh(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=nn(),i=eo(n),o=ri(r,i);o.tag=1,o.payload=e,t!=null&&(o.callback=t),e=Ji(n,o,i),e!==null&&(tr(e,n,i,r),yh(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=nn(),r=eo(n),i=ri(t,r);i.tag=2,e!=null&&(i.callback=e),e=Ji(n,i,r),e!==null&&(tr(e,n,r,t),yh(e,n,r))}};function _E(n,e,t,r,i,o,s){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!nc(t,r)||!nc(i,o):!0}function kb(n,e,t){var r=!1,i=ho,o=e.contextType;return typeof o=="object"&&o!==null?o=Yn(o):(i=yn(e)?vs:Kt.current,r=e.contextTypes,o=(r=r!=null)?qa(n,i):ho),e=new e(t,o),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ap,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=o),e}function wE(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&ap.enqueueReplaceState(e,e.state,null)}function Jg(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},Zv(n);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Yn(o):(o=yn(e)?vs:Kt.current,i.context=qa(n,o)),i.state=n.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Xg(n,e,o,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ap.enqueueReplaceState(i,i.state,null),sf(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Ja(n,e){try{var t="",r=e;do t+=pR(r),r=r.return;while(r);var i=t}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:e,stack:i,digest:null}}function jm(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Zg(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var UN=typeof WeakMap=="function"?WeakMap:Map;function Cb(n,e,t){t=ri(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){df||(df=!0,uy=r),Zg(n,e)},t}function xb(n,e,t){t=ri(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){Zg(n,e)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){Zg(n,e),typeof r!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),t}function EE(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new UN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=tO.bind(null,n,e,t),e.then(n,n))}function TE(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function IE(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=ri(-1,1),e.tag=2,Ji(t,e,1))),t.lanes|=1),n)}var BN=vi.ReactCurrentOwner,hn=!1;function Xt(n,e,t,r){e.child=n===null?ib(e,null,t,r):Qa(e,n.child,t,r)}function DE(n,e,t,r,i){t=t.render;var o=e.ref;return La(e,i),r=i_(n,e,t,r,o,i),t=o_(),n!==null&&!hn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,di(n,e,i)):(Ue&&t&&Hv(e),e.flags|=1,Xt(n,e,r,i),e.child)}function SE(n,e,t,r,i){if(n===null){var o=t.type;return typeof o=="function"&&!m_(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=o,Pb(n,e,o,r,i)):(n=Ih(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(o=n.child,!(n.lanes&i)){var s=o.memoizedProps;if(t=t.compare,t=t!==null?t:nc,t(s,r)&&n.ref===e.ref)return di(n,e,i)}return e.flags|=1,n=to(o,r),n.ref=e.ref,n.return=e,e.child=n}function Pb(n,e,t,r,i){if(n!==null){var o=n.memoizedProps;if(nc(o,r)&&n.ref===e.ref)if(hn=!1,e.pendingProps=r=o,(n.lanes&i)!==0)n.flags&131072&&(hn=!0);else return e.lanes=n.lanes,di(n,e,i)}return ey(n,e,t,r,i)}function Ab(n,e,t){var r=e.pendingProps,i=r.children,o=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(ba,Sn),Sn|=t;else{if(!(t&1073741824))return n=o!==null?o.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Me(ba,Sn),Sn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:t,Me(ba,Sn),Sn|=r}else o!==null?(r=o.baseLanes|t,e.memoizedState=null):r=t,Me(ba,Sn),Sn|=r;return Xt(n,e,i,t),e.child}function Rb(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function ey(n,e,t,r,i){var o=yn(t)?vs:Kt.current;return o=qa(e,o),La(e,i),t=i_(n,e,t,r,o,i),r=o_(),n!==null&&!hn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,di(n,e,i)):(Ue&&r&&Hv(e),e.flags|=1,Xt(n,e,t,i),e.child)}function bE(n,e,t,r,i){if(yn(t)){var o=!0;ef(e)}else o=!1;if(La(e,i),e.stateNode===null)wh(n,e),kb(e,t,r),Jg(e,t,r,i),r=!0;else if(n===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=t.contextType;typeof u=="object"&&u!==null?u=Yn(u):(u=yn(t)?vs:Kt.current,u=qa(e,u));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&wE(e,s,r,u),Ri=!1;var p=e.memoizedState;s.state=p,sf(e,r,s,i),l=e.memoizedState,a!==r||p!==l||gn.current||Ri?(typeof d=="function"&&(Xg(e,t,d,r),l=e.memoizedState),(a=Ri||_E(e,t,a,r,p,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,sb(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:Xn(e.type,a),s.props=u,h=e.pendingProps,p=s.context,l=t.contextType,typeof l=="object"&&l!==null?l=Yn(l):(l=yn(t)?vs:Kt.current,l=qa(e,l));var m=t.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||p!==l)&&wE(e,s,r,l),Ri=!1,p=e.memoizedState,s.state=p,sf(e,r,s,i);var v=e.memoizedState;a!==h||p!==v||gn.current||Ri?(typeof m=="function"&&(Xg(e,t,m,r),v=e.memoizedState),(u=Ri||_E(e,t,u,r,p,v,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return ty(n,e,t,r,o,i)}function ty(n,e,t,r,i,o){Rb(n,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&dE(e,t,!1),di(n,e,o);r=e.stateNode,BN.current=e;var a=s&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&s?(e.child=Qa(e,n.child,null,o),e.child=Qa(e,null,a,o)):Xt(n,e,a,o),e.memoizedState=r.state,i&&dE(e,t,!0),e.child}function Nb(n){var e=n.stateNode;e.pendingContext?cE(n,e.pendingContext,e.pendingContext!==e.context):e.context&&cE(n,e.context,!1),e_(n,e.containerInfo)}function kE(n,e,t,r,i){return Ga(),qv(i),e.flags|=256,Xt(n,e,t,r),e.child}var ny={dehydrated:null,treeContext:null,retryLane:0};function ry(n){return{baseLanes:n,cachePool:null,transitions:null}}function Ob(n,e,t){var r=e.pendingProps,i=ze.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Me(ze,i&1),n===null)return Gg(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,n=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=cp(s,r,0,null),n=cs(n,r,t,null),o.return=e,n.return=e,o.sibling=n,e.child=o,e.child.memoizedState=ry(t),e.memoizedState=ny,n):l_(e,s));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return WN(n,e,s,r,a,i,t);if(o){o=r.fallback,s=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=to(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=to(a,o):(o=cs(o,s,t,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=n.child.memoizedState,s=s===null?ry(t):{baseLanes:s.baseLanes|t,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=n.childLanes&~t,e.memoizedState=ny,r}return o=n.child,n=o.sibling,r=to(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function l_(n,e){return e=cp({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function $d(n,e,t,r){return r!==null&&qv(r),Qa(e,n.child,null,t),n=l_(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function WN(n,e,t,r,i,o,s){if(t)return e.flags&256?(e.flags&=-257,r=jm(Error(W(422))),$d(n,e,s,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=cp({mode:"visible",children:r.children},i,0,null),o=cs(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Qa(e,n.child,null,s),e.child.memoizedState=ry(s),e.memoizedState=ny,o);if(!(e.mode&1))return $d(n,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(W(419)),r=jm(o,r,void 0),$d(n,e,s,r)}if(a=(s&n.childLanes)!==0,hn||a){if(r=bt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ci(n,i),tr(r,n,i,-1))}return p_(),r=jm(Error(W(421))),$d(n,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=nO.bind(null,n),i._reactRetry=e,null):(n=o.treeContext,kn=Xi(i.nextSibling),xn=e,Ue=!0,Zn=null,n!==null&&(Fn[jn++]=Xr,Fn[jn++]=Jr,Fn[jn++]=_s,Xr=n.id,Jr=n.overflow,_s=e),e=l_(e,r.children),e.flags|=4096,e)}function CE(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),Qg(n.return,e,t)}function $m(n,e,t,r,i){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=t,o.tailMode=i)}function Mb(n,e,t){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Xt(n,e,r.children,t),r=ze.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&CE(n,t,e);else if(n.tag===19)CE(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Me(ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&af(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),$m(e,!1,i,t,o);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&af(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}$m(e,!0,t,null,o);break;case"together":$m(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wh(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function di(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Es|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(W(153));if(e.child!==null){for(n=e.child,t=to(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=to(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function YN(n,e,t){switch(e.tag){case 3:Nb(e),Ga();break;case 5:ab(e);break;case 1:yn(e.type)&&ef(e);break;case 4:e_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Me(rf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Me(ze,ze.current&1),e.flags|=128,null):t&e.child.childLanes?Ob(n,e,t):(Me(ze,ze.current&1),n=di(n,e,t),n!==null?n.sibling:null);Me(ze,ze.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return Mb(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Me(ze,ze.current),r)break;return null;case 22:case 23:return e.lanes=0,Ab(n,e,t)}return di(n,e,t)}var Lb,iy,Vb,Fb;Lb=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};iy=function(){};Vb=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,as(Sr.current);var o=null;switch(t){case"input":i=bg(n,i),r=bg(n,r),o=[];break;case"select":i=Qe({},i,{value:void 0}),r=Qe({},r,{value:void 0}),o=[];break;case"textarea":i=xg(n,i),r=xg(n,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Jh)}Ag(t,r);var s;t=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(t||(t={}),t[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(t||(t={}),t[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(t||(t={}),t[s]=l[s])}else t||(o||(o=[]),o.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Gu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Fe("scroll",n),o||a===l||(o=[])):(o=o||[]).push(u,l))}t&&(o=o||[]).push("style",t);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};Fb=function(n,e,t,r){t!==r&&(e.flags|=4)};function ru(n,e){if(!Ue)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Wt(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function zN(n,e,t){var r=e.pendingProps;switch(Kv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return yn(e.type)&&Zh(),Wt(e),null;case 3:return r=e.stateNode,Xa(),je(gn),je(Kt),n_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Fd(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zn!==null&&(hy(Zn),Zn=null))),iy(n,e),Wt(e),null;case 5:t_(e);var i=as(ac.current);if(t=e.type,n!==null&&e.stateNode!=null)Vb(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Wt(e),null}if(n=as(Sr.current),Fd(e)){r=e.stateNode,t=e.type;var o=e.memoizedProps;switch(r[vr]=e,r[oc]=o,n=(e.mode&1)!==0,t){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(i=0;i<_u.length;i++)Fe(_u[i],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":V0(r,o),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fe("invalid",r);break;case"textarea":j0(r,o),Fe("invalid",r)}Ag(t,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Vd(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Vd(r.textContent,a,n),i=["children",""+a]):Gu.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Fe("scroll",r)}switch(t){case"input":xd(r),F0(r,o,!0);break;case"textarea":xd(r),$0(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Jh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=hS(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=s.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=s.createElement(t,{is:r.is}):(n=s.createElement(t),t==="select"&&(s=n,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):n=s.createElementNS(n,t),n[vr]=e,n[oc]=r,Lb(n,e,!1,!1),e.stateNode=n;e:{switch(s=Rg(t,r),t){case"dialog":Fe("cancel",n),Fe("close",n),i=r;break;case"iframe":case"object":case"embed":Fe("load",n),i=r;break;case"video":case"audio":for(i=0;i<_u.length;i++)Fe(_u[i],n);i=r;break;case"source":Fe("error",n),i=r;break;case"img":case"image":case"link":Fe("error",n),Fe("load",n),i=r;break;case"details":Fe("toggle",n),i=r;break;case"input":V0(n,r),i=bg(n,r),Fe("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Qe({},r,{value:void 0}),Fe("invalid",n);break;case"textarea":j0(n,r),i=xg(n,r),Fe("invalid",n);break;default:i=r}Ag(t,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?mS(n,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&fS(n,l)):o==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Qu(n,l):typeof l=="number"&&Qu(n,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Gu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Fe("scroll",n):l!=null&&Rv(n,o,l,s))}switch(t){case"input":xd(n),F0(n,r,!1);break;case"textarea":xd(n),$0(n);break;case"option":r.value!=null&&n.setAttribute("value",""+co(r.value));break;case"select":n.multiple=!!r.multiple,o=r.value,o!=null?Ra(n,!!r.multiple,o,!1):r.defaultValue!=null&&Ra(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Jh)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wt(e),null;case 6:if(n&&e.stateNode!=null)Fb(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(t=as(ac.current),as(Sr.current),Fd(e)){if(r=e.stateNode,t=e.memoizedProps,r[vr]=e,(o=r.nodeValue!==t)&&(n=xn,n!==null))switch(n.tag){case 3:Vd(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Vd(r.nodeValue,t,(n.mode&1)!==0)}o&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[vr]=e,e.stateNode=r}return Wt(e),null;case 13:if(je(ze),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ue&&kn!==null&&e.mode&1&&!(e.flags&128))nb(),Ga(),e.flags|=98560,o=!1;else if(o=Fd(e),r!==null&&r.dehydrated!==null){if(n===null){if(!o)throw Error(W(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(W(317));o[vr]=e}else Ga(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wt(e),o=!1}else Zn!==null&&(hy(Zn),Zn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||ze.current&1?_t===0&&(_t=3):p_())),e.updateQueue!==null&&(e.flags|=4),Wt(e),null);case 4:return Xa(),iy(n,e),n===null&&rc(e.stateNode.containerInfo),Wt(e),null;case 10:return Xv(e.type._context),Wt(e),null;case 17:return yn(e.type)&&Zh(),Wt(e),null;case 19:if(je(ze),o=e.memoizedState,o===null)return Wt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)ru(o,!1);else{if(_t!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(s=af(n),s!==null){for(e.flags|=128,ru(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)o=t,n=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=n,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,n=s.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Me(ze,ze.current&1|2),e.child}n=n.sibling}o.tail!==null&&at()>Za&&(e.flags|=128,r=!0,ru(o,!1),e.lanes=4194304)}else{if(!r)if(n=af(s),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),ru(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ue)return Wt(e),null}else 2*at()-o.renderingStartTime>Za&&t!==1073741824&&(e.flags|=128,r=!0,ru(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(t=o.last,t!==null?t.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=at(),e.sibling=null,t=ze.current,Me(ze,r?t&1|2:t&1),e):(Wt(e),null);case 22:case 23:return f_(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Sn&1073741824&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function HN(n,e){switch(Kv(e),e.tag){case 1:return yn(e.type)&&Zh(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Xa(),je(gn),je(Kt),n_(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return t_(e),null;case 13:if(je(ze),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Ga()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return je(ze),null;case 4:return Xa(),null;case 10:return Xv(e.type._context),null;case 22:case 23:return f_(),null;case 24:return null;default:return null}}var Ud=!1,zt=!1,KN=typeof WeakSet=="function"?WeakSet:Set,J=null;function Sa(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){et(n,e,r)}else t.current=null}function oy(n,e,t){try{t()}catch(r){et(n,e,r)}}var xE=!1;function qN(n,e){if(Bg=Gh,n=WS(),zv(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break e}var s=0,a=-1,l=-1,u=0,d=0,h=n,p=null;t:for(;;){for(var m;h!==t||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===n)break t;if(p===t&&++u===i&&(a=s),p===o&&++d===r&&(l=s),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(Wg={focusedElem:n,selectionRange:t},Gh=!1,J=e;J!==null;)if(e=J,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,J=n;else for(;J!==null;){e=J;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,D=v.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?w:Xn(e.type,w),D);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(P){et(e,e.return,P)}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}return v=xE,xE=!1,v}function Vu(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var o=i.destroy;i.destroy=void 0,o!==void 0&&oy(e,t,o)}i=i.next}while(i!==r)}}function lp(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function sy(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function jb(n){var e=n.alternate;e!==null&&(n.alternate=null,jb(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[vr],delete e[oc],delete e[Hg],delete e[PN],delete e[AN])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function $b(n){return n.tag===5||n.tag===3||n.tag===4}function PE(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||$b(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ay(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Jh));else if(r!==4&&(n=n.child,n!==null))for(ay(n,e,t),n=n.sibling;n!==null;)ay(n,e,t),n=n.sibling}function ly(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(ly(n,e,t),n=n.sibling;n!==null;)ly(n,e,t),n=n.sibling}var Nt=null,Jn=!1;function bi(n,e,t){for(t=t.child;t!==null;)Ub(n,e,t),t=t.sibling}function Ub(n,e,t){if(Dr&&typeof Dr.onCommitFiberUnmount=="function")try{Dr.onCommitFiberUnmount(ep,t)}catch{}switch(t.tag){case 5:zt||Sa(t,e);case 6:var r=Nt,i=Jn;Nt=null,bi(n,e,t),Nt=r,Jn=i,Nt!==null&&(Jn?(n=Nt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Nt.removeChild(t.stateNode));break;case 18:Nt!==null&&(Jn?(n=Nt,t=t.stateNode,n.nodeType===8?Nm(n.parentNode,t):n.nodeType===1&&Nm(n,t),ec(n)):Nm(Nt,t.stateNode));break;case 4:r=Nt,i=Jn,Nt=t.stateNode.containerInfo,Jn=!0,bi(n,e,t),Nt=r,Jn=i;break;case 0:case 11:case 14:case 15:if(!zt&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&oy(t,e,s),i=i.next}while(i!==r)}bi(n,e,t);break;case 1:if(!zt&&(Sa(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){et(t,e,a)}bi(n,e,t);break;case 21:bi(n,e,t);break;case 22:t.mode&1?(zt=(r=zt)||t.memoizedState!==null,bi(n,e,t),zt=r):bi(n,e,t);break;default:bi(n,e,t)}}function AE(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new KN),e.forEach(function(r){var i=rO.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Qn(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var o=n,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Nt=a.stateNode,Jn=!1;break e;case 3:Nt=a.stateNode.containerInfo,Jn=!0;break e;case 4:Nt=a.stateNode.containerInfo,Jn=!0;break e}a=a.return}if(Nt===null)throw Error(W(160));Ub(o,s,i),Nt=null,Jn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){et(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Bb(e,n),e=e.sibling}function Bb(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Qn(e,n),dr(n),r&4){try{Vu(3,n,n.return),lp(3,n)}catch(w){et(n,n.return,w)}try{Vu(5,n,n.return)}catch(w){et(n,n.return,w)}}break;case 1:Qn(e,n),dr(n),r&512&&t!==null&&Sa(t,t.return);break;case 5:if(Qn(e,n),dr(n),r&512&&t!==null&&Sa(t,t.return),n.flags&32){var i=n.stateNode;try{Qu(i,"")}catch(w){et(n,n.return,w)}}if(r&4&&(i=n.stateNode,i!=null)){var o=n.memoizedProps,s=t!==null?t.memoizedProps:o,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&cS(i,o),Rg(a,s);var u=Rg(a,o);for(s=0;s<l.length;s+=2){var d=l[s],h=l[s+1];d==="style"?mS(i,h):d==="dangerouslySetInnerHTML"?fS(i,h):d==="children"?Qu(i,h):Rv(i,d,h,u)}switch(a){case"input":kg(i,o);break;case"textarea":dS(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Ra(i,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?Ra(i,!!o.multiple,o.defaultValue,!0):Ra(i,!!o.multiple,o.multiple?[]:"",!1))}i[oc]=o}catch(w){et(n,n.return,w)}}break;case 6:if(Qn(e,n),dr(n),r&4){if(n.stateNode===null)throw Error(W(162));i=n.stateNode,o=n.memoizedProps;try{i.nodeValue=o}catch(w){et(n,n.return,w)}}break;case 3:if(Qn(e,n),dr(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{ec(e.containerInfo)}catch(w){et(n,n.return,w)}break;case 4:Qn(e,n),dr(n);break;case 13:Qn(e,n),dr(n),i=n.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(d_=at())),r&4&&AE(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(zt=(u=zt)||d,Qn(e,n),zt=u):Qn(e,n),dr(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(J=n,d=n.child;d!==null;){for(h=J=d;J!==null;){switch(p=J,m=p.child,p.tag){case 0:case 11:case 14:case 15:Vu(4,p,p.return);break;case 1:Sa(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){et(r,t,w)}}break;case 5:Sa(p,p.return);break;case 22:if(p.memoizedState!==null){NE(h);continue}}m!==null?(m.return=p,J=m):NE(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=pS("display",s))}catch(w){et(n,n.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){et(n,n.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Qn(e,n),dr(n),r&4&&AE(n);break;case 21:break;default:Qn(e,n),dr(n)}}function dr(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if($b(t)){var r=t;break e}t=t.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Qu(i,""),r.flags&=-33);var o=PE(n);ly(n,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=PE(n);ay(n,a,s);break;default:throw Error(W(161))}}catch(l){et(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function GN(n,e,t){J=n,Wb(n)}function Wb(n,e,t){for(var r=(n.mode&1)!==0;J!==null;){var i=J,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ud;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||zt;a=Ud;var u=zt;if(Ud=s,(zt=l)&&!u)for(J=i;J!==null;)s=J,l=s.child,s.tag===22&&s.memoizedState!==null?OE(i):l!==null?(l.return=s,J=l):OE(i);for(;o!==null;)J=o,Wb(o),o=o.sibling;J=i,Ud=a,zt=u}RE(n)}else i.subtreeFlags&8772&&o!==null?(o.return=i,J=o):RE(n)}}function RE(n){for(;J!==null;){var e=J;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zt||lp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!zt)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Xn(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&gE(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}gE(e,s,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ec(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}zt||e.flags&512&&sy(e)}catch(p){et(e,e.return,p)}}if(e===n){J=null;break}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}}function NE(n){for(;J!==null;){var e=J;if(e===n){J=null;break}var t=e.sibling;if(t!==null){t.return=e.return,J=t;break}J=e.return}}function OE(n){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{lp(4,e)}catch(l){et(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){et(e,i,l)}}var o=e.return;try{sy(e)}catch(l){et(e,o,l)}break;case 5:var s=e.return;try{sy(e)}catch(l){et(e,s,l)}}}catch(l){et(e,e.return,l)}if(e===n){J=null;break}var a=e.sibling;if(a!==null){a.return=e.return,J=a;break}J=e.return}}var QN=Math.ceil,cf=vi.ReactCurrentDispatcher,u_=vi.ReactCurrentOwner,Bn=vi.ReactCurrentBatchConfig,_e=0,bt=null,mt=null,Vt=0,Sn=0,ba=Io(0),_t=0,dc=null,Es=0,up=0,c_=0,Fu=null,dn=null,d_=0,Za=1/0,Hr=null,df=!1,uy=null,Zi=null,Bd=!1,Yi=null,hf=0,ju=0,cy=null,Eh=-1,Th=0;function nn(){return _e&6?at():Eh!==-1?Eh:Eh=at()}function eo(n){return n.mode&1?_e&2&&Vt!==0?Vt&-Vt:NN.transition!==null?(Th===0&&(Th=kS()),Th):(n=xe,n!==0||(n=window.event,n=n===void 0?16:OS(n.type)),n):1}function tr(n,e,t,r){if(50<ju)throw ju=0,cy=null,Error(W(185));Nc(n,t,r),(!(_e&2)||n!==bt)&&(n===bt&&(!(_e&2)&&(up|=t),_t===4&&Li(n,Vt)),vn(n,r),t===1&&_e===0&&!(e.mode&1)&&(Za=at()+500,op&&Do()))}function vn(n,e){var t=n.callbackNode;NR(n,e);var r=qh(n,n===bt?Vt:0);if(r===0)t!==null&&W0(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&W0(t),e===1)n.tag===0?RN(ME.bind(null,n)):ZS(ME.bind(null,n)),CN(function(){!(_e&6)&&Do()}),t=null;else{switch(CS(r)){case 1:t=Vv;break;case 4:t=SS;break;case 16:t=Kh;break;case 536870912:t=bS;break;default:t=Kh}t=Xb(t,Yb.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function Yb(n,e){if(Eh=-1,Th=0,_e&6)throw Error(W(327));var t=n.callbackNode;if(Va()&&n.callbackNode!==t)return null;var r=qh(n,n===bt?Vt:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=ff(n,r);else{e=r;var i=_e;_e|=2;var o=Hb();(bt!==n||Vt!==e)&&(Hr=null,Za=at()+500,us(n,e));do try{ZN();break}catch(a){zb(n,a)}while(!0);Qv(),cf.current=o,_e=i,mt!==null?e=0:(bt=null,Vt=0,e=_t)}if(e!==0){if(e===2&&(i=Vg(n),i!==0&&(r=i,e=dy(n,i))),e===1)throw t=dc,us(n,0),Li(n,r),vn(n,at()),t;if(e===6)Li(n,r);else{if(i=n.current.alternate,!(r&30)&&!XN(i)&&(e=ff(n,r),e===2&&(o=Vg(n),o!==0&&(r=o,e=dy(n,o))),e===1))throw t=dc,us(n,0),Li(n,r),vn(n,at()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:qo(n,dn,Hr);break;case 3:if(Li(n,r),(r&130023424)===r&&(e=d_+500-at(),10<e)){if(qh(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){nn(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=zg(qo.bind(null,n,dn,Hr),e);break}qo(n,dn,Hr);break;case 4:if(Li(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var s=31-er(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*QN(r/1960))-r,10<r){n.timeoutHandle=zg(qo.bind(null,n,dn,Hr),r);break}qo(n,dn,Hr);break;case 5:qo(n,dn,Hr);break;default:throw Error(W(329))}}}return vn(n,at()),n.callbackNode===t?Yb.bind(null,n):null}function dy(n,e){var t=Fu;return n.current.memoizedState.isDehydrated&&(us(n,e).flags|=256),n=ff(n,e),n!==2&&(e=dn,dn=t,e!==null&&hy(e)),n}function hy(n){dn===null?dn=n:dn.push.apply(dn,n)}function XN(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],o=i.getSnapshot;i=i.value;try{if(!nr(o(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Li(n,e){for(e&=~c_,e&=~up,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-er(e),r=1<<t;n[t]=-1,e&=~r}}function ME(n){if(_e&6)throw Error(W(327));Va();var e=qh(n,0);if(!(e&1))return vn(n,at()),null;var t=ff(n,e);if(n.tag!==0&&t===2){var r=Vg(n);r!==0&&(e=r,t=dy(n,r))}if(t===1)throw t=dc,us(n,0),Li(n,e),vn(n,at()),t;if(t===6)throw Error(W(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,qo(n,dn,Hr),vn(n,at()),null}function h_(n,e){var t=_e;_e|=1;try{return n(e)}finally{_e=t,_e===0&&(Za=at()+500,op&&Do())}}function Ts(n){Yi!==null&&Yi.tag===0&&!(_e&6)&&Va();var e=_e;_e|=1;var t=Bn.transition,r=xe;try{if(Bn.transition=null,xe=1,n)return n()}finally{xe=r,Bn.transition=t,_e=e,!(_e&6)&&Do()}}function f_(){Sn=ba.current,je(ba)}function us(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,kN(t)),mt!==null)for(t=mt.return;t!==null;){var r=t;switch(Kv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zh();break;case 3:Xa(),je(gn),je(Kt),n_();break;case 5:t_(r);break;case 4:Xa();break;case 13:je(ze);break;case 19:je(ze);break;case 10:Xv(r.type._context);break;case 22:case 23:f_()}t=t.return}if(bt=n,mt=n=to(n.current,null),Vt=Sn=e,_t=0,dc=null,c_=up=Es=0,dn=Fu=null,ss!==null){for(e=0;e<ss.length;e++)if(t=ss[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,o=t.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}t.pending=r}ss=null}return n}function zb(n,e){do{var t=mt;try{if(Qv(),vh.current=uf,lf){for(var r=qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}lf=!1}if(ws=0,St=vt=qe=null,Lu=!1,lc=0,u_.current=null,t===null||t.return===null){_t=1,dc=e,mt=null;break}e:{var o=n,s=t.return,a=t,l=e;if(e=Vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=TE(s);if(m!==null){m.flags&=-257,IE(m,s,a,o,e),m.mode&1&&EE(o,u,e),e=m,l=u;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){EE(o,u,e),p_();break e}l=Error(W(426))}}else if(Ue&&a.mode&1){var D=TE(s);if(D!==null){!(D.flags&65536)&&(D.flags|=256),IE(D,s,a,o,e),qv(Ja(l,a));break e}}o=l=Ja(l,a),_t!==4&&(_t=2),Fu===null?Fu=[o]:Fu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=Cb(o,l,e);mE(o,_);break e;case 1:a=l;var y=o.type,T=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Zi===null||!Zi.has(T)))){o.flags|=65536,e&=-e,o.lanes|=e;var P=xb(o,a,e);mE(o,P);break e}}o=o.return}while(o!==null)}qb(t)}catch(M){e=M,mt===t&&t!==null&&(mt=t=t.return);continue}break}while(!0)}function Hb(){var n=cf.current;return cf.current=uf,n===null?uf:n}function p_(){(_t===0||_t===3||_t===2)&&(_t=4),bt===null||!(Es&268435455)&&!(up&268435455)||Li(bt,Vt)}function ff(n,e){var t=_e;_e|=2;var r=Hb();(bt!==n||Vt!==e)&&(Hr=null,us(n,e));do try{JN();break}catch(i){zb(n,i)}while(!0);if(Qv(),_e=t,cf.current=r,mt!==null)throw Error(W(261));return bt=null,Vt=0,_t}function JN(){for(;mt!==null;)Kb(mt)}function ZN(){for(;mt!==null&&!DR();)Kb(mt)}function Kb(n){var e=Qb(n.alternate,n,Sn);n.memoizedProps=n.pendingProps,e===null?qb(n):mt=e,u_.current=null}function qb(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=HN(t,e),t!==null){t.flags&=32767,mt=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{_t=6,mt=null;return}}else if(t=zN(t,e,Sn),t!==null){mt=t;return}if(e=e.sibling,e!==null){mt=e;return}mt=e=n}while(e!==null);_t===0&&(_t=5)}function qo(n,e,t){var r=xe,i=Bn.transition;try{Bn.transition=null,xe=1,eO(n,e,t,r)}finally{Bn.transition=i,xe=r}return null}function eO(n,e,t,r){do Va();while(Yi!==null);if(_e&6)throw Error(W(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(W(177));n.callbackNode=null,n.callbackPriority=0;var o=t.lanes|t.childLanes;if(OR(n,o),n===bt&&(mt=bt=null,Vt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Bd||(Bd=!0,Xb(Kh,function(){return Va(),null})),o=(t.flags&15990)!==0,t.subtreeFlags&15990||o){o=Bn.transition,Bn.transition=null;var s=xe;xe=1;var a=_e;_e|=4,u_.current=null,qN(n,t),Bb(t,n),wN(Wg),Gh=!!Bg,Wg=Bg=null,n.current=t,GN(t),SR(),_e=a,xe=s,Bn.transition=o}else n.current=t;if(Bd&&(Bd=!1,Yi=n,hf=i),o=n.pendingLanes,o===0&&(Zi=null),CR(t.stateNode),vn(n,at()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(df)throw df=!1,n=uy,uy=null,n;return hf&1&&n.tag!==0&&Va(),o=n.pendingLanes,o&1?n===cy?ju++:(ju=0,cy=n):ju=0,Do(),null}function Va(){if(Yi!==null){var n=CS(hf),e=Bn.transition,t=xe;try{if(Bn.transition=null,xe=16>n?16:n,Yi===null)var r=!1;else{if(n=Yi,Yi=null,hf=0,_e&6)throw Error(W(331));var i=_e;for(_e|=4,J=n.current;J!==null;){var o=J,s=o.child;if(J.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(J=u;J!==null;){var d=J;switch(d.tag){case 0:case 11:case 15:Vu(8,d,o)}var h=d.child;if(h!==null)h.return=d,J=h;else for(;J!==null;){d=J;var p=d.sibling,m=d.return;if(jb(d),d===u){J=null;break}if(p!==null){p.return=m,J=p;break}J=m}}}var v=o.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var D=w.sibling;w.sibling=null,w=D}while(w!==null)}}J=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,J=s;else e:for(;J!==null;){if(o=J,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Vu(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,J=_;break e}J=o.return}}var y=n.current;for(J=y;J!==null;){s=J;var T=s.child;if(s.subtreeFlags&2064&&T!==null)T.return=s,J=T;else e:for(s=y;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lp(9,a)}}catch(M){et(a,a.return,M)}if(a===s){J=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,J=P;break e}J=a.return}}if(_e=i,Do(),Dr&&typeof Dr.onPostCommitFiberRoot=="function")try{Dr.onPostCommitFiberRoot(ep,n)}catch{}r=!0}return r}finally{xe=t,Bn.transition=e}}return!1}function LE(n,e,t){e=Ja(t,e),e=Cb(n,e,1),n=Ji(n,e,1),e=nn(),n!==null&&(Nc(n,1,e),vn(n,e))}function et(n,e,t){if(n.tag===3)LE(n,n,t);else for(;e!==null;){if(e.tag===3){LE(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zi===null||!Zi.has(r))){n=Ja(t,n),n=xb(e,n,1),e=Ji(e,n,1),n=nn(),e!==null&&(Nc(e,1,n),vn(e,n));break}}e=e.return}}function tO(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=nn(),n.pingedLanes|=n.suspendedLanes&t,bt===n&&(Vt&t)===t&&(_t===4||_t===3&&(Vt&130023424)===Vt&&500>at()-d_?us(n,0):c_|=t),vn(n,e)}function Gb(n,e){e===0&&(n.mode&1?(e=Rd,Rd<<=1,!(Rd&130023424)&&(Rd=4194304)):e=1);var t=nn();n=ci(n,e),n!==null&&(Nc(n,e,t),vn(n,t))}function nO(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),Gb(n,t)}function rO(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),Gb(n,t)}var Qb;Qb=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||gn.current)hn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return hn=!1,YN(n,e,t);hn=!!(n.flags&131072)}else hn=!1,Ue&&e.flags&1048576&&eb(e,nf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;wh(n,e),n=e.pendingProps;var i=qa(e,Kt.current);La(e,t),i=i_(null,e,r,n,i,t);var o=o_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yn(r)?(o=!0,ef(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Zv(e),i.updater=ap,e.stateNode=i,i._reactInternals=e,Jg(e,r,n,t),e=ty(null,e,r,!0,o,t)):(e.tag=0,Ue&&o&&Hv(e),Xt(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(wh(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=oO(r),n=Xn(r,n),i){case 0:e=ey(null,e,r,n,t);break e;case 1:e=bE(null,e,r,n,t);break e;case 11:e=DE(null,e,r,n,t);break e;case 14:e=SE(null,e,r,Xn(r.type,n),t);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xn(r,i),ey(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xn(r,i),bE(n,e,r,i,t);case 3:e:{if(Nb(e),n===null)throw Error(W(387));r=e.pendingProps,o=e.memoizedState,i=o.element,sb(n,e),sf(e,r,null,t);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ja(Error(W(423)),e),e=kE(n,e,r,t,i);break e}else if(r!==i){i=Ja(Error(W(424)),e),e=kE(n,e,r,t,i);break e}else for(kn=Xi(e.stateNode.containerInfo.firstChild),xn=e,Ue=!0,Zn=null,t=ib(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Ga(),r===i){e=di(n,e,t);break e}Xt(n,e,r,t)}e=e.child}return e;case 5:return ab(e),n===null&&Gg(e),r=e.type,i=e.pendingProps,o=n!==null?n.memoizedProps:null,s=i.children,Yg(r,i)?s=null:o!==null&&Yg(r,o)&&(e.flags|=32),Rb(n,e),Xt(n,e,s,t),e.child;case 6:return n===null&&Gg(e),null;case 13:return Ob(n,e,t);case 4:return e_(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Qa(e,null,r,t):Xt(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xn(r,i),DE(n,e,r,i,t);case 7:return Xt(n,e,e.pendingProps,t),e.child;case 8:return Xt(n,e,e.pendingProps.children,t),e.child;case 12:return Xt(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Me(rf,r._currentValue),r._currentValue=s,o!==null)if(nr(o.value,s)){if(o.children===i.children&&!gn.current){e=di(n,e,t);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=ri(-1,t&-t),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=t,l=o.alternate,l!==null&&(l.lanes|=t),Qg(o.return,t,e),a.lanes|=t;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(W(341));s.lanes|=t,a=s.alternate,a!==null&&(a.lanes|=t),Qg(s,t,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Xt(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,La(e,t),i=Yn(i),r=r(i),e.flags|=1,Xt(n,e,r,t),e.child;case 14:return r=e.type,i=Xn(r,e.pendingProps),i=Xn(r.type,i),SE(n,e,r,i,t);case 15:return Pb(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xn(r,i),wh(n,e),e.tag=1,yn(r)?(n=!0,ef(e)):n=!1,La(e,t),kb(e,r,i),Jg(e,r,i,t),ty(null,e,r,!0,n,t);case 19:return Mb(n,e,t);case 22:return Ab(n,e,t)}throw Error(W(156,e.tag))};function Xb(n,e){return DS(n,e)}function iO(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(n,e,t,r){return new iO(n,e,t,r)}function m_(n){return n=n.prototype,!(!n||!n.isReactComponent)}function oO(n){if(typeof n=="function")return m_(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Ov)return 11;if(n===Mv)return 14}return 2}function to(n,e){var t=n.alternate;return t===null?(t=$n(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Ih(n,e,t,r,i,o){var s=2;if(r=n,typeof n=="function")m_(n)&&(s=1);else if(typeof n=="string")s=5;else e:switch(n){case ga:return cs(t.children,i,o,e);case Nv:s=8,i|=8;break;case Tg:return n=$n(12,t,e,i|2),n.elementType=Tg,n.lanes=o,n;case Ig:return n=$n(13,t,e,i),n.elementType=Ig,n.lanes=o,n;case Dg:return n=$n(19,t,e,i),n.elementType=Dg,n.lanes=o,n;case aS:return cp(t,i,o,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case oS:s=10;break e;case sS:s=9;break e;case Ov:s=11;break e;case Mv:s=14;break e;case Ai:s=16,r=null;break e}throw Error(W(130,n==null?n:typeof n,""))}return e=$n(s,t,e,i),e.elementType=n,e.type=r,e.lanes=o,e}function cs(n,e,t,r){return n=$n(7,n,r,e),n.lanes=t,n}function cp(n,e,t,r){return n=$n(22,n,r,e),n.elementType=aS,n.lanes=t,n.stateNode={isHidden:!1},n}function Um(n,e,t){return n=$n(6,n,null,e),n.lanes=t,n}function Bm(n,e,t){return e=$n(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function sO(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tm(0),this.expirationTimes=Tm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function g_(n,e,t,r,i,o,s,a,l){return n=new sO(n,e,t,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=$n(3,null,null,e),n.current=o,o.stateNode=n,o.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zv(o),n}function aO(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ma,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function Jb(n){if(!n)return ho;n=n._reactInternals;e:{if($s(n)!==n||n.tag!==1)throw Error(W(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(n.tag===1){var t=n.type;if(yn(t))return JS(n,t,e)}return e}function Zb(n,e,t,r,i,o,s,a,l){return n=g_(t,r,!0,n,i,o,s,a,l),n.context=Jb(null),t=n.current,r=nn(),i=eo(t),o=ri(r,i),o.callback=e??null,Ji(t,o,i),n.current.lanes=i,Nc(n,i,r),vn(n,r),n}function dp(n,e,t,r){var i=e.current,o=nn(),s=eo(i);return t=Jb(t),e.context===null?e.context=t:e.pendingContext=t,e=ri(o,s),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Ji(i,e,s),n!==null&&(tr(n,i,s,o),yh(n,i,s)),s}function pf(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function VE(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function y_(n,e){VE(n,e),(n=n.alternate)&&VE(n,e)}function lO(){return null}var e1=typeof reportError=="function"?reportError:function(n){console.error(n)};function v_(n){this._internalRoot=n}hp.prototype.render=v_.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(W(409));dp(n,e,null,null)};hp.prototype.unmount=v_.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Ts(function(){dp(null,n,null,null)}),e[ui]=null}};function hp(n){this._internalRoot=n}hp.prototype.unstable_scheduleHydration=function(n){if(n){var e=AS();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Mi.length&&e!==0&&e<Mi[t].priority;t++);Mi.splice(t,0,n),t===0&&NS(n)}};function __(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function fp(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function FE(){}function uO(n,e,t,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=pf(s);o.call(u)}}var s=Zb(e,r,n,0,null,!1,!1,"",FE);return n._reactRootContainer=s,n[ui]=s.current,rc(n.nodeType===8?n.parentNode:n),Ts(),s}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=pf(l);a.call(u)}}var l=g_(n,0,!1,null,null,!1,!1,"",FE);return n._reactRootContainer=l,n[ui]=l.current,rc(n.nodeType===8?n.parentNode:n),Ts(function(){dp(e,l,t,r)}),l}function pp(n,e,t,r,i){var o=t._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=pf(s);a.call(l)}}dp(e,s,n,i)}else s=uO(t,e,n,i,r);return pf(s)}xS=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=vu(e.pendingLanes);t!==0&&(Fv(e,t|1),vn(e,at()),!(_e&6)&&(Za=at()+500,Do()))}break;case 13:Ts(function(){var r=ci(n,1);if(r!==null){var i=nn();tr(r,n,1,i)}}),y_(n,1)}};jv=function(n){if(n.tag===13){var e=ci(n,134217728);if(e!==null){var t=nn();tr(e,n,134217728,t)}y_(n,134217728)}};PS=function(n){if(n.tag===13){var e=eo(n),t=ci(n,e);if(t!==null){var r=nn();tr(t,n,e,r)}y_(n,e)}};AS=function(){return xe};RS=function(n,e){var t=xe;try{return xe=n,e()}finally{xe=t}};Og=function(n,e,t){switch(e){case"input":if(kg(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=ip(r);if(!i)throw Error(W(90));uS(r),kg(r,i)}}}break;case"textarea":dS(n,t);break;case"select":e=t.value,e!=null&&Ra(n,!!t.multiple,e,!1)}};vS=h_;_S=Ts;var cO={usingClientEntryPoint:!1,Events:[Mc,wa,ip,gS,yS,h_]},iu={findFiberByHostInstance:os,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dO={bundleType:iu.bundleType,version:iu.version,rendererPackageName:iu.rendererPackageName,rendererConfig:iu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=TS(n),n===null?null:n.stateNode},findFiberByHostInstance:iu.findFiberByHostInstance||lO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wd.isDisabled&&Wd.supportsFiber)try{ep=Wd.inject(dO),Dr=Wd}catch{}}On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cO;On.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!__(e))throw Error(W(200));return aO(n,e,null,t)};On.createRoot=function(n,e){if(!__(n))throw Error(W(299));var t=!1,r="",i=e1;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=g_(n,1,!1,null,null,t,!1,r,i),n[ui]=e.current,rc(n.nodeType===8?n.parentNode:n),new v_(e)};On.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(W(188)):(n=Object.keys(n).join(","),Error(W(268,n)));return n=TS(e),n=n===null?null:n.stateNode,n};On.flushSync=function(n){return Ts(n)};On.hydrate=function(n,e,t){if(!fp(e))throw Error(W(200));return pp(null,n,e,!0,t)};On.hydrateRoot=function(n,e,t){if(!__(n))throw Error(W(405));var r=t!=null&&t.hydratedSources||null,i=!1,o="",s=e1;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),e=Zb(e,null,n,1,t??null,i,!1,o,s),n[ui]=e.current,rc(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new hp(e)};On.render=function(n,e,t){if(!fp(e))throw Error(W(200));return pp(null,n,e,!1,t)};On.unmountComponentAtNode=function(n){if(!fp(n))throw Error(W(40));return n._reactRootContainer?(Ts(function(){pp(null,null,n,!1,function(){n._reactRootContainer=null,n[ui]=null})}),!0):!1};On.unstable_batchedUpdates=h_;On.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!fp(t))throw Error(W(200));if(n==null||n._reactInternals===void 0)throw Error(W(38));return pp(n,e,t,!1,r)};On.version="18.3.1-next-f1338f8080-20240426";function t1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t1)}catch(n){console.error(n)}}t1(),tS.exports=On;var mp=tS.exports;const ka=El(mp);var jE=mp;wg.createRoot=jE.createRoot,wg.hydrateRoot=jE.hydrateRoot;var n1={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)e.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(n1);var hO=n1.exports;const ve=El(hO);function fy(){return fy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},fy.apply(this,arguments)}function r1(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function $E(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function fO(n){var e=pO(n,"string");return typeof e=="symbol"?e:String(e)}function pO(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function mO(n,e,t){var r=N.useRef(n!==void 0),i=N.useState(e),o=i[0],s=i[1],a=n!==void 0,l=r.current;return r.current=a,!a&&l&&o!==e&&s(e),[a?n:o,N.useCallback(function(u){for(var d=arguments.length,h=new Array(d>1?d-1:0),p=1;p<d;p++)h[p-1]=arguments[p];t&&t.apply(void 0,[u].concat(h)),s(u)},[t])]}function i1(n,e){return Object.keys(e).reduce(function(t,r){var i,o=t,s=o[$E(r)],a=o[r],l=r1(o,[$E(r),r].map(fO)),u=e[r],d=mO(a,s,n[u]),h=d[0],p=d[1];return fy({},l,(i={},i[r]=h,i[u]=p,i))},n)}function py(n,e){return py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},py(n,e)}function gO(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,py(n,e)}const yO=["xxl","xl","lg","md","sm","xs"],vO="xs",gp=N.createContext({prefixes:{},breakpoints:yO,minBreakpoint:vO});function Pe(n,e){const{prefixes:t}=N.useContext(gp);return n||t[e]||e}function o1(){const{breakpoints:n}=N.useContext(gp);return n}function s1(){const{minBreakpoint:n}=N.useContext(gp);return n}function _O(){const{dir:n}=N.useContext(gp);return n==="rtl"}function a1(n){return n&&n.ownerDocument||document}function wO(n){var e=a1(n);return e&&e.defaultView||window}function EO(n,e){return wO(n).getComputedStyle(n,e)}var TO=/([A-Z])/g;function IO(n){return n.replace(TO,"-$1").toLowerCase()}var DO=/^ms-/;function Yd(n){return IO(n).replace(DO,"-ms-")}var SO=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function bO(n){return!!(n&&SO.test(n))}function l1(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(Yd(e))||EO(n).getPropertyValue(Yd(e));Object.keys(e).forEach(function(i){var o=e[i];!o&&o!==0?n.style.removeProperty(Yd(i)):bO(i)?r+=i+"("+o+") ":t+=Yd(i)+": "+o+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}var u1={exports:{}},kO="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",CO=kO,xO=CO;function c1(){}function d1(){}d1.resetWarningCache=c1;var PO=function(){function n(r,i,o,s,a,l){if(l!==xO){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:d1,resetWarningCache:c1};return t.PropTypes=t,t};u1.exports=PO();var AO=u1.exports;const ii=El(AO),UE={disabled:!1},h1=F.createContext(null);var RO=function(e){return e.scrollTop},wu="unmounted",Go="exited",Ni="entering",Zo="entered",my="exiting",_i=function(n){gO(e,n);function e(r,i){var o;o=n.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=Go,o.appearStatus=Ni):l=Zo:r.unmountOnExit||r.mountOnEnter?l=wu:l=Go,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===wu?{status:Go}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Ni&&s!==Zo&&(o=Ni):(s===Ni||s===Zo)&&(o=my)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},t.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Ni){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:ka.findDOMNode(this);s&&RO(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Go&&this.setState({status:wu})},t.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[ka.findDOMNode(this),a],u=l[0],d=l[1],h=this.getTimeouts(),p=a?h.appear:h.enter;if(!i&&!s||UE.disabled){this.safeSetState({status:Zo},function(){o.props.onEntered(u)});return}this.props.onEnter(u,d),this.safeSetState({status:Ni},function(){o.props.onEntering(u,d),o.onTransitionEnd(p,function(){o.safeSetState({status:Zo},function(){o.props.onEntered(u,d)})})})},t.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:ka.findDOMNode(this);if(!o||UE.disabled){this.safeSetState({status:Go},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:my},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Go},function(){i.props.onExited(a)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},t.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},t.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:ka.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],d=l[1];this.props.addEndListener(u,d)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===wu)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=r1(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return F.createElement(h1.Provider,{value:null},typeof s=="function"?s(i,a):F.cloneElement(F.Children.only(s),a))},e}(F.Component);_i.contextType=h1;_i.propTypes={};function ra(){}_i.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ra,onEntering:ra,onEntered:ra,onExit:ra,onExiting:ra,onExited:ra};_i.UNMOUNTED=wu;_i.EXITED=Go;_i.ENTERING=Ni;_i.ENTERED=Zo;_i.EXITING=my;const f1=!!(typeof window<"u"&&window.document&&window.document.createElement);var gy=!1,yy=!1;try{var Wm={get passive(){return gy=!0},get once(){return yy=gy=!0}};f1&&(window.addEventListener("test",Wm,Wm),window.removeEventListener("test",Wm,!0))}catch{}function p1(n,e,t,r){if(r&&typeof r!="boolean"&&!yy){var i=r.once,o=r.capture,s=t;!yy&&i&&(s=t.__once||function a(l){this.removeEventListener(e,a,o),t.call(this,l)},t.__once=s),n.addEventListener(e,s,gy?r:o)}n.addEventListener(e,t,r)}function NO(n,e,t,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,i),t.__once&&n.removeEventListener(e,t.__once,i)}function Ca(n,e,t,r){return p1(n,e,t,r),function(){NO(n,e,t,r)}}function OO(n,e,t,r){if(r===void 0&&(r=!0),n){var i=document.createEvent("HTMLEvents");i.initEvent(e,t,r),n.dispatchEvent(i)}}function MO(n){var e=l1(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function LO(n,e,t){t===void 0&&(t=5);var r=!1,i=setTimeout(function(){r||OO(n,"transitionend",!0)},e+t),o=Ca(n,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),o()}}function VO(n,e,t,r){t==null&&(t=MO(n)||0);var i=LO(n,t,r),o=Ca(n,"transitionend",e);return function(){i(),o()}}function BE(n,e){const t=l1(n,e)||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function FO(n,e){const t=BE(n,"transitionDuration"),r=BE(n,"transitionDelay"),i=VO(n,o=>{o.target===n&&(i(),e(o))},t+r)}function jO(n){n.offsetHeight}const WE=n=>!n||typeof n=="function"?n:e=>{n.current=e};function $O(n,e){const t=WE(n),r=WE(e);return i=>{t&&t(i),r&&r(i)}}function w_(n,e){return N.useMemo(()=>$O(n,e),[n,e])}function UO(n){return n&&"setState"in n?ka.findDOMNode(n):n??null}const BO=F.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:i,onExited:o,addEndListener:s,children:a,childRef:l,...u},d)=>{const h=N.useRef(null),p=w_(h,l),m=L=>{p(UO(L))},v=L=>I=>{L&&h.current&&L(h.current,I)},w=N.useCallback(v(n),[n]),D=N.useCallback(v(e),[e]),_=N.useCallback(v(t),[t]),y=N.useCallback(v(r),[r]),T=N.useCallback(v(i),[i]),P=N.useCallback(v(o),[o]),M=N.useCallback(v(s),[s]);return R.jsx(_i,{ref:d,...u,onEnter:w,onEntered:_,onEntering:D,onExit:y,onExited:P,onExiting:T,addEndListener:M,nodeRef:h,children:typeof a=="function"?(L,I)=>a(L,{...I,ref:m}):F.cloneElement(a,{ref:m})})});function WO(n){const e=N.useRef(n);return N.useEffect(()=>{e.current=n},[n]),e}function br(n){const e=WO(n);return N.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const YO=n=>N.forwardRef((e,t)=>R.jsx("div",{...e,ref:t,className:ve(e.className,n)})),m1=YO("h4");m1.displayName="DivStyledAsH4";const g1=N.forwardRef(({className:n,bsPrefix:e,as:t=m1,...r},i)=>(e=Pe(e,"alert-heading"),R.jsx(t,{ref:i,className:ve(n,e),...r})));g1.displayName="AlertHeading";function zO(){return N.useState(null)}function HO(n,e,t,r=!1){const i=br(t);N.useEffect(()=>{const o=typeof n=="function"?n():n;return o.addEventListener(e,i,r),()=>o.removeEventListener(e,i,r)},[n])}function KO(){const n=N.useRef(!0),e=N.useRef(()=>n.current);return N.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function qO(n){const e=N.useRef(null);return N.useEffect(()=>{e.current=n}),e.current}const GO=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",QO=typeof document<"u",XO=QO||GO?N.useLayoutEffect:N.useEffect,JO=["as","disabled"];function ZO(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function eM(n){return!n||n.trim()==="#"}function E_({tagName:n,disabled:e,href:t,target:r,rel:i,role:o,onClick:s,tabIndex:a=0,type:l}){n||(t!=null||r!=null||i!=null?n="a":n="button");const u={tagName:n};if(n==="button")return[{type:l||"button",disabled:e},u];const d=p=>{if((e||n==="a"&&eM(t))&&p.preventDefault(),e){p.stopPropagation();return}s==null||s(p)},h=p=>{p.key===" "&&(p.preventDefault(),d(p))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:a,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?i:void 0,onClick:d,onKeyDown:h},u]}const y1=N.forwardRef((n,e)=>{let{as:t,disabled:r}=n,i=ZO(n,JO);const[o,{tagName:s}]=E_(Object.assign({tagName:t,disabled:r},i));return R.jsx(s,Object.assign({},i,o,{ref:e}))});y1.displayName="Button";const tM=["onKeyDown"];function nM(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function rM(n){return!n||n.trim()==="#"}const T_=N.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=nM(n,tM);const[i]=E_(Object.assign({tagName:"a"},r)),o=br(s=>{i.onKeyDown(s),t==null||t(s)});return rM(r.href)||r.role==="button"?R.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:o})):R.jsx("a",Object.assign({ref:e},r,{onKeyDown:t}))});T_.displayName="Anchor";const v1=N.forwardRef(({className:n,bsPrefix:e,as:t=T_,...r},i)=>(e=Pe(e,"alert-link"),R.jsx(t,{ref:i,className:ve(n,e),...r})));v1.displayName="AlertLink";const iM={[Ni]:"show",[Zo]:"show"},vy=N.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:r,...i},o)=>{const s={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},a=N.useCallback((l,u)=>{jO(l),r==null||r(l,u)},[r]);return R.jsx(BO,{ref:o,addEndListener:FO,...s,onEnter:a,childRef:e.ref,children:(l,u)=>N.cloneElement(e,{...u,className:ve("fade",n,e.props.className,iM[l],t[l])})})});vy.displayName="Fade";const oM={"aria-label":ii.string,onClick:ii.func,variant:ii.oneOf(["white"])},I_=N.forwardRef(({className:n,variant:e,"aria-label":t="Close",...r},i)=>R.jsx("button",{ref:i,type:"button",className:ve("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...r}));I_.displayName="CloseButton";I_.propTypes=oM;const _1=N.forwardRef((n,e)=>{const{bsPrefix:t,show:r=!0,closeLabel:i="Close alert",closeVariant:o,className:s,children:a,variant:l="primary",onClose:u,dismissible:d,transition:h=vy,...p}=i1(n,{show:"onClose"}),m=Pe(t,"alert"),v=br(_=>{u&&u(!1,_)}),w=h===!0?vy:h,D=R.jsxs("div",{role:"alert",...w?void 0:p,ref:e,className:ve(s,m,l&&`${m}-${l}`,d&&`${m}-dismissible`),children:[d&&R.jsx(I_,{onClick:v,"aria-label":i,variant:o}),a]});return w?R.jsx(w,{unmountOnExit:!0,...p,ref:void 0,in:r,children:D}):r?D:null});_1.displayName="Alert";const sM=Object.assign(_1,{Link:v1,Heading:g1}),wt=N.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:i=!1,disabled:o=!1,className:s,...a},l)=>{const u=Pe(e,"btn"),[d,{tagName:h}]=E_({tagName:n,disabled:o,...a}),p=h;return R.jsx(p,{...d,...a,ref:l,disabled:o,className:ve(s,u,i&&"active",t&&`${u}-${t}`,r&&`${u}-${r}`,a.href&&o&&"disabled")})});wt.displayName="Button";const w1=N.forwardRef(({bsPrefix:n,size:e,vertical:t=!1,className:r,role:i="group",as:o="div",...s},a)=>{const l=Pe(n,"btn-group");let u=l;return t&&(u=`${l}-vertical`),R.jsx(o,{...s,ref:a,role:i,className:ve(r,u,e&&`${l}-${e}`)})});w1.displayName="ButtonGroup";function aM(n,e){return N.Children.toArray(n).some(t=>N.isValidElement(t)&&t.type===e)}function lM({as:n,bsPrefix:e,className:t,...r}){e=Pe(e,"col");const i=o1(),o=s1(),s=[],a=[];return i.forEach(l=>{const u=r[l];delete r[l];let d,h,p;typeof u=="object"&&u!=null?{span:d,offset:h,order:p}=u:d=u;const m=l!==o?`-${l}`:"";d&&s.push(d===!0?`${e}${m}`:`${e}${m}-${d}`),p!=null&&a.push(`order${m}-${p}`),h!=null&&a.push(`offset${m}-${h}`)}),[{...r,className:ve(t,...s,...a)},{as:n,bsPrefix:e,spans:s}]}const fo=N.forwardRef((n,e)=>{const[{className:t,...r},{as:i="div",bsPrefix:o,spans:s}]=lM(n);return R.jsx(i,{...r,ref:e,className:ve(t,!s.length&&o)})});fo.displayName="Col";const D_=N.forwardRef(({bsPrefix:n,fluid:e=!1,as:t="div",className:r,...i},o)=>{const s=Pe(n,"container"),a=typeof e=="string"?`-${e}`:"-fluid";return R.jsx(t,{ref:o,...i,className:ve(r,e?`${s}${a}`:s)})});D_.displayName="Container";var uM=Function.prototype.bind.call(Function.prototype.call,[].slice);function YE(n,e){return uM(n.querySelectorAll(e))}function cM(n,e,t){const r=N.useRef(n!==void 0),[i,o]=N.useState(e),s=n!==void 0,a=r.current;return r.current=s,!s&&a&&i!==e&&o(e),[s?n:i,N.useCallback((...l)=>{const[u,...d]=l;let h=t==null?void 0:t(u,...d);return o(u),h},[t])]}function dM(){const[,n]=N.useReducer(e=>!e,!1);return n}const yp=N.createContext(null);var zE=Object.prototype.hasOwnProperty;function HE(n,e,t){for(t of n.keys())if($u(t,e))return t}function $u(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&$u(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=HE(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=HE(e,i),!i)||!$u(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(zE.call(n,t)&&++r&&!zE.call(e,t)||!(t in e)||!$u(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function hM(n){const e=KO();return[n[0],N.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}var _n="top",Hn="bottom",Kn="right",wn="left",S_="auto",Vc=[_n,Hn,Kn,wn],el="start",hc="end",fM="clippingParents",E1="viewport",ou="popper",pM="reference",KE=Vc.reduce(function(n,e){return n.concat([e+"-"+el,e+"-"+hc])},[]),T1=[].concat(Vc,[S_]).reduce(function(n,e){return n.concat([e,e+"-"+el,e+"-"+hc])},[]),mM="beforeRead",gM="read",yM="afterRead",vM="beforeMain",_M="main",wM="afterMain",EM="beforeWrite",TM="write",IM="afterWrite",DM=[mM,gM,yM,vM,_M,wM,EM,TM,IM];function kr(n){return n.split("-")[0]}function Rn(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Is(n){var e=Rn(n).Element;return n instanceof e||n instanceof Element}function Cr(n){var e=Rn(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function b_(n){if(typeof ShadowRoot>"u")return!1;var e=Rn(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}var ds=Math.max,mf=Math.min,tl=Math.round;function _y(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function I1(){return!/^((?!chrome|android).)*safari/i.test(_y())}function nl(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,o=1;e&&Cr(n)&&(i=n.offsetWidth>0&&tl(r.width)/n.offsetWidth||1,o=n.offsetHeight>0&&tl(r.height)/n.offsetHeight||1);var s=Is(n)?Rn(n):window,a=s.visualViewport,l=!I1()&&t,u=(r.left+(l&&a?a.offsetLeft:0))/i,d=(r.top+(l&&a?a.offsetTop:0))/o,h=r.width/i,p=r.height/o;return{width:h,height:p,top:d,right:u+h,bottom:d+p,left:u,x:u,y:d}}function k_(n){var e=nl(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function D1(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&b_(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function po(n){return n?(n.nodeName||"").toLowerCase():null}function hi(n){return Rn(n).getComputedStyle(n)}function SM(n){return["table","td","th"].indexOf(po(n))>=0}function So(n){return((Is(n)?n.ownerDocument:n.document)||window.document).documentElement}function vp(n){return po(n)==="html"?n:n.assignedSlot||n.parentNode||(b_(n)?n.host:null)||So(n)}function qE(n){return!Cr(n)||hi(n).position==="fixed"?null:n.offsetParent}function bM(n){var e=/firefox/i.test(_y()),t=/Trident/i.test(_y());if(t&&Cr(n)){var r=hi(n);if(r.position==="fixed")return null}var i=vp(n);for(b_(i)&&(i=i.host);Cr(i)&&["html","body"].indexOf(po(i))<0;){var o=hi(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Fc(n){for(var e=Rn(n),t=qE(n);t&&SM(t)&&hi(t).position==="static";)t=qE(t);return t&&(po(t)==="html"||po(t)==="body"&&hi(t).position==="static")?e:t||bM(n)||e}function C_(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Uu(n,e,t){return ds(n,mf(e,t))}function kM(n,e,t){var r=Uu(n,e,t);return r>t?t:r}function S1(){return{top:0,right:0,bottom:0,left:0}}function b1(n){return Object.assign({},S1(),n)}function k1(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var CM=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,b1(typeof e!="number"?e:k1(e,Vc))};function xM(n){var e,t=n.state,r=n.name,i=n.options,o=t.elements.arrow,s=t.modifiersData.popperOffsets,a=kr(t.placement),l=C_(a),u=[wn,Kn].indexOf(a)>=0,d=u?"height":"width";if(!(!o||!s)){var h=CM(i.padding,t),p=k_(o),m=l==="y"?_n:wn,v=l==="y"?Hn:Kn,w=t.rects.reference[d]+t.rects.reference[l]-s[l]-t.rects.popper[d],D=s[l]-t.rects.reference[l],_=Fc(o),y=_?l==="y"?_.clientHeight||0:_.clientWidth||0:0,T=w/2-D/2,P=h[m],M=y-p[d]-h[v],L=y/2-p[d]/2+T,I=Uu(P,L,M),E=l;t.modifiersData[r]=(e={},e[E]=I,e.centerOffset=I-L,e)}}function PM(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||D1(e.elements.popper,i)&&(e.elements.arrow=i))}const AM={name:"arrow",enabled:!0,phase:"main",fn:xM,effect:PM,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function rl(n){return n.split("-")[1]}var RM={top:"auto",right:"auto",bottom:"auto",left:"auto"};function NM(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:tl(t*i)/i||0,y:tl(r*i)/i||0}}function GE(n){var e,t=n.popper,r=n.popperRect,i=n.placement,o=n.variation,s=n.offsets,a=n.position,l=n.gpuAcceleration,u=n.adaptive,d=n.roundOffsets,h=n.isFixed,p=s.x,m=p===void 0?0:p,v=s.y,w=v===void 0?0:v,D=typeof d=="function"?d({x:m,y:w}):{x:m,y:w};m=D.x,w=D.y;var _=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),T=wn,P=_n,M=window;if(u){var L=Fc(t),I="clientHeight",E="clientWidth";if(L===Rn(t)&&(L=So(t),hi(L).position!=="static"&&a==="absolute"&&(I="scrollHeight",E="scrollWidth")),L=L,i===_n||(i===wn||i===Kn)&&o===hc){P=Hn;var b=h&&L===M&&M.visualViewport?M.visualViewport.height:L[I];w-=b-r.height,w*=l?1:-1}if(i===wn||(i===_n||i===Hn)&&o===hc){T=Kn;var k=h&&L===M&&M.visualViewport?M.visualViewport.width:L[E];m-=k-r.width,m*=l?1:-1}}var A=Object.assign({position:a},u&&RM),O=d===!0?NM({x:m,y:w},Rn(t)):{x:m,y:w};if(m=O.x,w=O.y,l){var C;return Object.assign({},A,(C={},C[P]=y?"0":"",C[T]=_?"0":"",C.transform=(M.devicePixelRatio||1)<=1?"translate("+m+"px, "+w+"px)":"translate3d("+m+"px, "+w+"px, 0)",C))}return Object.assign({},A,(e={},e[P]=y?w+"px":"",e[T]=_?m+"px":"",e.transform="",e))}function OM(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,o=t.adaptive,s=o===void 0?!0:o,a=t.roundOffsets,l=a===void 0?!0:a,u={placement:kr(e.placement),variation:rl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,GE(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,GE(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const MM={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:OM,data:{}};var zd={passive:!0};function LM(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=Rn(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(d){d.addEventListener("scroll",t.update,zd)}),a&&l.addEventListener("resize",t.update,zd),function(){o&&u.forEach(function(d){d.removeEventListener("scroll",t.update,zd)}),a&&l.removeEventListener("resize",t.update,zd)}}const VM={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:LM,data:{}};var FM={left:"right",right:"left",bottom:"top",top:"bottom"};function Dh(n){return n.replace(/left|right|bottom|top/g,function(e){return FM[e]})}var jM={start:"end",end:"start"};function QE(n){return n.replace(/start|end/g,function(e){return jM[e]})}function x_(n){var e=Rn(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function P_(n){return nl(So(n)).left+x_(n).scrollLeft}function $M(n,e){var t=Rn(n),r=So(n),i=t.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var u=I1();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+P_(n),y:l}}function UM(n){var e,t=So(n),r=x_(n),i=(e=n.ownerDocument)==null?void 0:e.body,o=ds(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=ds(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+P_(n),l=-r.scrollTop;return hi(i||t).direction==="rtl"&&(a+=ds(t.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function A_(n){var e=hi(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function C1(n){return["html","body","#document"].indexOf(po(n))>=0?n.ownerDocument.body:Cr(n)&&A_(n)?n:C1(vp(n))}function Bu(n,e){var t;e===void 0&&(e=[]);var r=C1(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),o=Rn(r),s=i?[o].concat(o.visualViewport||[],A_(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(Bu(vp(s)))}function wy(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function BM(n,e){var t=nl(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function XE(n,e,t){return e===E1?wy($M(n,t)):Is(e)?BM(e,t):wy(UM(So(n)))}function WM(n){var e=Bu(vp(n)),t=["absolute","fixed"].indexOf(hi(n).position)>=0,r=t&&Cr(n)?Fc(n):n;return Is(r)?e.filter(function(i){return Is(i)&&D1(i,r)&&po(i)!=="body"}):[]}function YM(n,e,t,r){var i=e==="clippingParents"?WM(n):[].concat(e),o=[].concat(i,[t]),s=o[0],a=o.reduce(function(l,u){var d=XE(n,u,r);return l.top=ds(d.top,l.top),l.right=mf(d.right,l.right),l.bottom=mf(d.bottom,l.bottom),l.left=ds(d.left,l.left),l},XE(n,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function x1(n){var e=n.reference,t=n.element,r=n.placement,i=r?kr(r):null,o=r?rl(r):null,s=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(i){case _n:l={x:s,y:e.y-t.height};break;case Hn:l={x:s,y:e.y+e.height};break;case Kn:l={x:e.x+e.width,y:a};break;case wn:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?C_(i):null;if(u!=null){var d=u==="y"?"height":"width";switch(o){case el:l[u]=l[u]-(e[d]/2-t[d]/2);break;case hc:l[u]=l[u]+(e[d]/2-t[d]/2);break}}return l}function fc(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,o=t.strategy,s=o===void 0?n.strategy:o,a=t.boundary,l=a===void 0?fM:a,u=t.rootBoundary,d=u===void 0?E1:u,h=t.elementContext,p=h===void 0?ou:h,m=t.altBoundary,v=m===void 0?!1:m,w=t.padding,D=w===void 0?0:w,_=b1(typeof D!="number"?D:k1(D,Vc)),y=p===ou?pM:ou,T=n.rects.popper,P=n.elements[v?y:p],M=YM(Is(P)?P:P.contextElement||So(n.elements.popper),l,d,s),L=nl(n.elements.reference),I=x1({reference:L,element:T,strategy:"absolute",placement:i}),E=wy(Object.assign({},T,I)),b=p===ou?E:L,k={top:M.top-b.top+_.top,bottom:b.bottom-M.bottom+_.bottom,left:M.left-b.left+_.left,right:b.right-M.right+_.right},A=n.modifiersData.offset;if(p===ou&&A){var O=A[i];Object.keys(k).forEach(function(C){var ee=[Kn,Hn].indexOf(C)>=0?1:-1,oe=[_n,Hn].indexOf(C)>=0?"y":"x";k[C]+=O[oe]*ee})}return k}function zM(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,o=t.rootBoundary,s=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,u=l===void 0?T1:l,d=rl(r),h=d?a?KE:KE.filter(function(v){return rl(v)===d}):Vc,p=h.filter(function(v){return u.indexOf(v)>=0});p.length===0&&(p=h);var m=p.reduce(function(v,w){return v[w]=fc(n,{placement:w,boundary:i,rootBoundary:o,padding:s})[kr(w)],v},{});return Object.keys(m).sort(function(v,w){return m[v]-m[w]})}function HM(n){if(kr(n)===S_)return[];var e=Dh(n);return[QE(n),e,QE(e)]}function KM(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,o=i===void 0?!0:i,s=t.altAxis,a=s===void 0?!0:s,l=t.fallbackPlacements,u=t.padding,d=t.boundary,h=t.rootBoundary,p=t.altBoundary,m=t.flipVariations,v=m===void 0?!0:m,w=t.allowedAutoPlacements,D=e.options.placement,_=kr(D),y=_===D,T=l||(y||!v?[Dh(D)]:HM(D)),P=[D].concat(T).reduce(function(ot,Xe){return ot.concat(kr(Xe)===S_?zM(e,{placement:Xe,boundary:d,rootBoundary:h,padding:u,flipVariations:v,allowedAutoPlacements:w}):Xe)},[]),M=e.rects.reference,L=e.rects.popper,I=new Map,E=!0,b=P[0],k=0;k<P.length;k++){var A=P[k],O=kr(A),C=rl(A)===el,ee=[_n,Hn].indexOf(O)>=0,oe=ee?"width":"height",ie=fc(e,{placement:A,boundary:d,rootBoundary:h,altBoundary:p,padding:u}),ne=ee?C?Kn:wn:C?Hn:_n;M[oe]>L[oe]&&(ne=Dh(ne));var Y=Dh(ne),K=[];if(o&&K.push(ie[O]<=0),a&&K.push(ie[ne]<=0,ie[Y]<=0),K.every(function(ot){return ot})){b=A,E=!1;break}I.set(A,K)}if(E)for(var H=v?3:1,de=function(Xe){var dt=P.find(function(ht){var Gt=I.get(ht);if(Gt)return Gt.slice(0,Xe).every(function(ln){return ln})});if(dt)return b=dt,"break"},ce=H;ce>0;ce--){var we=de(ce);if(we==="break")break}e.placement!==b&&(e.modifiersData[r]._skip=!0,e.placement=b,e.reset=!0)}}const qM={name:"flip",enabled:!0,phase:"main",fn:KM,requiresIfExists:["offset"],data:{_skip:!1}};function JE(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function ZE(n){return[_n,Kn,Hn,wn].some(function(e){return n[e]>=0})}function GM(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=fc(e,{elementContext:"reference"}),a=fc(e,{altBoundary:!0}),l=JE(s,r),u=JE(a,i,o),d=ZE(l),h=ZE(u);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":h})}const QM={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:GM};function XM(n,e,t){var r=kr(n),i=[wn,_n].indexOf(r)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[wn,Kn].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function JM(n){var e=n.state,t=n.options,r=n.name,i=t.offset,o=i===void 0?[0,0]:i,s=T1.reduce(function(d,h){return d[h]=XM(h,e.rects,o),d},{}),a=s[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=s}const ZM={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:JM};function eL(n){var e=n.state,t=n.name;e.modifiersData[t]=x1({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const tL={name:"popperOffsets",enabled:!0,phase:"read",fn:eL,data:{}};function nL(n){return n==="x"?"y":"x"}function rL(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,o=i===void 0?!0:i,s=t.altAxis,a=s===void 0?!1:s,l=t.boundary,u=t.rootBoundary,d=t.altBoundary,h=t.padding,p=t.tether,m=p===void 0?!0:p,v=t.tetherOffset,w=v===void 0?0:v,D=fc(e,{boundary:l,rootBoundary:u,padding:h,altBoundary:d}),_=kr(e.placement),y=rl(e.placement),T=!y,P=C_(_),M=nL(P),L=e.modifiersData.popperOffsets,I=e.rects.reference,E=e.rects.popper,b=typeof w=="function"?w(Object.assign({},e.rects,{placement:e.placement})):w,k=typeof b=="number"?{mainAxis:b,altAxis:b}:Object.assign({mainAxis:0,altAxis:0},b),A=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,O={x:0,y:0};if(L){if(o){var C,ee=P==="y"?_n:wn,oe=P==="y"?Hn:Kn,ie=P==="y"?"height":"width",ne=L[P],Y=ne+D[ee],K=ne-D[oe],H=m?-E[ie]/2:0,de=y===el?I[ie]:E[ie],ce=y===el?-E[ie]:-I[ie],we=e.elements.arrow,ot=m&&we?k_(we):{width:0,height:0},Xe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:S1(),dt=Xe[ee],ht=Xe[oe],Gt=Uu(0,I[ie],ot[ie]),ln=T?I[ie]/2-H-Gt-dt-k.mainAxis:de-Gt-dt-k.mainAxis,sr=T?-I[ie]/2+H+Gt+ht+k.mainAxis:ce+Gt+ht+k.mainAxis,Ln=e.elements.arrow&&Fc(e.elements.arrow),ar=Ln?P==="y"?Ln.clientTop||0:Ln.clientLeft||0:0,lr=(C=A==null?void 0:A[P])!=null?C:0,Le=ne+ln-lr-ar,qn=ne+sr-lr,Et=Uu(m?mf(Y,Le):Y,ne,m?ds(K,qn):K);L[P]=Et,O[P]=Et-ne}if(a){var Vr,qs=P==="x"?_n:wn,No=P==="x"?Hn:Kn,Tn=L[M],Fr=M==="y"?"height":"width",Gs=Tn+D[qs],jr=Tn-D[No],$r=[_n,wn].indexOf(_)!==-1,Oo=(Vr=A==null?void 0:A[M])!=null?Vr:0,st=$r?Gs:Tn-I[Fr]-E[Fr]-Oo+k.altAxis,ft=$r?Tn+I[Fr]+E[Fr]-Oo-k.altAxis:jr,Ur=m&&$r?kM(st,Tn,ft):Uu(m?st:Gs,Tn,m?ft:jr);L[M]=Ur,O[M]=Ur-Tn}e.modifiersData[r]=O}}const iL={name:"preventOverflow",enabled:!0,phase:"main",fn:rL,requiresIfExists:["offset"]};function oL(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function sL(n){return n===Rn(n)||!Cr(n)?x_(n):oL(n)}function aL(n){var e=n.getBoundingClientRect(),t=tl(e.width)/n.offsetWidth||1,r=tl(e.height)/n.offsetHeight||1;return t!==1||r!==1}function lL(n,e,t){t===void 0&&(t=!1);var r=Cr(e),i=Cr(e)&&aL(e),o=So(e),s=nl(n,i,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!t)&&((po(e)!=="body"||A_(o))&&(a=sL(e)),Cr(e)?(l=nl(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=P_(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function uL(n){var e=new Map,t=new Set,r=[];n.forEach(function(o){e.set(o.name,o)});function i(o){t.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return n.forEach(function(o){t.has(o.name)||i(o)}),r}function cL(n){var e=uL(n);return DM.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function dL(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function hL(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var eT={placement:"bottom",modifiers:[],strategy:"absolute"};function tT(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function fL(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,o=i===void 0?eT:i;return function(a,l,u){u===void 0&&(u=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},eT,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],p=!1,m={state:d,setOptions:function(_){var y=typeof _=="function"?_(d.options):_;w(),d.options=Object.assign({},o,d.options,y),d.scrollParents={reference:Is(a)?Bu(a):a.contextElement?Bu(a.contextElement):[],popper:Bu(l)};var T=cL(hL([].concat(r,d.options.modifiers)));return d.orderedModifiers=T.filter(function(P){return P.enabled}),v(),m.update()},forceUpdate:function(){if(!p){var _=d.elements,y=_.reference,T=_.popper;if(tT(y,T)){d.rects={reference:lL(y,Fc(T),d.options.strategy==="fixed"),popper:k_(T)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(k){return d.modifiersData[k.name]=Object.assign({},k.data)});for(var P=0;P<d.orderedModifiers.length;P++){if(d.reset===!0){d.reset=!1,P=-1;continue}var M=d.orderedModifiers[P],L=M.fn,I=M.options,E=I===void 0?{}:I,b=M.name;typeof L=="function"&&(d=L({state:d,options:E,name:b,instance:m})||d)}}}},update:dL(function(){return new Promise(function(D){m.forceUpdate(),D(d)})}),destroy:function(){w(),p=!0}};if(!tT(a,l))return m;m.setOptions(u).then(function(D){!p&&u.onFirstUpdate&&u.onFirstUpdate(D)});function v(){d.orderedModifiers.forEach(function(D){var _=D.name,y=D.options,T=y===void 0?{}:y,P=D.effect;if(typeof P=="function"){var M=P({state:d,name:_,instance:m,options:T}),L=function(){};h.push(M||L)}})}function w(){h.forEach(function(D){return D()}),h=[]}return m}}const pL=fL({defaultModifiers:[QM,tL,MM,VM,ZM,qM,iL,AM]}),mL=["enabled","placement","strategy","modifiers"];function gL(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}const yL={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},vL={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:n})=>()=>{const{reference:e,popper:t}=n.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==t.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:n})=>{var e;const{popper:t,reference:r}=n.elements,i=(e=t.getAttribute("role"))==null?void 0:e.toLowerCase();if(t.id&&i==="tooltip"&&"setAttribute"in r){const o=r.getAttribute("aria-describedby");if(o&&o.split(",").indexOf(t.id)!==-1)return;r.setAttribute("aria-describedby",o?`${o},${t.id}`:t.id)}}},_L=[];function wL(n,e,t={}){let{enabled:r=!0,placement:i="bottom",strategy:o="absolute",modifiers:s=_L}=t,a=gL(t,mL);const l=N.useRef(s),u=N.useRef(),d=N.useCallback(()=>{var D;(D=u.current)==null||D.update()},[]),h=N.useCallback(()=>{var D;(D=u.current)==null||D.forceUpdate()},[]),[p,m]=hM(N.useState({placement:i,update:d,forceUpdate:h,attributes:{},styles:{popper:{},arrow:{}}})),v=N.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:D})=>{const _={},y={};Object.keys(D.elements).forEach(T=>{_[T]=D.styles[T],y[T]=D.attributes[T]}),m({state:D,styles:_,attributes:y,update:d,forceUpdate:h,placement:D.placement})}}),[d,h,m]),w=N.useMemo(()=>($u(l.current,s)||(l.current=s),l.current),[s]);return N.useEffect(()=>{!u.current||!r||u.current.setOptions({placement:i,strategy:o,modifiers:[...w,v,yL]})},[o,i,v,r,w]),N.useEffect(()=>{if(!(!r||n==null||e==null))return u.current=pL(n,e,Object.assign({},a,{placement:i,strategy:o,modifiers:[...w,vL,v]})),()=>{u.current!=null&&(u.current.destroy(),u.current=void 0,m(D=>Object.assign({},D,{attributes:{},styles:{popper:{}}})))}},[r,n,e]),p}function nT(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}var EL=function(){},TL=EL;const IL=El(TL),rT=()=>{};function DL(n){return n.button===0}function SL(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const Ym=n=>n&&("current"in n?n.current:n),iT={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function bL(n,e=rT,{disabled:t,clickTrigger:r="click"}={}){const i=N.useRef(!1),o=N.useRef(!1),s=N.useCallback(u=>{const d=Ym(n);IL(!!d,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!d||SL(u)||!DL(u)||!!nT(d,u.target)||o.current,o.current=!1},[n]),a=br(u=>{const d=Ym(n);d&&nT(d,u.target)&&(o.current=!0)}),l=br(u=>{i.current||e(u)});N.useEffect(()=>{var u,d;if(t||n==null)return;const h=a1(Ym(n)),p=h.defaultView||window;let m=(u=p.event)!=null?u:(d=p.parent)==null?void 0:d.event,v=null;iT[r]&&(v=Ca(h,iT[r],a,!0));const w=Ca(h,r,s,!0),D=Ca(h,r,y=>{if(y===m){m=void 0;return}l(y)});let _=[];return"ontouchstart"in h.documentElement&&(_=[].slice.call(h.body.children).map(y=>Ca(y,"mousemove",rT))),()=>{v==null||v(),w(),D(),_.forEach(y=>y())}},[n,t,r,s,a,l])}function kL(n){const e={};return Array.isArray(n)?(n==null||n.forEach(t=>{e[t.name]=t}),e):n||e}function CL(n={}){return Array.isArray(n)?n:Object.keys(n).map(e=>(n[e].name=e,n[e]))}function xL({enabled:n,enableEvents:e,placement:t,flip:r,offset:i,fixed:o,containerPadding:s,arrowElement:a,popperConfig:l={}}){var u,d,h,p,m;const v=kL(l.modifiers);return Object.assign({},l,{placement:t,enabled:n,strategy:o?"fixed":l.strategy,modifiers:CL(Object.assign({},v,{eventListeners:{enabled:e,options:(u=v.eventListeners)==null?void 0:u.options},preventOverflow:Object.assign({},v.preventOverflow,{options:s?Object.assign({padding:s},(d=v.preventOverflow)==null?void 0:d.options):(h=v.preventOverflow)==null?void 0:h.options}),offset:{options:Object.assign({offset:i},(p=v.offset)==null?void 0:p.options)},arrow:Object.assign({},v.arrow,{enabled:!!a,options:Object.assign({},(m=v.arrow)==null?void 0:m.options,{element:a})}),flip:Object.assign({enabled:!!r},v.flip)}))})}const PL=["children","usePopper"];function AL(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}const RL=()=>{};function P1(n={}){const e=N.useContext(yp),[t,r]=zO(),i=N.useRef(!1),{flip:o,offset:s,rootCloseEvent:a,fixed:l=!1,placement:u,popperConfig:d={},enableEventListeners:h=!0,usePopper:p=!!e}=n,m=(e==null?void 0:e.show)==null?!!n.show:e.show;m&&!i.current&&(i.current=!0);const v=L=>{e==null||e.toggle(!1,L)},{placement:w,setMenu:D,menuElement:_,toggleElement:y}=e||{},T=wL(y,_,xL({placement:u||w||"bottom-start",enabled:p,enableEvents:h??m,offset:s,flip:o,fixed:l,arrowElement:t,popperConfig:d})),P=Object.assign({ref:D||RL,"aria-labelledby":y==null?void 0:y.id},T.attributes.popper,{style:T.styles.popper}),M={show:m,placement:w,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:p?T:null,arrowProps:p?Object.assign({ref:r},T.attributes.arrow,{style:T.styles.arrow}):{}};return bL(_,v,{clickTrigger:a,disabled:!m}),[P,M]}function A1(n){let{children:e,usePopper:t=!0}=n,r=AL(n,PL);const[i,o]=P1(Object.assign({},r,{usePopper:t}));return R.jsx(R.Fragment,{children:e(i,o)})}A1.displayName="DropdownMenu";const gf={prefix:String(Math.round(Math.random()*1e10)),current:0},R1=F.createContext(gf),NL=F.createContext(!1);let OL=!!(typeof window<"u"&&window.document&&window.document.createElement),zm=new WeakMap;function ML(n=!1){let e=N.useContext(R1),t=N.useRef(null);if(t.current===null&&!n){var r,i;let o=(i=F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(o){let s=zm.get(o);s==null?zm.set(o,{id:e.current,state:o.memoizedState}):o.memoizedState!==s.state&&(e.current=s.id,zm.delete(o))}t.current=++e.current}return t.current}function LL(n){let e=N.useContext(R1);e===gf&&!OL&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let t=ML(!!n),r=`react-aria${e.prefix}`;return n||`${r}-${t}`}function VL(n){let e=F.useId(),[t]=N.useState(BL()),r=t?"react-aria":`react-aria${gf.prefix}`;return n||`${r}-${e}`}const FL=typeof F.useId=="function"?VL:LL;function jL(){return!1}function $L(){return!0}function UL(n){return()=>{}}function BL(){return typeof F.useSyncExternalStore=="function"?F.useSyncExternalStore(UL,jL,$L):N.useContext(NL)}const N1=n=>{var e;return((e=n.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},oT=()=>{};function O1(){const n=FL(),{show:e=!1,toggle:t=oT,setToggle:r,menuElement:i}=N.useContext(yp)||{},o=N.useCallback(a=>{t(!e,a)},[e,t]),s={id:n,ref:r||oT,onClick:o,"aria-expanded":!!e};return i&&N1(i)&&(s["aria-haspopup"]=!0),[s,{show:e,toggle:t}]}function M1({children:n}){const[e,t]=O1();return R.jsx(R.Fragment,{children:n(e,t)})}M1.displayName="DropdownToggle";const Ey=N.createContext(null),sT=(n,e=null)=>n!=null?String(n):e||null,L1=N.createContext(null);L1.displayName="NavContext";const WL="data-rr-ui-";function V1(n){return`${WL}${n}`}const YL=["eventKey","disabled","onClick","active","as"];function zL(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function F1({key:n,href:e,active:t,disabled:r,onClick:i}){const o=N.useContext(Ey),s=N.useContext(L1),{activeKey:a}=s||{},l=sT(n,e),u=t==null&&n!=null?sT(a)===l:t;return[{onClick:br(h=>{r||(i==null||i(h),o&&!h.isPropagationStopped()&&o(l,h))}),"aria-disabled":r||void 0,"aria-selected":u,[V1("dropdown-item")]:""},{isActive:u}]}const j1=N.forwardRef((n,e)=>{let{eventKey:t,disabled:r,onClick:i,active:o,as:s=y1}=n,a=zL(n,YL);const[l]=F1({key:t,href:a.href,disabled:r,onClick:i,active:o});return R.jsx(s,Object.assign({},a,{ref:e},l))});j1.displayName="DropdownItem";const $1=N.createContext(f1?window:void 0);$1.Provider;function HL(){return N.useContext($1)}function aT(){const n=dM(),e=N.useRef(null),t=N.useCallback(r=>{e.current=r,n()},[n]);return[e,t]}function jc({defaultShow:n,show:e,onSelect:t,onToggle:r,itemSelector:i=`* [${V1("dropdown-item")}]`,focusFirstItemOnShow:o,placement:s="bottom-start",children:a}){const l=HL(),[u,d]=cM(e,n,r),[h,p]=aT(),m=h.current,[v,w]=aT(),D=v.current,_=qO(u),y=N.useRef(null),T=N.useRef(!1),P=N.useContext(Ey),M=N.useCallback((A,O,C=O==null?void 0:O.type)=>{d(A,{originalEvent:O,source:C})},[d]),L=br((A,O)=>{t==null||t(A,O),M(!1,O,"select"),O.isPropagationStopped()||P==null||P(A,O)}),I=N.useMemo(()=>({toggle:M,placement:s,show:u,menuElement:m,toggleElement:D,setMenu:p,setToggle:w}),[M,s,u,m,D,p,w]);m&&_&&!u&&(T.current=m.contains(m.ownerDocument.activeElement));const E=br(()=>{D&&D.focus&&D.focus()}),b=br(()=>{const A=y.current;let O=o;if(O==null&&(O=h.current&&N1(h.current)?"keyboard":!1),O===!1||O==="keyboard"&&!/^key.+$/.test(A))return;const C=YE(h.current,i)[0];C&&C.focus&&C.focus()});N.useEffect(()=>{u?b():T.current&&(T.current=!1,E())},[u,T,E,b]),N.useEffect(()=>{y.current=null});const k=(A,O)=>{if(!h.current)return null;const C=YE(h.current,i);let ee=C.indexOf(A)+O;return ee=Math.max(0,Math.min(ee,C.length)),C[ee]};return HO(N.useCallback(()=>l.document,[l]),"keydown",A=>{var O,C;const{key:ee}=A,oe=A.target,ie=(O=h.current)==null?void 0:O.contains(oe),ne=(C=v.current)==null?void 0:C.contains(oe);if(/input|textarea/i.test(oe.tagName)&&(ee===" "||ee!=="Escape"&&ie||ee==="Escape"&&oe.type==="search")||!ie&&!ne||ee==="Tab"&&(!h.current||!u))return;y.current=A.type;const K={originalEvent:A,source:A.type};switch(ee){case"ArrowUp":{const H=k(oe,-1);H&&H.focus&&H.focus(),A.preventDefault();return}case"ArrowDown":if(A.preventDefault(),!u)d(!0,K);else{const H=k(oe,1);H&&H.focus&&H.focus()}return;case"Tab":p1(oe.ownerDocument,"keyup",H=>{var de;(H.key==="Tab"&&!H.target||!((de=h.current)!=null&&de.contains(H.target)))&&d(!1,K)},{once:!0});break;case"Escape":ee==="Escape"&&(A.preventDefault(),A.stopPropagation()),d(!1,K);break}}),R.jsx(Ey.Provider,{value:L,children:R.jsx(yp.Provider,{value:I,children:a})})}jc.displayName="Dropdown";jc.Menu=A1;jc.Toggle=M1;jc.Item=j1;const R_=N.createContext({});R_.displayName="DropdownContext";const U1=N.forwardRef(({className:n,bsPrefix:e,as:t="hr",role:r="separator",...i},o)=>(e=Pe(e,"dropdown-divider"),R.jsx(t,{ref:o,className:ve(n,e),role:r,...i})));U1.displayName="DropdownDivider";const B1=N.forwardRef(({className:n,bsPrefix:e,as:t="div",role:r="heading",...i},o)=>(e=Pe(e,"dropdown-header"),R.jsx(t,{ref:o,className:ve(n,e),role:r,...i})));B1.displayName="DropdownHeader";const W1=N.forwardRef(({bsPrefix:n,className:e,eventKey:t,disabled:r=!1,onClick:i,active:o,as:s=T_,...a},l)=>{const u=Pe(n,"dropdown-item"),[d,h]=F1({key:t,href:a.href,disabled:r,onClick:i,active:o});return R.jsx(s,{...a,...d,ref:l,className:ve(e,u,h.isActive&&"active",r&&"disabled")})});W1.displayName="DropdownItem";const Y1=N.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},i)=>(e=Pe(e,"dropdown-item-text"),R.jsx(t,{ref:i,className:ve(n,e),...r})));Y1.displayName="DropdownItemText";const _p=N.createContext(null);_p.displayName="InputGroupContext";const z1=N.createContext(null);z1.displayName="NavbarContext";function H1(n,e){return n}function K1(n,e,t){const r=t?"top-end":"top-start",i=t?"top-start":"top-end",o=t?"bottom-end":"bottom-start",s=t?"bottom-start":"bottom-end",a=t?"right-start":"left-start",l=t?"right-end":"left-end",u=t?"left-start":"right-start",d=t?"left-end":"right-end";let h=n?s:o;return e==="up"?h=n?i:r:e==="end"?h=n?d:u:e==="start"?h=n?l:a:e==="down-centered"?h="bottom":e==="up-centered"&&(h="top"),h}const q1=N.forwardRef(({bsPrefix:n,className:e,align:t,rootCloseEvent:r,flip:i=!0,show:o,renderOnMount:s,as:a="div",popperConfig:l,variant:u,...d},h)=>{let p=!1;const m=N.useContext(z1),v=Pe(n,"dropdown-menu"),{align:w,drop:D,isRTL:_}=N.useContext(R_);t=t||w;const y=N.useContext(_p),T=[];if(t)if(typeof t=="object"){const A=Object.keys(t);if(A.length){const O=A[0],C=t[O];p=C==="start",T.push(`${v}-${O}-${C}`)}}else t==="end"&&(p=!0);const P=K1(p,D,_),[M,{hasShown:L,popper:I,show:E,toggle:b}]=P1({flip:i,rootCloseEvent:r,show:o,usePopper:!m&&T.length===0,offset:[0,2],popperConfig:l,placement:P});if(M.ref=w_(H1(h),M.ref),XO(()=>{E&&(I==null||I.update())},[E]),!L&&!s&&!y)return null;typeof a!="string"&&(M.show=E,M.close=()=>b==null?void 0:b(!1),M.align=t);let k=d.style;return I!=null&&I.placement&&(k={...d.style,...M.style},d["x-placement"]=I.placement),R.jsx(a,{...d,...M,style:k,...(T.length||m)&&{"data-bs-popper":"static"},className:ve(e,v,E&&"show",p&&`${v}-end`,u&&`${v}-${u}`,...T)})});q1.displayName="DropdownMenu";const G1=N.forwardRef(({bsPrefix:n,split:e,className:t,childBsPrefix:r,as:i=wt,...o},s)=>{const a=Pe(n,"dropdown-toggle"),l=N.useContext(yp);r!==void 0&&(o.bsPrefix=r);const[u]=O1();return u.ref=w_(u.ref,H1(s)),R.jsx(i,{className:ve(t,a,e&&`${a}-split`,(l==null?void 0:l.show)&&"show"),...u,...o})});G1.displayName="DropdownToggle";const Q1=N.forwardRef((n,e)=>{const{bsPrefix:t,drop:r="down",show:i,className:o,align:s="start",onSelect:a,onToggle:l,focusFirstItemOnShow:u,as:d="div",navbar:h,autoClose:p=!0,...m}=i1(n,{show:"onToggle"}),v=N.useContext(_p),w=Pe(t,"dropdown"),D=_O(),_=I=>p===!1?I==="click":p==="inside"?I!=="rootClose":p==="outside"?I!=="select":!0,y=br((I,E)=>{var b,k;!((b=E.originalEvent)==null||(k=b.target)==null)&&k.classList.contains("dropdown-toggle")&&E.source==="mousedown"||(E.originalEvent.currentTarget===document&&(E.source!=="keydown"||E.originalEvent.key==="Escape")&&(E.source="rootClose"),_(E.source)&&(l==null||l(I,E)))}),P=K1(s==="end",r,D),M=N.useMemo(()=>({align:s,drop:r,isRTL:D}),[s,r,D]),L={down:w,"down-centered":`${w}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return R.jsx(R_.Provider,{value:M,children:R.jsx(jc,{placement:P,show:i,onSelect:a,onToggle:y,focusFirstItemOnShow:u,itemSelector:`.${w}-item:not(.disabled):not(:disabled)`,children:v?m.children:R.jsx(d,{...m,ref:e,className:ve(o,i&&"show",L[r])})})})});Q1.displayName="Dropdown";const Hd=Object.assign(Q1,{Toggle:G1,Menu:q1,Item:W1,ItemText:Y1,Divider:U1,Header:B1}),KL={type:ii.string,tooltip:ii.bool,as:ii.elementType},wp=N.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:r=!1,...i},o)=>R.jsx(n,{...i,ref:o,className:ve(e,`${t}-${r?"tooltip":"feedback"}`)}));wp.displayName="Feedback";wp.propTypes=KL;const fi=N.createContext({}),$c=N.forwardRef(({id:n,bsPrefix:e,className:t,type:r="checkbox",isValid:i=!1,isInvalid:o=!1,as:s="input",...a},l)=>{const{controlId:u}=N.useContext(fi);return e=Pe(e,"form-check-input"),R.jsx(s,{...a,ref:l,type:r,id:n||u,className:ve(t,e,i&&"is-valid",o&&"is-invalid")})});$c.displayName="FormCheckInput";const yf=N.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...r},i)=>{const{controlId:o}=N.useContext(fi);return n=Pe(n,"form-check-label"),R.jsx("label",{...r,ref:i,htmlFor:t||o,className:ve(e,n)})});yf.displayName="FormCheckLabel";const X1=N.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:r=!1,reverse:i=!1,disabled:o=!1,isValid:s=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:u,feedbackType:d,className:h,style:p,title:m="",type:v="checkbox",label:w,children:D,as:_="input",...y},T)=>{e=Pe(e,"form-check"),t=Pe(t,"form-switch");const{controlId:P}=N.useContext(fi),M=N.useMemo(()=>({controlId:n||P}),[P,n]),L=!D&&w!=null&&w!==!1||aM(D,yf),I=R.jsx($c,{...y,type:v==="switch"?"checkbox":v,ref:T,isValid:s,isInvalid:a,disabled:o,as:_});return R.jsx(fi.Provider,{value:M,children:R.jsx("div",{style:p,className:ve(h,L&&e,r&&`${e}-inline`,i&&`${e}-reverse`,v==="switch"&&t),children:D||R.jsxs(R.Fragment,{children:[I,L&&R.jsx(yf,{title:m,children:w}),u&&R.jsx(wp,{type:d,tooltip:l,children:u})]})})})});X1.displayName="FormCheck";const vf=Object.assign(X1,{Input:$c,Label:yf}),J1=N.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:r,id:i,className:o,isValid:s=!1,isInvalid:a=!1,plaintext:l,readOnly:u,as:d="input",...h},p)=>{const{controlId:m}=N.useContext(fi);return n=Pe(n,"form-control"),R.jsx(d,{...h,type:e,size:r,ref:p,readOnly:u,id:i||m,className:ve(o,l?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,s&&"is-valid",a&&"is-invalid")})});J1.displayName="FormControl";const qL=Object.assign(J1,{Feedback:wp}),Z1=N.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Pe(e,"form-floating"),R.jsx(t,{ref:i,className:ve(n,e),...r})));Z1.displayName="FormFloating";const N_=N.forwardRef(({controlId:n,as:e="div",...t},r)=>{const i=N.useMemo(()=>({controlId:n}),[n]);return R.jsx(fi.Provider,{value:i,children:R.jsx(e,{...t,ref:r})})});N_.displayName="FormGroup";const ek=N.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:r=!1,className:i,htmlFor:o,...s},a)=>{const{controlId:l}=N.useContext(fi);e=Pe(e,"form-label");let u="col-form-label";typeof t=="string"&&(u=`${u} ${u}-${t}`);const d=ve(i,e,r&&"visually-hidden",t&&u);return o=o||l,t?R.jsx(fo,{ref:a,as:"label",className:d,htmlFor:o,...s}):R.jsx(n,{ref:a,className:d,htmlFor:o,...s})});ek.displayName="FormLabel";const tk=N.forwardRef(({bsPrefix:n,className:e,id:t,...r},i)=>{const{controlId:o}=N.useContext(fi);return n=Pe(n,"form-range"),R.jsx("input",{...r,type:"range",ref:i,className:ve(e,n),id:t||o})});tk.displayName="FormRange";const nk=N.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:r,isValid:i=!1,isInvalid:o=!1,id:s,...a},l)=>{const{controlId:u}=N.useContext(fi);return n=Pe(n,"form-select"),R.jsx("select",{...a,size:t,ref:l,className:ve(r,n,e&&`${n}-${e}`,i&&"is-valid",o&&"is-invalid"),id:s||u})});nk.displayName="FormSelect";const rk=N.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:r,...i},o)=>(n=Pe(n,"form-text"),R.jsx(t,{...i,ref:o,className:ve(e,n,r&&"text-muted")})));rk.displayName="FormText";const ik=N.forwardRef((n,e)=>R.jsx(vf,{...n,ref:e,type:"switch"}));ik.displayName="Switch";const GL=Object.assign(ik,{Input:vf.Input,Label:vf.Label}),ok=N.forwardRef(({bsPrefix:n,className:e,children:t,controlId:r,label:i,...o},s)=>(n=Pe(n,"form-floating"),R.jsxs(N_,{ref:s,className:ve(e,n),controlId:r,...o,children:[t,R.jsx("label",{htmlFor:r,children:i})]})));ok.displayName="FloatingLabel";const QL={_ref:ii.any,validated:ii.bool,as:ii.elementType},O_=N.forwardRef(({className:n,validated:e,as:t="form",...r},i)=>R.jsx(t,{...r,ref:i,className:ve(n,e&&"was-validated")}));O_.displayName="Form";O_.propTypes=QL;const Ot=Object.assign(O_,{Group:N_,Control:qL,Floating:Z1,Check:vf,Switch:GL,Label:ek,Text:rk,Range:tk,Select:nk,FloatingLabel:ok}),Ep=N.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},i)=>(e=Pe(e,"input-group-text"),R.jsx(t,{ref:i,className:ve(n,e),...r})));Ep.displayName="InputGroupText";const XL=n=>R.jsx(Ep,{children:R.jsx($c,{type:"checkbox",...n})}),JL=n=>R.jsx(Ep,{children:R.jsx($c,{type:"radio",...n})}),sk=N.forwardRef(({bsPrefix:n,size:e,hasValidation:t,className:r,as:i="div",...o},s)=>{n=Pe(n,"input-group");const a=N.useMemo(()=>({}),[]);return R.jsx(_p.Provider,{value:a,children:R.jsx(i,{ref:s,...o,className:ve(r,n,e&&`${n}-${e}`,t&&"has-validation")})})});sk.displayName="InputGroup";const lT=Object.assign(sk,{Text:Ep,Radio:JL,Checkbox:XL}),ak=N.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},i)=>{const o=Pe(n,"row"),s=o1(),a=s1(),l=`${o}-cols`,u=[];return s.forEach(d=>{const h=r[d];delete r[d];let p;h!=null&&typeof h=="object"?{cols:p}=h:p=h;const m=d!==a?`-${d}`:"";p!=null&&u.push(`${l}${m}-${p}`)}),R.jsx(t,{ref:i,...r,className:ve(e,o,...u)})});ak.displayName="Row";const ZL=N.forwardRef(({bsPrefix:n,className:e,striped:t,bordered:r,borderless:i,hover:o,size:s,variant:a,responsive:l,...u},d)=>{const h=Pe(n,"table"),p=ve(e,h,a&&`${h}-${a}`,s&&`${h}-${s}`,t&&`${h}-${typeof t=="string"?`striped-${t}`:"striped"}`,r&&`${h}-bordered`,i&&`${h}-borderless`,o&&`${h}-hover`),m=R.jsx("table",{...u,className:p,ref:d});if(l){let v=`${h}-responsive`;return typeof l=="string"&&(v=`${v}-${l}`),R.jsx("div",{className:v,children:m})}return m});var uT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},eV=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],s=n[t++],a=n[t++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},uk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],s=i+1<n.length,a=s?n[i+1]:0,l=i+2<n.length,u=l?n[i+2]:0,d=o>>2,h=(o&3)<<4|a>>4;let p=(a&15)<<2|u>>6,m=u&63;l||(m=64,s||(p=64)),r.push(t[d],t[h],t[p],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(lk(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):eV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const u=i<n.length?t[n.charAt(i)]:64;++i;const h=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||h==null)throw new tV;const p=o<<2|a>>4;if(r.push(p),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const v=u<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class tV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nV=function(n){const e=lk(n);return uk.encodeByteArray(e,!0)},_f=function(n){return nV(n).replace(/\./g,"")},ck=function(n){try{return uk.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=()=>rV().__FIREBASE_DEFAULTS__,oV=()=>{if(typeof process>"u"||typeof uT>"u")return;const n=uT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},sV=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ck(n[1]);return e&&JSON.parse(e)},Tp=()=>{try{return iV()||oV()||sV()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},dk=n=>{var e,t;return(t=(e=Tp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},aV=n=>{const e=dk(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},hk=()=>{var n;return(n=Tp())===null||n===void 0?void 0:n.config},fk=n=>{var e;return(e=Tp())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[_f(JSON.stringify(t)),_f(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function dV(){var n;const e=(n=Tp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hV(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function fV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pV(){const n=yt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function pk(){return!dV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mk(){try{return typeof indexedDB=="object"}catch{return!1}}function mV(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV="FirebaseError";class wi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=gV,Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uc.prototype.create)}}class Uc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?yV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new wi(i,a,r)}}function yV(n,e){return n.replace(vV,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const vV=/\{\$([^}]+)}/g;function _V(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function il(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],s=e[i];if(cT(o)&&cT(s)){if(!il(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function cT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Eu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Tu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function wV(n,e){const t=new EV(n,e);return t.subscribe.bind(t)}class EV{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");TV(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Hm),i.error===void 0&&(i.error=Hm),i.complete===void 0&&(i.complete=Hm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TV(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Hm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(n){return n&&n._delegate?n._delegate:n}class Ds{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new lV;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SV(e))try{this.getOrInitializeService({instanceIdentifier:Qo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Qo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qo){return this.instances.has(e)}getOptions(e=Qo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DV(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qo){return this.component?this.component.multipleInstances?e:Qo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DV(n){return n===Qo?void 0:n}function SV(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new IV(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(me||(me={}));const kV={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},CV=me.INFO,xV={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},PV=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=xV[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class M_{constructor(e){this.name=e,this._logLevel=CV,this._logHandler=PV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const AV=(n,e)=>e.some(t=>n instanceof t);let dT,hT;function RV(){return dT||(dT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NV(){return hT||(hT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gk=new WeakMap,Ty=new WeakMap,yk=new WeakMap,Km=new WeakMap,L_=new WeakMap;function OV(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(no(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&gk.set(t,n)}).catch(()=>{}),L_.set(e,n),e}function MV(n){if(Ty.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Ty.set(n,e)}let Iy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ty.get(n);if(e==="objectStoreNames")return n.objectStoreNames||yk.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return no(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function LV(n){Iy=n(Iy)}function VV(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(qm(this),e,...t);return yk.set(r,e.sort?e.sort():[e]),no(r)}:NV().includes(n)?function(...e){return n.apply(qm(this),e),no(gk.get(this))}:function(...e){return no(n.apply(qm(this),e))}}function FV(n){return typeof n=="function"?VV(n):(n instanceof IDBTransaction&&MV(n),AV(n,RV())?new Proxy(n,Iy):n)}function no(n){if(n instanceof IDBRequest)return OV(n);if(Km.has(n))return Km.get(n);const e=FV(n);return e!==n&&(Km.set(n,e),L_.set(e,n)),e}const qm=n=>L_.get(n);function jV(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=no(s);return r&&s.addEventListener("upgradeneeded",l=>{r(no(s.result),l.oldVersion,l.newVersion,no(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const $V=["get","getKey","getAll","getAllKeys","count"],UV=["put","add","delete","clear"],Gm=new Map;function fT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Gm.get(e))return Gm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=UV.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$V.includes(t)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[t](...a),i&&l.done]))[0]};return Gm.set(e,o),o}LV(n=>({...n,get:(e,t,r)=>fT(e,t)||n.get(e,t,r),has:(e,t)=>!!fT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(WV(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function WV(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dy="@firebase/app",pT="0.10.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new M_("@firebase/app"),YV="@firebase/app-compat",zV="@firebase/analytics-compat",HV="@firebase/analytics",KV="@firebase/app-check-compat",qV="@firebase/app-check",GV="@firebase/auth",QV="@firebase/auth-compat",XV="@firebase/database",JV="@firebase/database-compat",ZV="@firebase/functions",e2="@firebase/functions-compat",t2="@firebase/installations",n2="@firebase/installations-compat",r2="@firebase/messaging",i2="@firebase/messaging-compat",o2="@firebase/performance",s2="@firebase/performance-compat",a2="@firebase/remote-config",l2="@firebase/remote-config-compat",u2="@firebase/storage",c2="@firebase/storage-compat",d2="@firebase/firestore",h2="@firebase/vertexai-preview",f2="@firebase/firestore-compat",p2="firebase",m2="10.12.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="[DEFAULT]",g2={[Dy]:"fire-core",[YV]:"fire-core-compat",[HV]:"fire-analytics",[zV]:"fire-analytics-compat",[qV]:"fire-app-check",[KV]:"fire-app-check-compat",[GV]:"fire-auth",[QV]:"fire-auth-compat",[XV]:"fire-rtdb",[JV]:"fire-rtdb-compat",[ZV]:"fire-fn",[e2]:"fire-fn-compat",[t2]:"fire-iid",[n2]:"fire-iid-compat",[r2]:"fire-fcm",[i2]:"fire-fcm-compat",[o2]:"fire-perf",[s2]:"fire-perf-compat",[a2]:"fire-rc",[l2]:"fire-rc-compat",[u2]:"fire-gcs",[c2]:"fire-gcs-compat",[d2]:"fire-fst",[f2]:"fire-fst-compat",[h2]:"fire-vertex","fire-js":"fire-js",[p2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf=new Map,y2=new Map,by=new Map;function mT(n,e){try{n.container.addComponent(e)}catch(t){Ss.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ol(n){const e=n.name;if(by.has(e))return Ss.debug(`There were multiple attempts to register component ${e}.`),!1;by.set(e,n);for(const t of wf.values())mT(t,n);for(const t of y2.values())mT(t,n);return!0}function Ip(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Er(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ro=new Uc("app","Firebase",v2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ro.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=m2;function vk(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Sy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ro.create("bad-app-name",{appName:String(i)});if(t||(t=hk()),!t)throw ro.create("no-options");const o=wf.get(i);if(o){if(il(t,o.options)&&il(r,o.config))return o;throw ro.create("duplicate-app",{appName:i})}const s=new bV(i);for(const l of by.values())s.addComponent(l);const a=new _2(t,r,s);return wf.set(i,a),a}function _k(n=Sy){const e=wf.get(n);if(!e&&n===Sy&&hk())return vk();if(!e)throw ro.create("no-app",{appName:n});return e}function io(n,e,t){var r;let i=(r=g2[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ss.warn(a.join(" "));return}ol(new Ds(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="firebase-heartbeat-database",E2=1,pc="firebase-heartbeat-store";let Qm=null;function wk(){return Qm||(Qm=jV(w2,E2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(pc)}catch(t){console.warn(t)}}}}).catch(n=>{throw ro.create("idb-open",{originalErrorMessage:n.message})})),Qm}async function T2(n){try{const t=(await wk()).transaction(pc),r=await t.objectStore(pc).get(Ek(n));return await t.done,r}catch(e){if(e instanceof wi)Ss.warn(e.message);else{const t=ro.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ss.warn(t.message)}}}async function gT(n,e){try{const r=(await wk()).transaction(pc,"readwrite");await r.objectStore(pc).put(e,Ek(n)),await r.done}catch(t){if(t instanceof wi)Ss.warn(t.message);else{const r=ro.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ss.warn(r.message)}}}function Ek(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=1024,D2=30*24*60*60*1e3;class S2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new k2(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=yT();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=D2}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=yT(),{heartbeatsToSend:r,unsentEntries:i}=b2(this._heartbeatsCache.heartbeats),o=_f(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function yT(){return new Date().toISOString().substring(0,10)}function b2(n,e=I2){const t=[];let r=n.slice();for(const i of n){const o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),vT(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),vT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class k2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mk()?mV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await T2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return gT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return gT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function vT(n){return _f(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(n){ol(new Ds("platform-logger",e=>new BV(e),"PRIVATE")),ol(new Ds("heartbeat",e=>new S2(e),"PRIVATE")),io(Dy,pT,n),io(Dy,pT,"esm2017"),io("fire-js","")}C2("");var x2="firebase",P2="10.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */io(x2,P2,"app");var _T=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hs,Tk;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,E){function b(){}b.prototype=E.prototype,I.D=E.prototype,I.prototype=new b,I.prototype.constructor=I,I.C=function(k,A,O){for(var C=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)C[ee-2]=arguments[ee];return E.prototype[A].apply(k,C)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,E,b){b||(b=0);var k=Array(16);if(typeof E=="string")for(var A=0;16>A;++A)k[A]=E.charCodeAt(b++)|E.charCodeAt(b++)<<8|E.charCodeAt(b++)<<16|E.charCodeAt(b++)<<24;else for(A=0;16>A;++A)k[A]=E[b++]|E[b++]<<8|E[b++]<<16|E[b++]<<24;E=I.g[0],b=I.g[1],A=I.g[2];var O=I.g[3],C=E+(O^b&(A^O))+k[0]+3614090360&4294967295;E=b+(C<<7&4294967295|C>>>25),C=O+(A^E&(b^A))+k[1]+3905402710&4294967295,O=E+(C<<12&4294967295|C>>>20),C=A+(b^O&(E^b))+k[2]+606105819&4294967295,A=O+(C<<17&4294967295|C>>>15),C=b+(E^A&(O^E))+k[3]+3250441966&4294967295,b=A+(C<<22&4294967295|C>>>10),C=E+(O^b&(A^O))+k[4]+4118548399&4294967295,E=b+(C<<7&4294967295|C>>>25),C=O+(A^E&(b^A))+k[5]+1200080426&4294967295,O=E+(C<<12&4294967295|C>>>20),C=A+(b^O&(E^b))+k[6]+2821735955&4294967295,A=O+(C<<17&4294967295|C>>>15),C=b+(E^A&(O^E))+k[7]+4249261313&4294967295,b=A+(C<<22&4294967295|C>>>10),C=E+(O^b&(A^O))+k[8]+1770035416&4294967295,E=b+(C<<7&4294967295|C>>>25),C=O+(A^E&(b^A))+k[9]+2336552879&4294967295,O=E+(C<<12&4294967295|C>>>20),C=A+(b^O&(E^b))+k[10]+4294925233&4294967295,A=O+(C<<17&4294967295|C>>>15),C=b+(E^A&(O^E))+k[11]+2304563134&4294967295,b=A+(C<<22&4294967295|C>>>10),C=E+(O^b&(A^O))+k[12]+1804603682&4294967295,E=b+(C<<7&4294967295|C>>>25),C=O+(A^E&(b^A))+k[13]+4254626195&4294967295,O=E+(C<<12&4294967295|C>>>20),C=A+(b^O&(E^b))+k[14]+2792965006&4294967295,A=O+(C<<17&4294967295|C>>>15),C=b+(E^A&(O^E))+k[15]+1236535329&4294967295,b=A+(C<<22&4294967295|C>>>10),C=E+(A^O&(b^A))+k[1]+4129170786&4294967295,E=b+(C<<5&4294967295|C>>>27),C=O+(b^A&(E^b))+k[6]+3225465664&4294967295,O=E+(C<<9&4294967295|C>>>23),C=A+(E^b&(O^E))+k[11]+643717713&4294967295,A=O+(C<<14&4294967295|C>>>18),C=b+(O^E&(A^O))+k[0]+3921069994&4294967295,b=A+(C<<20&4294967295|C>>>12),C=E+(A^O&(b^A))+k[5]+3593408605&4294967295,E=b+(C<<5&4294967295|C>>>27),C=O+(b^A&(E^b))+k[10]+38016083&4294967295,O=E+(C<<9&4294967295|C>>>23),C=A+(E^b&(O^E))+k[15]+3634488961&4294967295,A=O+(C<<14&4294967295|C>>>18),C=b+(O^E&(A^O))+k[4]+3889429448&4294967295,b=A+(C<<20&4294967295|C>>>12),C=E+(A^O&(b^A))+k[9]+568446438&4294967295,E=b+(C<<5&4294967295|C>>>27),C=O+(b^A&(E^b))+k[14]+3275163606&4294967295,O=E+(C<<9&4294967295|C>>>23),C=A+(E^b&(O^E))+k[3]+4107603335&4294967295,A=O+(C<<14&4294967295|C>>>18),C=b+(O^E&(A^O))+k[8]+1163531501&4294967295,b=A+(C<<20&4294967295|C>>>12),C=E+(A^O&(b^A))+k[13]+2850285829&4294967295,E=b+(C<<5&4294967295|C>>>27),C=O+(b^A&(E^b))+k[2]+4243563512&4294967295,O=E+(C<<9&4294967295|C>>>23),C=A+(E^b&(O^E))+k[7]+1735328473&4294967295,A=O+(C<<14&4294967295|C>>>18),C=b+(O^E&(A^O))+k[12]+2368359562&4294967295,b=A+(C<<20&4294967295|C>>>12),C=E+(b^A^O)+k[5]+4294588738&4294967295,E=b+(C<<4&4294967295|C>>>28),C=O+(E^b^A)+k[8]+2272392833&4294967295,O=E+(C<<11&4294967295|C>>>21),C=A+(O^E^b)+k[11]+1839030562&4294967295,A=O+(C<<16&4294967295|C>>>16),C=b+(A^O^E)+k[14]+4259657740&4294967295,b=A+(C<<23&4294967295|C>>>9),C=E+(b^A^O)+k[1]+2763975236&4294967295,E=b+(C<<4&4294967295|C>>>28),C=O+(E^b^A)+k[4]+1272893353&4294967295,O=E+(C<<11&4294967295|C>>>21),C=A+(O^E^b)+k[7]+4139469664&4294967295,A=O+(C<<16&4294967295|C>>>16),C=b+(A^O^E)+k[10]+3200236656&4294967295,b=A+(C<<23&4294967295|C>>>9),C=E+(b^A^O)+k[13]+681279174&4294967295,E=b+(C<<4&4294967295|C>>>28),C=O+(E^b^A)+k[0]+3936430074&4294967295,O=E+(C<<11&4294967295|C>>>21),C=A+(O^E^b)+k[3]+3572445317&4294967295,A=O+(C<<16&4294967295|C>>>16),C=b+(A^O^E)+k[6]+76029189&4294967295,b=A+(C<<23&4294967295|C>>>9),C=E+(b^A^O)+k[9]+3654602809&4294967295,E=b+(C<<4&4294967295|C>>>28),C=O+(E^b^A)+k[12]+3873151461&4294967295,O=E+(C<<11&4294967295|C>>>21),C=A+(O^E^b)+k[15]+530742520&4294967295,A=O+(C<<16&4294967295|C>>>16),C=b+(A^O^E)+k[2]+3299628645&4294967295,b=A+(C<<23&4294967295|C>>>9),C=E+(A^(b|~O))+k[0]+4096336452&4294967295,E=b+(C<<6&4294967295|C>>>26),C=O+(b^(E|~A))+k[7]+1126891415&4294967295,O=E+(C<<10&4294967295|C>>>22),C=A+(E^(O|~b))+k[14]+2878612391&4294967295,A=O+(C<<15&4294967295|C>>>17),C=b+(O^(A|~E))+k[5]+4237533241&4294967295,b=A+(C<<21&4294967295|C>>>11),C=E+(A^(b|~O))+k[12]+1700485571&4294967295,E=b+(C<<6&4294967295|C>>>26),C=O+(b^(E|~A))+k[3]+2399980690&4294967295,O=E+(C<<10&4294967295|C>>>22),C=A+(E^(O|~b))+k[10]+4293915773&4294967295,A=O+(C<<15&4294967295|C>>>17),C=b+(O^(A|~E))+k[1]+2240044497&4294967295,b=A+(C<<21&4294967295|C>>>11),C=E+(A^(b|~O))+k[8]+1873313359&4294967295,E=b+(C<<6&4294967295|C>>>26),C=O+(b^(E|~A))+k[15]+4264355552&4294967295,O=E+(C<<10&4294967295|C>>>22),C=A+(E^(O|~b))+k[6]+2734768916&4294967295,A=O+(C<<15&4294967295|C>>>17),C=b+(O^(A|~E))+k[13]+1309151649&4294967295,b=A+(C<<21&4294967295|C>>>11),C=E+(A^(b|~O))+k[4]+4149444226&4294967295,E=b+(C<<6&4294967295|C>>>26),C=O+(b^(E|~A))+k[11]+3174756917&4294967295,O=E+(C<<10&4294967295|C>>>22),C=A+(E^(O|~b))+k[2]+718787259&4294967295,A=O+(C<<15&4294967295|C>>>17),C=b+(O^(A|~E))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+E&4294967295,I.g[1]=I.g[1]+(A+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+A&4294967295,I.g[3]=I.g[3]+O&4294967295}r.prototype.u=function(I,E){E===void 0&&(E=I.length);for(var b=E-this.blockSize,k=this.B,A=this.h,O=0;O<E;){if(A==0)for(;O<=b;)i(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<E;)if(k[A++]=I.charCodeAt(O++),A==this.blockSize){i(this,k),A=0;break}}else for(;O<E;)if(k[A++]=I[O++],A==this.blockSize){i(this,k),A=0;break}}this.h=A,this.o+=E},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var E=1;E<I.length-8;++E)I[E]=0;var b=8*this.o;for(E=I.length-8;E<I.length;++E)I[E]=b&255,b/=256;for(this.u(I),I=Array(16),E=b=0;4>E;++E)for(var k=0;32>k;k+=8)I[b++]=this.g[E]>>>k&255;return I};function o(I,E){var b=a;return Object.prototype.hasOwnProperty.call(b,I)?b[I]:b[I]=E(I)}function s(I,E){this.h=E;for(var b=[],k=!0,A=I.length-1;0<=A;A--){var O=I[A]|0;k&&O==E||(b[A]=O,k=!1)}this.g=b}var a={};function l(I){return-128<=I&&128>I?o(I,function(E){return new s([E|0],0>E?-1:0)}):new s([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return D(u(-I));for(var E=[],b=1,k=0;I>=b;k++)E[k]=I/b|0,b*=4294967296;return new s(E,0)}function d(I,E){if(I.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(I.charAt(0)=="-")return D(d(I.substring(1),E));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(E,8)),k=h,A=0;A<I.length;A+=8){var O=Math.min(8,I.length-A),C=parseInt(I.substring(A,A+O),E);8>O?(O=u(Math.pow(E,O)),k=k.j(O).add(u(C))):(k=k.j(b),k=k.add(u(C)))}return k}var h=l(0),p=l(1),m=l(16777216);n=s.prototype,n.m=function(){if(w(this))return-D(this).m();for(var I=0,E=1,b=0;b<this.g.length;b++){var k=this.i(b);I+=(0<=k?k:4294967296+k)*E,E*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(v(this))return"0";if(w(this))return"-"+D(this).toString(I);for(var E=u(Math.pow(I,6)),b=this,k="";;){var A=P(b,E).g;b=_(b,A.j(E));var O=((0<b.g.length?b.g[0]:b.h)>>>0).toString(I);if(b=A,v(b))return O+k;for(;6>O.length;)O="0"+O;k=O+k}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function v(I){if(I.h!=0)return!1;for(var E=0;E<I.g.length;E++)if(I.g[E]!=0)return!1;return!0}function w(I){return I.h==-1}n.l=function(I){return I=_(this,I),w(I)?-1:v(I)?0:1};function D(I){for(var E=I.g.length,b=[],k=0;k<E;k++)b[k]=~I.g[k];return new s(b,~I.h).add(p)}n.abs=function(){return w(this)?D(this):this},n.add=function(I){for(var E=Math.max(this.g.length,I.g.length),b=[],k=0,A=0;A<=E;A++){var O=k+(this.i(A)&65535)+(I.i(A)&65535),C=(O>>>16)+(this.i(A)>>>16)+(I.i(A)>>>16);k=C>>>16,O&=65535,C&=65535,b[A]=C<<16|O}return new s(b,b[b.length-1]&-2147483648?-1:0)};function _(I,E){return I.add(D(E))}n.j=function(I){if(v(this)||v(I))return h;if(w(this))return w(I)?D(this).j(D(I)):D(D(this).j(I));if(w(I))return D(this.j(D(I)));if(0>this.l(m)&&0>I.l(m))return u(this.m()*I.m());for(var E=this.g.length+I.g.length,b=[],k=0;k<2*E;k++)b[k]=0;for(k=0;k<this.g.length;k++)for(var A=0;A<I.g.length;A++){var O=this.i(k)>>>16,C=this.i(k)&65535,ee=I.i(A)>>>16,oe=I.i(A)&65535;b[2*k+2*A]+=C*oe,y(b,2*k+2*A),b[2*k+2*A+1]+=O*oe,y(b,2*k+2*A+1),b[2*k+2*A+1]+=C*ee,y(b,2*k+2*A+1),b[2*k+2*A+2]+=O*ee,y(b,2*k+2*A+2)}for(k=0;k<E;k++)b[k]=b[2*k+1]<<16|b[2*k];for(k=E;k<2*E;k++)b[k]=0;return new s(b,0)};function y(I,E){for(;(I[E]&65535)!=I[E];)I[E+1]+=I[E]>>>16,I[E]&=65535,E++}function T(I,E){this.g=I,this.h=E}function P(I,E){if(v(E))throw Error("division by zero");if(v(I))return new T(h,h);if(w(I))return E=P(D(I),E),new T(D(E.g),D(E.h));if(w(E))return E=P(I,D(E)),new T(D(E.g),E.h);if(30<I.g.length){if(w(I)||w(E))throw Error("slowDivide_ only works with positive integers.");for(var b=p,k=E;0>=k.l(I);)b=M(b),k=M(k);var A=L(b,1),O=L(k,1);for(k=L(k,2),b=L(b,2);!v(k);){var C=O.add(k);0>=C.l(I)&&(A=A.add(b),O=C),k=L(k,1),b=L(b,1)}return E=_(I,A.j(E)),new T(A,E)}for(A=h;0<=I.l(E);){for(b=Math.max(1,Math.floor(I.m()/E.m())),k=Math.ceil(Math.log(b)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),O=u(b),C=O.j(E);w(C)||0<C.l(I);)b-=k,O=u(b),C=O.j(E);v(O)&&(O=p),A=A.add(O),I=_(I,C)}return new T(A,I)}n.A=function(I){return P(this,I).h},n.and=function(I){for(var E=Math.max(this.g.length,I.g.length),b=[],k=0;k<E;k++)b[k]=this.i(k)&I.i(k);return new s(b,this.h&I.h)},n.or=function(I){for(var E=Math.max(this.g.length,I.g.length),b=[],k=0;k<E;k++)b[k]=this.i(k)|I.i(k);return new s(b,this.h|I.h)},n.xor=function(I){for(var E=Math.max(this.g.length,I.g.length),b=[],k=0;k<E;k++)b[k]=this.i(k)^I.i(k);return new s(b,this.h^I.h)};function M(I){for(var E=I.g.length+1,b=[],k=0;k<E;k++)b[k]=I.i(k)<<1|I.i(k-1)>>>31;return new s(b,I.h)}function L(I,E){var b=E>>5;E%=32;for(var k=I.g.length-b,A=[],O=0;O<k;O++)A[O]=0<E?I.i(O+b)>>>E|I.i(O+b+1)<<32-E:I.i(O+b);return new s(A,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Tk=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,hs=s}).apply(typeof _T<"u"?_T:typeof self<"u"?self:typeof window<"u"?window:{});var Kd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ik,Dk,Iu,Sk,Sh,ky,bk,kk,Ck;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,g){return c==Array.prototype||c==Object.prototype||(c[f]=g.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kd=="object"&&Kd];for(var f=0;f<c.length;++f){var g=c[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=t(this);function i(c,f){if(f)e:{var g=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var V=c[S];if(!(V in g))break e;g=g[V]}c=c[c.length-1],S=g[c],f=f(S),f!=S&&f!=null&&e(g,c,{configurable:!0,writable:!0,value:f})}}function o(c,f){c instanceof String&&(c+="");var g=0,S=!1,V={next:function(){if(!S&&g<c.length){var $=g++;return{value:f($,c[$]),done:!1}}return S=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(c){return c||function(){return o(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function u(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function d(c,f,g){return c.call.apply(c.bind,arguments)}function h(c,f,g){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,S),c.apply(f,V)}}return function(){return c.apply(f,arguments)}}function p(c,f,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function m(c,f){var g=Array.prototype.slice.call(arguments,1);return function(){var S=g.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function v(c,f){function g(){}g.prototype=f.prototype,c.aa=f.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(S,V,$){for(var z=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)z[Oe-2]=arguments[Oe];return f.prototype[V].apply(S,z)}}function w(c){const f=c.length;if(0<f){const g=Array(f);for(let S=0;S<f;S++)g[S]=c[S];return g}return[]}function D(c,f){for(let g=1;g<arguments.length;g++){const S=arguments[g];if(l(S)){const V=c.length||0,$=S.length||0;c.length=V+$;for(let z=0;z<$;z++)c[V+z]=S[z]}else c.push(S)}}class _{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function y(c){return/^[\s\xa0]*$/.test(c)}function T(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function P(c){return P[" "](c),c}P[" "]=function(){};var M=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function L(c,f,g){for(const S in c)f.call(g,c[S],S,c)}function I(c,f){for(const g in c)f.call(void 0,c[g],g,c)}function E(c){const f={};for(const g in c)f[g]=c[g];return f}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,f){let g,S;for(let V=1;V<arguments.length;V++){S=arguments[V];for(g in S)c[g]=S[g];for(let $=0;$<b.length;$++)g=b[$],Object.prototype.hasOwnProperty.call(S,g)&&(c[g]=S[g])}}function A(c){var f=1;c=c.split(":");const g=[];for(;0<f&&c.length;)g.push(c.shift()),f--;return c.length&&g.push(c.join(":")),g}function O(c){a.setTimeout(()=>{throw c},0)}function C(){var c=K;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class ee{constructor(){this.h=this.g=null}add(f,g){const S=oe.get();S.set(f,g),this.h?this.h.next=S:this.g=S,this.h=S}}var oe=new _(()=>new ie,c=>c.reset());class ie{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,Y=!1,K=new ee,H=()=>{const c=a.Promise.resolve(void 0);ne=()=>{c.then(de)}};var de=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(g){O(g)}var f=oe;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}Y=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return c}();function Xe(c,f){if(we.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if(M){e:{try{P(f.nodeName);var V=!0;break e}catch{}V=!1}V||(f=null)}}else g=="mouseover"?f=c.fromElement:g=="mouseout"&&(f=c.toElement);this.relatedTarget=f,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:dt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Xe.aa.h.call(this)}}v(Xe,we);var dt={2:"touch",3:"pen",4:"mouse"};Xe.prototype.h=function(){Xe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ht="closure_listenable_"+(1e6*Math.random()|0),Gt=0;function ln(c,f,g,S,V){this.listener=c,this.proxy=null,this.src=f,this.type=g,this.capture=!!S,this.ha=V,this.key=++Gt,this.da=this.fa=!1}function sr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ln(c){this.src=c,this.g={},this.h=0}Ln.prototype.add=function(c,f,g,S,V){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var z=lr(c,f,S,V);return-1<z?(f=c[z],g||(f.fa=!1)):(f=new ln(f,this.src,$,!!S,V),f.fa=g,c.push(f)),f};function ar(c,f){var g=f.type;if(g in c.g){var S=c.g[g],V=Array.prototype.indexOf.call(S,f,void 0),$;($=0<=V)&&Array.prototype.splice.call(S,V,1),$&&(sr(f),c.g[g].length==0&&(delete c.g[g],c.h--))}}function lr(c,f,g,S){for(var V=0;V<c.length;++V){var $=c[V];if(!$.da&&$.listener==f&&$.capture==!!g&&$.ha==S)return V}return-1}var Le="closure_lm_"+(1e6*Math.random()|0),qn={};function Et(c,f,g,S,V){if(Array.isArray(f)){for(var $=0;$<f.length;$++)Et(c,f[$],g,S,V);return null}return g=Oo(g),c&&c[ht]?c.K(f,g,u(S)?!!S.capture:!!S,V):Vr(c,f,g,!1,S,V)}function Vr(c,f,g,S,V,$){if(!f)throw Error("Invalid event type");var z=u(V)?!!V.capture:!!V,Oe=jr(c);if(Oe||(c[Le]=Oe=new Ln(c)),g=Oe.add(f,g,S,z,$),g.proxy)return g;if(S=qs(),g.proxy=S,S.src=c,S.listener=g,c.addEventListener)ot||(V=z),V===void 0&&(V=!1),c.addEventListener(f.toString(),S,V);else if(c.attachEvent)c.attachEvent(Fr(f.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return g}function qs(){function c(g){return f.call(c.src,c.listener,g)}const f=Gs;return c}function No(c,f,g,S,V){if(Array.isArray(f))for(var $=0;$<f.length;$++)No(c,f[$],g,S,V);else S=u(S)?!!S.capture:!!S,g=Oo(g),c&&c[ht]?(c=c.i,f=String(f).toString(),f in c.g&&($=c.g[f],g=lr($,g,S,V),-1<g&&(sr($[g]),Array.prototype.splice.call($,g,1),$.length==0&&(delete c.g[f],c.h--)))):c&&(c=jr(c))&&(f=c.g[f.toString()],c=-1,f&&(c=lr(f,g,S,V)),(g=-1<c?f[c]:null)&&Tn(g))}function Tn(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[ht])ar(f.i,c);else{var g=c.type,S=c.proxy;f.removeEventListener?f.removeEventListener(g,S,c.capture):f.detachEvent?f.detachEvent(Fr(g),S):f.addListener&&f.removeListener&&f.removeListener(S),(g=jr(f))?(ar(g,c),g.h==0&&(g.src=null,f[Le]=null)):sr(c)}}}function Fr(c){return c in qn?qn[c]:qn[c]="on"+c}function Gs(c,f){if(c.da)c=!0;else{f=new Xe(f,this);var g=c.listener,S=c.ha||c.src;c.fa&&Tn(c),c=g.call(S,f)}return c}function jr(c){return c=c[Le],c instanceof Ln?c:null}var $r="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oo(c){return typeof c=="function"?c:(c[$r]||(c[$r]=function(f){return c.handleEvent(f)}),c[$r])}function st(){ce.call(this),this.i=new Ln(this),this.M=this,this.F=null}v(st,ce),st.prototype[ht]=!0,st.prototype.removeEventListener=function(c,f,g,S){No(this,c,f,g,S)};function ft(c,f){var g,S=c.F;if(S)for(g=[];S;S=S.F)g.push(S);if(c=c.M,S=f.type||f,typeof f=="string")f=new we(f,c);else if(f instanceof we)f.target=f.target||c;else{var V=f;f=new we(S,c),k(f,V)}if(V=!0,g)for(var $=g.length-1;0<=$;$--){var z=f.g=g[$];V=Ur(z,S,!0,f)&&V}if(z=f.g=c,V=Ur(z,S,!0,f)&&V,V=Ur(z,S,!1,f)&&V,g)for($=0;$<g.length;$++)z=f.g=g[$],V=Ur(z,S,!1,f)&&V}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var g=c.g[f],S=0;S<g.length;S++)sr(g[S]);delete c.g[f],c.h--}}this.F=null},st.prototype.K=function(c,f,g,S){return this.i.add(String(c),f,!1,g,S)},st.prototype.L=function(c,f,g,S){return this.i.add(String(c),f,!0,g,S)};function Ur(c,f,g,S){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var V=!0,$=0;$<f.length;++$){var z=f[$];if(z&&!z.da&&z.capture==g){var Oe=z.listener,Rt=z.ha||z.src;z.fa&&ar(c.i,z),V=Oe.call(Rt,S)!==!1&&V}}return V&&!S.defaultPrevented}function Qs(c,f,g){if(typeof c=="function")g&&(c=p(c,g));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function Nl(c){c.g=Qs(()=>{c.g=null,c.i&&(c.i=!1,Nl(c))},c.l);const f=c.h;c.h=null,c.m.apply(null,f)}class ld extends ce{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Nl(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mo(c){ce.call(this),this.h=c,this.g={}}v(Mo,ce);var Lo=[];function Ol(c){L(c.g,function(f,g){this.g.hasOwnProperty(g)&&Tn(f)},c),c.g={}}Mo.prototype.N=function(){Mo.aa.N.call(this),Ol(this)},Mo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ml=a.JSON.stringify,ud=a.JSON.parse,cd=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Vo(){}Vo.prototype.h=null;function dd(c){return c.h||(c.h=c.i())}function Ll(){}var Fo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xs(){we.call(this,"d")}v(Xs,we);function Tt(){we.call(this,"c")}v(Tt,we);var Je={},jo=null;function Ae(){return jo=jo||new st}Je.La="serverreachability";function In(c){we.call(this,Je.La,c)}v(In,we);function $o(c){const f=Ae();ft(f,new In(f))}Je.STAT_EVENT="statevent";function Js(c,f){we.call(this,Je.STAT_EVENT,c),this.stat=f}v(Js,we);function It(c){const f=Ae();ft(f,new Js(f,c))}Je.Ma="timingevent";function Vl(c,f){we.call(this,Je.Ma,c),this.size=f}v(Vl,we);function Br(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function ur(){this.g=!0}ur.prototype.xa=function(){this.g=!1};function Fl(c,f,g,S,V,$){c.info(function(){if(c.g)if($)for(var z="",Oe=$.split("&"),Rt=0;Rt<Oe.length;Rt++){var Ee=Oe[Rt].split("=");if(1<Ee.length){var $t=Ee[0];Ee=Ee[1];var Ut=$t.split("_");z=2<=Ut.length&&Ut[1]=="type"?z+($t+"="+Ee+"&"):z+($t+"=redacted&")}}else z=null;else z=$;return"XMLHTTP REQ ("+S+") [attempt "+V+"]: "+f+`
`+g+`
`+z})}function jl(c,f,g,S,V,$,z){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+V+"]: "+f+`
`+g+`
`+$+" "+z})}function cr(c,f,g,S){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+$l(c,g)+(S?" "+S:"")})}function am(c,f){c.info(function(){return"TIMEOUT: "+f})}ur.prototype.info=function(){};function $l(c,f){if(!c.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var S=g[c];if(!(2>S.length)){var V=S[1];if(Array.isArray(V)&&!(1>V.length)){var $=V[0];if($!="noop"&&$!="stop"&&$!="close")for(var z=1;z<V.length;z++)V[z]=""}}}}return Ml(g)}catch{return f}}var Uo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ul;function ue(){}v(ue,Vo),ue.prototype.g=function(){return new XMLHttpRequest},ue.prototype.i=function(){return{}},Ul=new ue;function Te(c,f,g,S){this.j=c,this.i=f,this.l=g,this.R=S||1,this.U=new Mo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ye}function Ye(){this.i=null,this.g="",this.h=!1}var un={},Qt={};function Bo(c,f,g){c.L=1,c.v=vd(Wr(f)),c.m=g,c.P=!0,fd(c,null)}function fd(c,f){c.F=Date.now(),md(c),c.A=Wr(c.v);var g=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),u0(g.i,"t",S),c.C=0,g=c.j.J,c.h=new Ye,c.g=k0(c.j,g?f:null,!c.m),0<c.O&&(c.M=new ld(p(c.Y,c,c.g),c.O)),f=c.U,g=c.g,S=c.ca;var V="readystatechange";Array.isArray(V)||(V&&(Lo[0]=V.toString()),V=Lo);for(var $=0;$<V.length;$++){var z=Et(g,V[$],S||f.handleEvent,!1,f.h||f);if(!z)break;f.g[z.key]=z}f=c.H?E(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),$o(),Fl(c.i,c.u,c.A,c.l,c.R,c.m)}Te.prototype.ca=function(c){c=c.target;const f=this.M;f&&Yr(c)==3?f.j():this.Y(c)},Te.prototype.Y=function(c){try{if(c==this.g)e:{const Ut=Yr(this.g);var f=this.g.Ba();const ta=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||g0(this.g)))){this.J||Ut!=4||f==7||(f==8||0>=ta?$o(3):$o(2)),lm(this);var g=this.g.Z();this.X=g;t:if(pd(this)){var S=g0(this.g);c="";var V=S.length,$=Yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wo(this),Bl(this);var z="";break t}this.h.i=new a.TextDecoder}for(f=0;f<V;f++)this.h.h=!0,c+=this.h.i.decode(S[f],{stream:!($&&f==V-1)});S.length=0,this.h.g+=c,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=g==200,jl(this.i,this.u,this.A,this.l,this.R,Ut,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,Rt=this.g;if((Oe=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Oe)){var Ee=Oe;break t}}Ee=null}if(g=Ee)cr(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,um(this,g);else{this.o=!1,this.s=3,It(12),Wo(this),Bl(this);break e}}if(this.P){g=!0;let Gn;for(;!this.J&&this.C<z.length;)if(Gn=vA(this,z),Gn==Qt){Ut==4&&(this.s=4,It(14),g=!1),cr(this.i,this.l,null,"[Incomplete Response]");break}else if(Gn==un){this.s=4,It(15),cr(this.i,this.l,z,"[Invalid Chunk]"),g=!1;break}else cr(this.i,this.l,Gn,null),um(this,Gn);if(pd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||z.length!=0||this.h.h||(this.s=1,It(16),g=!1),this.o=this.o&&g,!g)cr(this.i,this.l,z,"[Invalid Chunked Response]"),Wo(this),Bl(this);else if(0<z.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),mm($t),$t.M=!0,It(11))}}else cr(this.i,this.l,z,null),um(this,z);Ut==4&&Wo(this),this.o&&!this.J&&(Ut==4?I0(this.j,this):(this.o=!1,md(this)))}else MA(this.g),g==400&&0<z.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),Wo(this),Bl(this)}}}catch{}finally{}};function pd(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function vA(c,f){var g=c.C,S=f.indexOf(`
`,g);return S==-1?Qt:(g=Number(f.substring(g,S)),isNaN(g)?un:(S+=1,S+g>f.length?Qt:(f=f.slice(S,S+g),c.C=S+g,f)))}Te.prototype.cancel=function(){this.J=!0,Wo(this)};function md(c){c.S=Date.now()+c.I,Xw(c,c.I)}function Xw(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Br(p(c.ba,c),f)}function lm(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Te.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(am(this.i,this.A),this.L!=2&&($o(),It(17)),Wo(this),this.s=2,Bl(this)):Xw(this,this.S-c)};function Bl(c){c.j.G==0||c.J||I0(c.j,c)}function Wo(c){lm(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,Ol(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function um(c,f){try{var g=c.j;if(g.G!=0&&(g.g==c||cm(g.h,c))){if(!c.K&&cm(g.h,c)&&g.G==3){try{var S=g.Da.g.parse(f)}catch{S=null}if(Array.isArray(S)&&S.length==3){var V=S;if(V[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)Id(g),Ed(g);else break e;pm(g),It(18)}}else g.za=V[1],0<g.za-g.T&&37500>V[2]&&g.F&&g.v==0&&!g.C&&(g.C=Br(p(g.Za,g),6e3));if(1>=e0(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else zo(g,11)}else if((c.K||g.g==c)&&Id(g),!y(f))for(V=g.Da.g.parse(f),f=0;f<V.length;f++){let Ee=V[f];if(g.T=Ee[0],Ee=Ee[1],g.G==2)if(Ee[0]=="c"){g.K=Ee[1],g.ia=Ee[2];const $t=Ee[3];$t!=null&&(g.la=$t,g.j.info("VER="+g.la));const Ut=Ee[4];Ut!=null&&(g.Aa=Ut,g.j.info("SVER="+g.Aa));const ta=Ee[5];ta!=null&&typeof ta=="number"&&0<ta&&(S=1.5*ta,g.L=S,g.j.info("backChannelRequestTimeoutMs_="+S)),S=g;const Gn=c.g;if(Gn){const Sd=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sd){var $=S.h;$.g||Sd.indexOf("spdy")==-1&&Sd.indexOf("quic")==-1&&Sd.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(dm($,$.h),$.h=null))}if(S.D){const gm=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;gm&&(S.ya=gm,Ve(S.I,S.D,gm))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),S=g;var z=c;if(S.qa=b0(S,S.J?S.ia:null,S.W),z.K){t0(S.h,z);var Oe=z,Rt=S.L;Rt&&(Oe.I=Rt),Oe.B&&(lm(Oe),md(Oe)),S.g=z}else E0(S);0<g.i.length&&Td(g)}else Ee[0]!="stop"&&Ee[0]!="close"||zo(g,7);else g.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?zo(g,7):fm(g):Ee[0]!="noop"&&g.l&&g.l.ta(Ee),g.v=0)}}$o(4)}catch{}}var _A=class{constructor(c,f){this.g=c,this.map=f}};function Jw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function e0(c){return c.h?1:c.g?c.g.size:0}function cm(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function dm(c,f){c.g?c.g.add(f):c.h=f}function t0(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}Jw.prototype.cancel=function(){if(this.i=n0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function n0(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(const g of c.g.values())f=f.concat(g.D);return f}return w(c.i)}function wA(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var f=[],g=c.length,S=0;S<g;S++)f.push(c[S]);return f}f=[],g=0;for(S in c)f[g++]=c[S];return f}function EA(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var f=[];c=c.length;for(var g=0;g<c;g++)f.push(g);return f}f=[],g=0;for(const S in c)f[g++]=S;return f}}}function r0(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var g=EA(c),S=wA(c),V=S.length,$=0;$<V;$++)f.call(void 0,S[$],g&&g[$],c)}var i0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function TA(c,f){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var S=c[g].indexOf("="),V=null;if(0<=S){var $=c[g].substring(0,S);V=c[g].substring(S+1)}else $=c[g];f($,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Yo(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Yo){this.h=c.h,gd(this,c.j),this.o=c.o,this.g=c.g,yd(this,c.s),this.l=c.l;var f=c.i,g=new zl;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),o0(this,g),this.m=c.m}else c&&(f=String(c).match(i0))?(this.h=!1,gd(this,f[1]||"",!0),this.o=Wl(f[2]||""),this.g=Wl(f[3]||"",!0),yd(this,f[4]),this.l=Wl(f[5]||"",!0),o0(this,f[6]||"",!0),this.m=Wl(f[7]||"")):(this.h=!1,this.i=new zl(null,this.h))}Yo.prototype.toString=function(){var c=[],f=this.j;f&&c.push(Yl(f,s0,!0),":");var g=this.g;return(g||f=="file")&&(c.push("//"),(f=this.o)&&c.push(Yl(f,s0,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(Yl(g,g.charAt(0)=="/"?SA:DA,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",Yl(g,kA)),c.join("")};function Wr(c){return new Yo(c)}function gd(c,f,g){c.j=g?Wl(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function yd(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function o0(c,f,g){f instanceof zl?(c.i=f,CA(c.i,c.h)):(g||(f=Yl(f,bA)),c.i=new zl(f,c.h))}function Ve(c,f,g){c.i.set(f,g)}function vd(c){return Ve(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Wl(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Yl(c,f,g){return typeof c=="string"?(c=encodeURI(c).replace(f,IA),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function IA(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var s0=/[#\/\?@]/g,DA=/[#\?:]/g,SA=/[#\?]/g,bA=/[#\?@]/g,kA=/#/g;function zl(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function Di(c){c.g||(c.g=new Map,c.h=0,c.i&&TA(c.i,function(f,g){c.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}n=zl.prototype,n.add=function(c,f){Di(this),this.i=null,c=Zs(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(f),this.h+=1,this};function a0(c,f){Di(c),f=Zs(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function l0(c,f){return Di(c),f=Zs(c,f),c.g.has(f)}n.forEach=function(c,f){Di(this),this.g.forEach(function(g,S){g.forEach(function(V){c.call(f,V,S,this)},this)},this)},n.na=function(){Di(this);const c=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let S=0;S<f.length;S++){const V=c[S];for(let $=0;$<V.length;$++)g.push(f[S])}return g},n.V=function(c){Di(this);let f=[];if(typeof c=="string")l0(this,c)&&(f=f.concat(this.g.get(Zs(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)f=f.concat(c[g])}return f},n.set=function(c,f){return Di(this),this.i=null,c=Zs(this,c),l0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},n.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function u0(c,f,g){a0(c,f),0<g.length&&(c.i=null,c.g.set(Zs(c,f),w(g)),c.h+=g.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var S=f[g];const $=encodeURIComponent(String(S)),z=this.V(S);for(S=0;S<z.length;S++){var V=$;z[S]!==""&&(V+="="+encodeURIComponent(String(z[S]))),c.push(V)}}return this.i=c.join("&")};function Zs(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function CA(c,f){f&&!c.j&&(Di(c),c.i=null,c.g.forEach(function(g,S){var V=S.toLowerCase();S!=V&&(a0(this,S),u0(this,V,g))},c)),c.j=f}function xA(c,f){const g=new ur;if(a.Image){const S=new Image;S.onload=m(Si,g,"TestLoadImage: loaded",!0,f,S),S.onerror=m(Si,g,"TestLoadImage: error",!1,f,S),S.onabort=m(Si,g,"TestLoadImage: abort",!1,f,S),S.ontimeout=m(Si,g,"TestLoadImage: timeout",!1,f,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else f(!1)}function PA(c,f){const g=new ur,S=new AbortController,V=setTimeout(()=>{S.abort(),Si(g,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:S.signal}).then($=>{clearTimeout(V),$.ok?Si(g,"TestPingServer: ok",!0,f):Si(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(V),Si(g,"TestPingServer: error",!1,f)})}function Si(c,f,g,S,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),S(g)}catch{}}function AA(){this.g=new cd}function RA(c,f,g){const S=g||"";try{r0(c,function(V,$){let z=V;u(V)&&(z=Ml(V)),f.push(S+$+"="+encodeURIComponent(z))})}catch(V){throw f.push(S+"type="+encodeURIComponent("_badmap")),V}}function Hl(c){this.l=c.Ub||null,this.j=c.eb||!1}v(Hl,Vo),Hl.prototype.g=function(){return new _d(this.l,this.j)},Hl.prototype.i=function(c){return function(){return c}}({});function _d(c,f){st.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(_d,st),n=_d.prototype,n.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,ql(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kl(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ql(this)),this.g&&(this.readyState=3,ql(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;c0(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function c0(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?Kl(this):ql(this),this.readyState==3&&c0(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Kl(this))},n.Qa=function(c){this.g&&(this.response=c,Kl(this))},n.ga=function(){this.g&&Kl(this)};function Kl(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ql(c)}n.setRequestHeader=function(c,f){this.u.append(c,f)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=f.next();return c.join(`\r
`)};function ql(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(_d.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function d0(c){let f="";return L(c,function(g,S){f+=S,f+=":",f+=g,f+=`\r
`}),f}function hm(c,f,g){e:{for(S in g){var S=!1;break e}S=!0}S||(g=d0(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):Ve(c,f,g))}function Ze(c){st.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Ze,st);var NA=/^https?$/i,OA=["POST","PUT"];n=Ze.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,f,g,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ul.g(),this.v=this.o?dd(this.o):dd(Ul),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch($){h0(this,$);return}if(c=g||"",g=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var V in S)g.set(V,S[V]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())g.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(g.keys()).find($=>$.toLowerCase()=="content-type"),V=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(OA,f,void 0))||S||V||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,z]of g)this.g.setRequestHeader($,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{m0(this),this.u=!0,this.g.send(c),this.u=!1}catch($){h0(this,$)}};function h0(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,f0(c),wd(c)}function f0(c){c.A||(c.A=!0,ft(c,"complete"),ft(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ft(this,"complete"),ft(this,"abort"),wd(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wd(this,!0)),Ze.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?p0(this):this.bb())},n.bb=function(){p0(this)};function p0(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Yr(c)!=4||c.Z()!=2)){if(c.u&&Yr(c)==4)Qs(c.Ea,0,c);else if(ft(c,"readystatechange"),Yr(c)==4){c.h=!1;try{const z=c.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var S;if(S=z===0){var V=String(c.D).match(i0)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),S=!NA.test(V?V.toLowerCase():"")}g=S}if(g)ft(c,"complete"),ft(c,"success");else{c.m=6;try{var $=2<Yr(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",f0(c)}}finally{wd(c)}}}}function wd(c,f){if(c.g){m0(c);const g=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||ft(c,"ready");try{g.onreadystatechange=S}catch{}}}function m0(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Yr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Yr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),ud(f)}};function g0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function MA(c){const f={};c=(c.g&&2<=Yr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(y(c[S]))continue;var g=A(c[S]);const V=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const $=f[V]||[];f[V]=$,$.push(g)}I(f,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gl(c,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||f}function y0(c){this.Aa=0,this.i=[],this.j=new ur,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gl("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gl("baseRetryDelayMs",5e3,c),this.cb=Gl("retryDelaySeedMs",1e4,c),this.Wa=Gl("forwardChannelMaxRetries",2,c),this.wa=Gl("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Jw(c&&c.concurrentRequestLimit),this.Da=new AA,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=y0.prototype,n.la=8,n.G=1,n.connect=function(c,f,g,S){It(0),this.W=c,this.H=f||{},g&&S!==void 0&&(this.H.OSID=g,this.H.OAID=S),this.F=this.X,this.I=b0(this,null,this.W),Td(this)};function fm(c){if(v0(c),c.G==3){var f=c.U++,g=Wr(c.I);if(Ve(g,"SID",c.K),Ve(g,"RID",f),Ve(g,"TYPE","terminate"),Ql(c,g),f=new Te(c,c.j,f),f.L=2,f.v=vd(Wr(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=k0(f.j,null),f.g.ea(f.v)),f.F=Date.now(),md(f)}S0(c)}function Ed(c){c.g&&(mm(c),c.g.cancel(),c.g=null)}function v0(c){Ed(c),c.u&&(a.clearTimeout(c.u),c.u=null),Id(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Td(c){if(!Zw(c.h)&&!c.s){c.s=!0;var f=c.Ga;ne||H(),Y||(ne(),Y=!0),K.add(f,c),c.B=0}}function LA(c,f){return e0(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Br(p(c.Ga,c,f),D0(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const V=new Te(this,this.j,c);let $=this.o;if(this.S&&($?($=E($),k($,this.S)):$=this.S),this.m!==null||this.O||(V.H=$,$=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var S=this.i[g];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(f+=S,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=w0(this,V,f),g=Wr(this.I),Ve(g,"RID",c),Ve(g,"CVER",22),this.D&&Ve(g,"X-HTTP-Session-Id",this.D),Ql(this,g),$&&(this.O?f="headers="+encodeURIComponent(String(d0($)))+"&"+f:this.m&&hm(g,this.m,$)),dm(this.h,V),this.Ua&&Ve(g,"TYPE","init"),this.P?(Ve(g,"$req",f),Ve(g,"SID","null"),V.T=!0,Bo(V,g,null)):Bo(V,g,f),this.G=2}}else this.G==3&&(c?_0(this,c):this.i.length==0||Zw(this.h)||_0(this))};function _0(c,f){var g;f?g=f.l:g=c.U++;const S=Wr(c.I);Ve(S,"SID",c.K),Ve(S,"RID",g),Ve(S,"AID",c.T),Ql(c,S),c.m&&c.o&&hm(S,c.m,c.o),g=new Te(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),f&&(c.i=f.D.concat(c.i)),f=w0(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),dm(c.h,g),Bo(g,S,f)}function Ql(c,f){c.H&&L(c.H,function(g,S){Ve(f,S,g)}),c.l&&r0({},function(g,S){Ve(f,S,g)})}function w0(c,f,g){g=Math.min(c.i.length,g);var S=c.l?p(c.l.Na,c.l,c):null;e:{var V=c.i;let $=-1;for(;;){const z=["count="+g];$==-1?0<g?($=V[0].g,z.push("ofs="+$)):$=0:z.push("ofs="+$);let Oe=!0;for(let Rt=0;Rt<g;Rt++){let Ee=V[Rt].g;const $t=V[Rt].map;if(Ee-=$,0>Ee)$=Math.max(0,V[Rt].g-100),Oe=!1;else try{RA($t,z,"req"+Ee+"_")}catch{S&&S($t)}}if(Oe){S=z.join("&");break e}}}return c=c.i.splice(0,g),f.D=c,S}function E0(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;ne||H(),Y||(ne(),Y=!0),K.add(f,c),c.v=0}}function pm(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Br(p(c.Fa,c),D0(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,T0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Br(p(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),Ed(this),T0(this))};function mm(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function T0(c){c.g=new Te(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=Wr(c.qa);Ve(f,"RID","rpc"),Ve(f,"SID",c.K),Ve(f,"AID",c.T),Ve(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ve(f,"TO",c.ja),Ve(f,"TYPE","xmlhttp"),Ql(c,f),c.m&&c.o&&hm(f,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=vd(Wr(f)),g.m=null,g.P=!0,fd(g,c)}n.Za=function(){this.C!=null&&(this.C=null,Ed(this),pm(this),It(19))};function Id(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function I0(c,f){var g=null;if(c.g==f){Id(c),mm(c),c.g=null;var S=2}else if(cm(c.h,f))g=f.D,t0(c.h,f),S=1;else return;if(c.G!=0){if(f.o)if(S==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var V=c.B;S=Ae(),ft(S,new Vl(S,g)),Td(c)}else E0(c);else if(V=f.s,V==3||V==0&&0<f.X||!(S==1&&LA(c,f)||S==2&&pm(c)))switch(g&&0<g.length&&(f=c.h,f.i=f.i.concat(g)),V){case 1:zo(c,5);break;case 4:zo(c,10);break;case 3:zo(c,6);break;default:zo(c,2)}}}function D0(c,f){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*f}function zo(c,f){if(c.j.info("Error code "+f),f==2){var g=p(c.fb,c),S=c.Xa;const V=!S;S=new Yo(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||gd(S,"https"),vd(S),V?xA(S.toString(),g):PA(S.toString(),g)}else It(2);c.G=0,c.l&&c.l.sa(f),S0(c),v0(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function S0(c){if(c.G=0,c.ka=[],c.l){const f=n0(c.h);(f.length!=0||c.i.length!=0)&&(D(c.ka,f),D(c.ka,c.i),c.h.i.length=0,w(c.i),c.i.length=0),c.l.ra()}}function b0(c,f,g){var S=g instanceof Yo?Wr(g):new Yo(g);if(S.g!="")f&&(S.g=f+"."+S.g),yd(S,S.s);else{var V=a.location;S=V.protocol,f=f?f+"."+V.hostname:V.hostname,V=+V.port;var $=new Yo(null);S&&gd($,S),f&&($.g=f),V&&yd($,V),g&&($.l=g),S=$}return g=c.D,f=c.ya,g&&f&&Ve(S,g,f),Ve(S,"VER",c.la),Ql(c,S),S}function k0(c,f,g){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new Ze(new Hl({eb:g})):new Ze(c.pa),f.Ha(c.J),f}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function C0(){}n=C0.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Dd(){}Dd.prototype.g=function(c,f){return new Dn(c,f)};function Dn(c,f){st.call(this),this.g=new y0(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!y(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!y(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new ea(this)}v(Dn,st),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){fm(this.g)},Dn.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=Ml(c),c=g);f.i.push(new _A(f.Ya++,c)),f.G==3&&Td(f)},Dn.prototype.N=function(){this.g.l=null,delete this.j,fm(this.g),delete this.g,Dn.aa.N.call(this)};function x0(c){Xs.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(const g in f){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}v(x0,Xs);function P0(){Tt.call(this),this.status=1}v(P0,Tt);function ea(c){this.g=c}v(ea,C0),ea.prototype.ua=function(){ft(this.g,"a")},ea.prototype.ta=function(c){ft(this.g,new x0(c))},ea.prototype.sa=function(c){ft(this.g,new P0)},ea.prototype.ra=function(){ft(this.g,"b")},Dd.prototype.createWebChannel=Dd.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,Ck=function(){return new Dd},kk=function(){return Ae()},bk=Je,ky={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Uo.NO_ERROR=0,Uo.TIMEOUT=8,Uo.HTTP_ERROR=6,Sh=Uo,hd.COMPLETE="complete",Sk=hd,Ll.EventType=Fo,Fo.OPEN="a",Fo.CLOSE="b",Fo.ERROR="c",Fo.MESSAGE="d",st.prototype.listen=st.prototype.K,Iu=Ll,Dk=Hl,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,Ik=Ze}).apply(typeof Kd<"u"?Kd:typeof self<"u"?self:typeof window<"u"?window:{});const wT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bl="10.12.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new M_("@firebase/firestore");function ua(){return bs.logLevel}function B(n,...e){if(bs.logLevel<=me.DEBUG){const t=e.map(V_);bs.debug(`Firestore (${bl}): ${n}`,...t)}}function en(n,...e){if(bs.logLevel<=me.ERROR){const t=e.map(V_);bs.error(`Firestore (${bl}): ${n}`,...t)}}function sl(n,...e){if(bs.logLevel<=me.WARN){const t=e.map(V_);bs.warn(`Firestore (${bl}): ${n}`,...t)}}function V_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(n="Unexpected state"){const e=`FIRESTORE (${bl}) INTERNAL ASSERTION FAILED: `+n;throw en(e),new Error(e)}function te(n,e){n||Z()}function ae(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends wi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Mt.UNAUTHENTICATED))}shutdown(){}}class R2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class N2{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let r=this.i;const i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let o=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new xr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new xr)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(te(typeof r.accessToken=="string"),new xk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return te(e===null||typeof e=="string"),new Mt(e)}}class O2{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class M2{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new O2(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class L2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class V2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=o=>{o.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,B("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(te(typeof t.token=="string"),this.R=t.token,new L2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=F2(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function le(n,e){return n<e?-1:n>e?1:0}function al(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Ak(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ge(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.timestamp=e}static fromTimestamp(e){return new re(e)}static min(){return new re(new Ge(0,0))}static max(){return new re(new Ge(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,t,r){t===void 0?t=0:t>e.length&&Z(),r===void 0?r=e.length-t:r>e.length-t&&Z(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return mc.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mc?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ke extends mc{construct(e,t,r){return new ke(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ke(t)}static emptyPath(){return new ke([])}}const j2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class He extends mc{construct(e,t,r){return new He(e,t,r)}static isValidIdentifier(e){return j2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),He.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new He(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Q(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Q(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Q(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new He(t)}static emptyPath(){return new He([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.path=e}static fromPath(e){return new q(ke.fromString(e))}static fromName(e){return new q(ke.fromString(e).popFirst(5))}static empty(){return new q(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new q(new ke(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Cy(n){return n.fields.find(e=>e.kind===2)}function Xo(n){return n.fields.filter(e=>e.kind!==2)}Ef.UNKNOWN_ID=-1;class bh{constructor(e,t){this.fieldPath=e,this.kind=t}}class gc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new gc(0,Nn.min())}}function $2(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new Ge(t+1,0):new Ge(t,r));return new Nn(i,q.empty(),e)}function Rk(n){return new Nn(n.readTime,n.key,-1)}class Nn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Nn(re.min(),q.empty(),-1)}static max(){return new Nn(re.max(),q.empty(),-1)}}function F_(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=q.comparator(n.documentKey,e.documentKey),t!==0?t:le(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ok{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Us(n){if(n.code!==U.FAILED_PRECONDITION||n.message!==Nk)throw n;B("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new j((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof j?t:j.resolve(t)}catch(t){return j.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):j.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):j.reject(t)}static resolve(e){return new j((t,r)=>{t(e)})}static reject(e){return new j((t,r)=>{r(e)})}static waitFor(e){return new j((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},l=>r(l))}),s=!0,o===i&&t()})}static or(e){let t=j.resolve(!1);for(const r of e)t=t.next(i=>i?j.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new j((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;t(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new j((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new xr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Wu(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=j_(r.target.error);this.V.reject(new Wu(e,i))}}static open(e,t,r,i){try{return new Dp(t,e.transaction(i,r))}catch(o){throw new Wu(t,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(B("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new B2(t)}}class oo{constructor(e,t,r){this.name=e,this.version=t,this.p=r,oo.S(yt())===12.2&&en("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return B("SimpleDb","Removing database:",e),es(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!mk())return!1;if(oo.C())return!0;const e=yt(),t=oo.S(e),r=0<t&&t<10,i=Mk(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(B("SimpleDb","Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;t(s)},i.onblocked=()=>{r(new Wu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new Q(U.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new Q(U.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new Wu(e,s))},i.onupgradeneeded=o=>{B("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.O(s,i.transaction,o.oldVersion,this.version).next(()=>{B("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=t=>this.N(t)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const o=t==="readonly";let s=0;for(;;){++s;try{this.db=await this.M(e);const a=Dp.open(this.db,e,o?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),j.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&s<3;if(B("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Mk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class U2{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return es(this.B.delete())}}class Wu extends Q{constructor(e,t){super(U.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function bo(n){return n.name==="IndexedDbTransactionError"}class B2{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(B("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(B("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),es(r)}add(e){return B("SimpleDb","ADD",this.store.name,e,e),es(this.store.add(e))}get(e){return es(this.store.get(e)).next(t=>(t===void 0&&(t=null),B("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return B("SimpleDb","DELETE",this.store.name,e),es(this.store.delete(e))}count(){return B("SimpleDb","COUNT",this.store.name),es(this.store.count())}U(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new j((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.W(o,(a,l)=>{s.push(l)}).next(()=>s)}}G(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new j((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}j(e,t){B("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const i=this.cursor(r);return this.W(i,(o,s,a)=>a.delete())}J(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Y(e){const t=this.cursor({});return new j((r,i)=>{t.onerror=o=>{const s=j_(o.target.error);i(s)},t.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}W(e,t){const r=[];return new j((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new U2(a),u=t(a.primaryKey,a.value,l);if(u instanceof j){const d=u.catch(h=>(l.done(),j.reject(h)));r.push(d)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>j.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function es(n){return new j((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=j_(r.target.error);t(i)}})}let ET=!1;function j_(n){const e=oo.S(yt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Q("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ET||(ET=!0,setTimeout(()=>{throw r},0)),r}}return n}class W2{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){B("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{B("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(t){bo(t)?B("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",t):await Us(t)}await this.X(6e4)})}}class Y2{constructor(e,t){this.localStore=e,this.persistence=t}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.te(t,e))}te(e,t){const r=new Set;let i=t,o=!0;return j.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return B("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>t-i)}ne(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(i,o)).next(a=>(B("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}re(e,t){let r=e;return t.changes.forEach((i,o)=>{const s=Rk(o);F_(s,r)>0&&(r=s)}),new Nn(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Un.oe=-1;function Sp(n){return n==null}function yc(n){return n===0&&1/n==-1/0}function z2(n){return typeof n=="number"&&Number.isInteger(n)&&!yc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=TT(e)),e=H2(n.get(t),e);return TT(e)}function H2(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function TT(n){return n+""}function Tr(n){const e=n.length;if(te(e>=2),e===2)return te(n.charAt(0)===""&&n.charAt(1)===""),ke.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const s=n.indexOf("",o);switch((s<0||s>t)&&Z(),n.charAt(s+1)){case"":const a=n.substring(o,s);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=n.substring(o,s),i+="\0";break;case"":i+=n.substring(o,s+1);break;default:Z()}o=s+2}return new ke(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(n,e){return[n,rn(e)]}function Lk(n,e,t){return[n,rn(e),t]}const K2={},q2=["prefixPath","collectionGroup","readTime","documentId"],G2=["prefixPath","collectionGroup","documentId"],Q2=["collectionGroup","readTime","prefixPath","documentId"],X2=["canonicalId","targetId"],J2=["targetId","path"],Z2=["path","targetId"],eF=["collectionId","parent"],tF=["indexId","uid"],nF=["uid","sequenceNumber"],rF=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],iF=["indexId","uid","orderedDocumentKey"],oF=["userId","collectionPath","documentId"],sF=["userId","collectionPath","largestBatchId"],aF=["userId","collectionGroup","largestBatchId"],Vk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],lF=[...Vk,"documentOverlays"],Fk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],jk=Fk,$k=[...jk,"indexConfiguration","indexState","indexEntries"],uF=$k;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy extends Ok{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function kt(n,e){const t=ae(n);return oo.F(t._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Bs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Uk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e,t){this.comparator=e,this.root=t||Lt.EMPTY}insert(e,t){return new Be(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new Be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qd(this.root,e,this.comparator,!1)}getReverseIterator(){return new qd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qd(this.root,e,this.comparator,!0)}}class qd{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Lt.RED,this.left=i??Lt.EMPTY,this.right=o??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Lt(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Lt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();const e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Lt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ST(this.data.getIterator())}getIteratorFrom(e){return new ST(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ne)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ne(this.comparator);return t.data=e,t}}class ST{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ia(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(He.comparator)}static empty(){return new fn([])}unionWith(e){let t=new Ne(He.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new fn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return al(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Bk("Invalid base64 string: "+o):o}}(e);return new jt(t)}static fromUint8Array(e){const t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const cF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pi(n){if(te(!!n),typeof n=="string"){let e=0;const t=cF.exec(n);if(te(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(n.seconds),nanos:tt(n.nanos)}}function tt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function mo(n){return typeof n=="string"?jt.fromBase64String(n):jt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function U_(n){const e=n.mapValue.fields.__previous_value__;return $_(e)?U_(e):e}function vc(n){const e=pi(n.mapValue.fields.__local_write_time__.timestampValue);return new Ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e,t,r,i,o,s,a,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class ks{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ks("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ks&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ch={nullValue:"NULL_VALUE"};function Cs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$_(n)?4:Wk(n)?9007199254740991:10:Z()}function Mr(n,e){if(n===e)return!0;const t=Cs(n);if(t!==Cs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return vc(n).isEqual(vc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=pi(i.timestampValue),a=pi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return mo(i.bytesValue).isEqual(mo(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return tt(i.geoPointValue.latitude)===tt(o.geoPointValue.latitude)&&tt(i.geoPointValue.longitude)===tt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return tt(i.integerValue)===tt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=tt(i.doubleValue),a=tt(o.doubleValue);return s===a?yc(s)===yc(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return al(n.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(DT(s)!==DT(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Mr(s[l],a[l])))return!1;return!0}(n,e);default:return Z()}}function _c(n,e){return(n.values||[]).find(t=>Mr(t,e))!==void 0}function go(n,e){if(n===e)return 0;const t=Cs(n),r=Cs(e);if(t!==r)return le(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return le(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=tt(o.integerValue||o.doubleValue),l=tt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return bT(n.timestampValue,e.timestampValue);case 4:return bT(vc(n),vc(e));case 5:return le(n.stringValue,e.stringValue);case 6:return function(o,s){const a=mo(o),l=mo(s);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=le(a[u],l[u]);if(d!==0)return d}return le(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=le(tt(o.latitude),tt(s.latitude));return a!==0?a:le(tt(o.longitude),tt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const d=go(a[u],l[u]);if(d)return d}return le(a.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===zi.mapValue&&s===zi.mapValue)return 0;if(o===zi.mapValue)return 1;if(s===zi.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=le(l[h],d[h]);if(p!==0)return p;const m=go(a[l[h]],u[d[h]]);if(m!==0)return m}return le(l.length,d.length)}(n.mapValue,e.mapValue);default:throw Z()}}function bT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return le(n,e);const t=pi(n),r=pi(e),i=le(t.seconds,r.seconds);return i!==0?i:le(t.nanos,r.nanos)}function ll(n){return Py(n)}function Py(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=pi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return mo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return q.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=Py(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Py(t.fields[s])}`;return i+"}"}(n.mapValue):Z()}function B_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ay(n){return!!n&&"integerValue"in n}function wc(n){return!!n&&"arrayValue"in n}function kT(n){return!!n&&"nullValue"in n}function CT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xh(n){return!!n&&"mapValue"in n}function Yu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Bs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Yu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Wk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function hF(n){return"nullValue"in n?Ch:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?B_(ks.empty(),q.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Z()}function fF(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?B_(ks.empty(),q.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?zi:Z()}function xT(n,e){const t=go(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function PT(n,e){const t=go(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.value=e}static empty(){return new Ht({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!xh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yu(t)}setAll(e){let t=He.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Yu(s):i.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());xh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];xh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Bs(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Ht(Yu(this.value))}}function Yk(n){const e=[];return Bs(n.fields,(t,r)=>{const i=new He([t]);if(xh(r)){const o=Yk(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new rt(e,0,re.min(),re.min(),re.min(),Ht.empty(),0)}static newFoundDocument(e,t,r,i){return new rt(e,1,t,re.min(),r,i,0)}static newNoDocument(e,t){return new rt(e,2,t,re.min(),re.min(),Ht.empty(),0)}static newUnknownDocument(e,t){return new rt(e,3,t,re.min(),re.min(),Ht.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ht.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ht.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,t){this.position=e,this.inclusive=t}}function AT(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],s=n.position[i];if(o.field.isKeyField()?r=q.comparator(q.fromName(s.referenceValue),t.key):r=go(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function RT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Mr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,t="asc"){this.field=e,this.dir=t}}function pF(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{}class ge extends zk{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new mF(e,t,r):t==="array-contains"?new vF(e,r):t==="in"?new Xk(e,r):t==="not-in"?new _F(e,r):t==="array-contains-any"?new wF(e,r):new ge(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new gF(e,r):new yF(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(go(t,this.value)):t!==null&&Cs(this.value)===Cs(t)&&this.matchesComparison(go(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Re extends zk{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Re(e,t)}matches(e){return cl(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function cl(n){return n.op==="and"}function Ry(n){return n.op==="or"}function W_(n){return Hk(n)&&cl(n)}function Hk(n){for(const e of n.filters)if(e instanceof Re)return!1;return!0}function Ny(n){if(n instanceof ge)return n.field.canonicalString()+n.op.toString()+ll(n.value);if(W_(n))return n.filters.map(e=>Ny(e)).join(",");{const e=n.filters.map(t=>Ny(t)).join(",");return`${n.op}(${e})`}}function Kk(n,e){return n instanceof ge?function(r,i){return i instanceof ge&&r.op===i.op&&r.field.isEqual(i.field)&&Mr(r.value,i.value)}(n,e):n instanceof Re?function(r,i){return i instanceof Re&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Kk(s,i.filters[a]),!0):!1}(n,e):void Z()}function qk(n,e){const t=n.filters.concat(e);return Re.create(t,n.op)}function Gk(n){return n instanceof ge?function(t){return`${t.field.canonicalString()} ${t.op} ${ll(t.value)}`}(n):n instanceof Re?function(t){return t.op.toString()+" {"+t.getFilters().map(Gk).join(" ,")+"}"}(n):"Filter"}class mF extends ge{constructor(e,t,r){super(e,t,r),this.key=q.fromName(r.referenceValue)}matches(e){const t=q.comparator(e.key,this.key);return this.matchesComparison(t)}}class gF extends ge{constructor(e,t){super(e,"in",t),this.keys=Qk("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yF extends ge{constructor(e,t){super(e,"not-in",t),this.keys=Qk("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Qk(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>q.fromName(r.referenceValue))}class vF extends ge{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wc(t)&&_c(t.arrayValue,this.value)}}class Xk extends ge{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&_c(this.value.arrayValue,t)}}class _F extends ge{constructor(e,t){super(e,"not-in",t)}matches(e){if(_c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!_c(this.value.arrayValue,t)}}class wF extends ge{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>_c(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function Oy(n,e=null,t=[],r=[],i=null,o=null,s=null){return new EF(n,e,t,r,i,o,s)}function xs(n){const e=ae(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Ny(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Sp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ll(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ll(r)).join(",")),e.ue=t}return e.ue}function Wc(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!pF(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Kk(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!RT(n.startAt,e.startAt)&&RT(n.endAt,e.endAt)}function If(n){return q.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Df(n,e){return n.filters.filter(t=>t instanceof ge&&t.field.isEqual(e))}function NT(n,e,t){let r=Ch,i=!0;for(const o of Df(n,e)){let s=Ch,a=!0;switch(o.op){case"<":case"<=":s=hF(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=Ch}xT({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];xT({value:r,inclusive:i},{value:s,inclusive:t.inclusive})<0&&(r=s,i=t.inclusive);break}}return{value:r,inclusive:i}}function OT(n,e,t){let r=zi,i=!0;for(const o of Df(n,e)){let s=zi,a=!0;switch(o.op){case">=":case">":s=fF(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=zi}PT({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];PT({value:r,inclusive:i},{value:s,inclusive:t.inclusive})>0&&(r=s,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function TF(n,e,t,r,i,o,s,a){return new bp(n,e,t,r,i,o,s,a)}function kp(n){return new bp(n)}function MT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function IF(n){return n.collectionGroup!==null}function zu(n){const e=ae(n);if(e.ce===null){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ne(He.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Tf(o,r))}),t.has(He.keyField().canonicalString())||e.ce.push(new Tf(He.keyField(),r))}return e.ce}function Wn(n){const e=ae(n);return e.le||(e.le=DF(e,zu(n))),e.le}function DF(n,e){if(n.limitType==="F")return Oy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Tf(i.field,o)});const t=n.endAt?new ul(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ul(n.startAt.position,n.startAt.inclusive):null;return Oy(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function My(n,e,t){return new bp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Cp(n,e){return Wc(Wn(n),Wn(e))&&n.limitType===e.limitType}function Jk(n){return`${xs(Wn(n))}|lt:${n.limitType}`}function ca(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Gk(i)).join(", ")}]`),Sp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ll(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ll(i)).join(",")),`Target(${r})`}(Wn(n))}; limitType=${n.limitType})`}function Yc(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of zu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=AT(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,zu(r),i)||r.endAt&&!function(s,a,l){const u=AT(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,zu(r),i))}(n,e)}function SF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Zk(n){return(e,t)=>{let r=!1;for(const i of zu(n)){const o=bF(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function bF(n,e,t){const r=n.field.isKeyField()?q.comparator(e.key,t.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?go(l,u):Z()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Uk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF=new Be(q.comparator);function Cn(){return kF}const eC=new Be(q.comparator);function Du(...n){let e=eC;for(const t of n)e=e.insert(t.key,t);return e}function tC(n){let e=eC;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ir(){return Hu()}function nC(){return Hu()}function Hu(){return new ko(n=>n.toString(),(n,e)=>n.isEqual(e))}const CF=new Be(q.comparator),xF=new Ne(q.comparator);function he(...n){let e=xF;for(const t of n)e=e.add(t);return e}const PF=new Ne(le);function AF(){return PF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yc(e)?"-0":e}}function iC(n){return{integerValue:""+n}}function RF(n,e){return z2(e)?iC(e):rC(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(){this._=void 0}}function NF(n,e,t){return n instanceof Ec?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&$_(o)&&(o=U_(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Ps?sC(n,e):n instanceof dl?aC(n,e):function(i,o){const s=oC(i,o),a=LT(s)+LT(i.Pe);return Ay(s)&&Ay(i.Pe)?iC(a):rC(i.serializer,a)}(n,e)}function OF(n,e,t){return n instanceof Ps?sC(n,e):n instanceof dl?aC(n,e):t}function oC(n,e){return n instanceof Tc?function(r){return Ay(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Ec extends xp{}class Ps extends xp{constructor(e){super(),this.elements=e}}function sC(n,e){const t=lC(e);for(const r of n.elements)t.some(i=>Mr(i,r))||t.push(r);return{arrayValue:{values:t}}}class dl extends xp{constructor(e){super(),this.elements=e}}function aC(n,e){let t=lC(e);for(const r of n.elements)t=t.filter(i=>!Mr(i,r));return{arrayValue:{values:t}}}class Tc extends xp{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function LT(n){return tt(n.integerValue||n.doubleValue)}function lC(n){return wc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,t){this.field=e,this.transform=t}}function MF(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ps&&i instanceof Ps||r instanceof dl&&i instanceof dl?al(r.elements,i.elements,Mr):r instanceof Tc&&i instanceof Tc?Mr(r.Pe,i.Pe):r instanceof Ec&&i instanceof Ec}(n.transform,e.transform)}class LF{constructor(e,t){this.version=e,this.transformResults=t}}class pn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pn}static exists(e){return new pn(void 0,e)}static updateTime(e){return new pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ph(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Pp{}function cC(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Y_(n.key,pn.none()):new kl(n.key,n.data,pn.none());{const t=n.data,r=Ht.empty();let i=new Ne(He.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ei(n.key,r,new fn(i.toArray()),pn.none())}}function VF(n,e,t){n instanceof kl?function(i,o,s){const a=i.value.clone(),l=FT(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ei?function(i,o,s){if(!Ph(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=FT(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(dC(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Ku(n,e,t,r){return n instanceof kl?function(o,s,a,l){if(!Ph(o.precondition,s))return a;const u=o.value.clone(),d=jT(o.fieldTransforms,l,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ei?function(o,s,a,l){if(!Ph(o.precondition,s))return a;const u=jT(o.fieldTransforms,l,s),d=s.data;return d.setAll(dC(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(n,e,t,r):function(o,s,a){return Ph(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function FF(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=oC(r.transform,i||null);o!=null&&(t===null&&(t=Ht.empty()),t.set(r.field,o))}return t||null}function VT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&al(r,i,(o,s)=>MF(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class kl extends Pp{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ei extends Pp{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function dC(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function FT(n,e,t){const r=new Map;te(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,OF(s,a,t[i]))}return r}function jT(n,e,t){const r=new Map;for(const i of n){const o=i.transform,s=t.data.field(i.field);r.set(i.field,NF(o,s,e))}return r}class Y_ extends Pp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hC extends Pp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&VF(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ku(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ku(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=nC();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;const l=cC(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),he())}isEqual(e){return this.batchId===e.batchId&&al(this.mutations,e.mutations,(t,r)=>VT(t,r))&&al(this.baseMutations,e.baseMutations,(t,r)=>VT(t,r))}}class H_{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){te(e.mutations.length===r.length);let i=function(){return CF}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new H_(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,ye;function $F(n){switch(n){default:return Z();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function fC(n){if(n===void 0)return en("GRPC error has no .code"),U.UNKNOWN;switch(n){case pt.OK:return U.OK;case pt.CANCELLED:return U.CANCELLED;case pt.UNKNOWN:return U.UNKNOWN;case pt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case pt.INTERNAL:return U.INTERNAL;case pt.UNAVAILABLE:return U.UNAVAILABLE;case pt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case pt.NOT_FOUND:return U.NOT_FOUND;case pt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case pt.ABORTED:return U.ABORTED;case pt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case pt.DATA_LOSS:return U.DATA_LOSS;default:return Z()}}(ye=pt||(pt={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF=new hs([4294967295,4294967295],0);function $T(n){const e=UF().encode(n),t=new Tk;return t.update(e),new Uint8Array(t.digest())}function UT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new hs([t,r],0),new hs([i,o],0)]}class q_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Su(`Invalid padding: ${t}`);if(r<0)throw new Su(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Su(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Su(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=hs.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(hs.fromNumber(r)));return i.compare(BF)===1&&(i=new hs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=$T(e),[r,i]=UT(t);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new q_(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const t=$T(e),[r,i]=UT(t);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,zc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ap(re.min(),i,new Be(le),Cn(),he())}}class zc{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new zc(r,t,he(),he(),he())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class pC{constructor(e,t){this.targetId=e,this.me=t}}class mC{constructor(e,t,r=jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class BT{constructor(){this.fe=0,this.ge=YT(),this.pe=jt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=he(),t=he(),r=he();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new zc(this.pe,this.ye,e,t,r)}ve(){this.we=!1,this.ge=YT()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,te(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class WF{constructor(e){this.Le=e,this.Be=new Map,this.ke=Cn(),this.qe=WT(),this.Qe=new Be(le)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:Z()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){const t=e.targetId,r=e.me.count,i=this.Je(t);if(i){const o=i.target;if(If(o))if(r===0){const s=new q(o.path);this.Ue(t,s,rt.newNoDocument(s,re.min()))}else te(r===1);else{const s=this.Ye(t);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(t);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let s,a;try{s=mo(r).toUint8Array()}catch(l){if(l instanceof Bk)return sl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new q_(s,i,o)}catch(l){return sl(l instanceof Su?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){const t=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&If(a.target)){const l=new q(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,rt.newNoDocument(l,e))}o.be&&(t.set(s,o.Ce()),o.ve())}});let r=he();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Ap(e,t,this.Qe,this.ke,r);return this.ke=Cn(),this.qe=WT(),this.Qe=new Be(le),i}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new BT,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ne(le),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||B("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new BT),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function WT(){return new Be(q.comparator)}function YT(){return new Be(q.comparator)}const YF={asc:"ASCENDING",desc:"DESCENDING"},zF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HF={and:"AND",or:"OR"};class KF{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ly(n,e){return n.useProto3Json||Sp(e)?e:{value:e}}function hl(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function qF(n,e){return hl(n,e.toTimestamp())}function on(n){return te(!!n),re.fromTimestamp(function(t){const r=pi(t);return new Ge(r.seconds,r.nanos)}(n))}function G_(n,e){return Vy(n,e).canonicalString()}function Vy(n,e){const t=function(i){return new ke(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function yC(n){const e=ke.fromString(n);return te(bC(e)),e}function Sf(n,e){return G_(n.databaseId,e.path)}function fs(n,e){const t=yC(e);if(t.get(1)!==n.databaseId.projectId)throw new Q(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Q(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new q(wC(t))}function vC(n,e){return G_(n.databaseId,e)}function _C(n){const e=yC(n);return e.length===4?ke.emptyPath():wC(e)}function Fy(n){return new ke(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wC(n){return te(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function zT(n,e,t){return{name:Sf(n,e),fields:t.value.mapValue.fields}}function GF(n,e,t){const r=fs(n,e.name),i=on(e.updateTime),o=e.createTime?on(e.createTime):re.min(),s=new Ht({mapValue:{fields:e.fields}}),a=rt.newFoundDocument(r,i,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function QF(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(te(d===void 0||typeof d=="string"),jt.fromBase64String(d||"")):(te(d===void 0||d instanceof Buffer||d instanceof Uint8Array),jt.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const d=u.code===void 0?U.UNKNOWN:fC(u.code);return new Q(d,u.message||"")}(s);t=new mC(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=fs(n,r.document.name),o=on(r.document.updateTime),s=r.document.createTime?on(r.document.createTime):re.min(),a=new Ht({mapValue:{fields:r.document.fields}}),l=rt.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];t=new Ah(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=fs(n,r.document),o=r.readTime?on(r.readTime):re.min(),s=rt.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Ah([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=fs(n,r.document),o=r.removedTargetIds||[];t=new Ah([],o,i,null)}else{if(!("filter"in e))return Z();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new jF(i,o),a=r.targetId;t=new pC(a,s)}}return t}function bf(n,e){let t;if(e instanceof kl)t={update:zT(n,e.key,e.value)};else if(e instanceof Y_)t={delete:Sf(n,e.key)};else if(e instanceof Ei)t={update:zT(n,e.key,e.data),updateMask:nj(e.fieldMask)};else{if(!(e instanceof hC))return Z();t={verify:Sf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Ec)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ps)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof dl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Tc)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Z()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:qF(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Z()}(n,e.precondition)),t}function jy(n,e){const t=e.currentDocument?function(o){return o.updateTime!==void 0?pn.updateTime(on(o.updateTime)):o.exists!==void 0?pn.exists(o.exists):pn.none()}(e.currentDocument):pn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let l=null;if("setToServerValue"in a)te(a.setToServerValue==="REQUEST_TIME"),l=new Ec;else if("appendMissingElements"in a){const d=a.appendMissingElements.values||[];l=new Ps(d)}else if("removeAllFromArray"in a){const d=a.removeAllFromArray.values||[];l=new dl(d)}else"increment"in a?l=new Tc(s,a.increment):Z();const u=He.fromServerFormat(a.fieldPath);return new uC(u,l)}(n,i)):[];if(e.update){e.update.name;const i=fs(n,e.update.name),o=new Ht({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=function(l){const u=l.fieldPaths||[];return new fn(u.map(d=>He.fromServerFormat(d)))}(e.updateMask);return new Ei(i,o,s,t,r)}return new kl(i,o,t,r)}if(e.delete){const i=fs(n,e.delete);return new Y_(i,t)}if(e.verify){const i=fs(n,e.verify);return new hC(i,t)}return Z()}function XF(n,e){return n&&n.length>0?(te(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?on(i.updateTime):on(o);return s.isEqual(re.min())&&(s=on(o)),new LF(s,i.transformResults||[])}(t,e))):[]}function EC(n,e){return{documents:[vC(n,e.path)]}}function TC(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=vC(n,i);const o=function(u){if(u.length!==0)return SC(Re.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:da(p.field),direction:ZF(p.dir)}}(d))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const a=Ly(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:i}}function IC(n){let e=_C(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){te(r===1);const d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=function(h){const p=DC(h);return p instanceof Re&&W_(p)?p.getFilters():[p]}(t.where));let s=[];t.orderBy&&(s=function(h){return h.map(p=>function(v){return new Tf(ha(v.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(t.orderBy));let a=null;t.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,Sp(p)?null:p}(t.limit));let l=null;t.startAt&&(l=function(h){const p=!!h.before,m=h.values||[];return new ul(m,p)}(t.startAt));let u=null;return t.endAt&&(u=function(h){const p=!h.before,m=h.values||[];return new ul(m,p)}(t.endAt)),TF(e,i,s,o,a,"F",l,u)}function JF(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function DC(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ha(t.unaryFilter.field);return ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ha(t.unaryFilter.field);return ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ha(t.unaryFilter.field);return ge.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ha(t.unaryFilter.field);return ge.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(n):n.fieldFilter!==void 0?function(t){return ge.create(ha(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Re.create(t.compositeFilter.filters.map(r=>DC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z()}}(t.compositeFilter.op))}(n):Z()}function ZF(n){return YF[n]}function ej(n){return zF[n]}function tj(n){return HF[n]}function da(n){return{fieldPath:n.canonicalString()}}function ha(n){return He.fromServerFormat(n.fieldPath)}function SC(n){return n instanceof ge?function(t){if(t.op==="=="){if(CT(t.value))return{unaryFilter:{field:da(t.field),op:"IS_NAN"}};if(kT(t.value))return{unaryFilter:{field:da(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(CT(t.value))return{unaryFilter:{field:da(t.field),op:"IS_NOT_NAN"}};if(kT(t.value))return{unaryFilter:{field:da(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:da(t.field),op:ej(t.op),value:t.value}}}(n):n instanceof Re?function(t){const r=t.getFilters().map(i=>SC(i));return r.length===1?r[0]:{compositeFilter:{op:tj(t.op),filters:r}}}(n):Z()}function nj(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,t,r,i,o=re.min(),s=re.min(),a=jt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.ct=e}}function rj(n,e){let t;if(e.document)t=GF(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=q.fromSegments(e.noDocument.path),i=Rs(e.noDocument.readTime);t=rt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Z();{const r=q.fromSegments(e.unknownDocument.path),i=Rs(e.unknownDocument.version);t=rt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const o=new Ge(i[0],i[1]);return re.fromTimestamp(o)}(e.readTime)),t}function HT(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:kf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,s){return{name:Sf(o,s.key),fields:s.data.value.mapValue.fields,updateTime:hl(o,s.version.toTimestamp()),createTime:hl(o,s.createTime.toTimestamp())}}(n.ct,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:As(e.version)};else{if(!e.isUnknownDocument())return Z();r.unknownDocument={path:t.path.toArray(),version:As(e.version)}}return r}function kf(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function As(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Rs(n){const e=new Ge(n.seconds,n.nanoseconds);return re.fromTimestamp(e)}function ts(n,e){const t=(e.baseMutations||[]).map(o=>jy(n.ct,o));for(let o=0;o<e.mutations.length-1;++o){const s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>jy(n.ct,o)),i=Ge.fromMillis(e.localWriteTimeMs);return new z_(e.batchId,i,t,r)}function bu(n){const e=Rs(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Rs(n.lastLimboFreeSnapshotVersion):re.min();let r;return r=function(o){return o.documents!==void 0}(n.query)?function(o){return te(o.documents.length===1),Wn(kp(_C(o.documents[0])))}(n.query):function(o){return Wn(IC(o))}(n.query),new Zr(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,jt.fromBase64String(n.resumeToken))}function CC(n,e){const t=As(e.snapshotVersion),r=As(e.lastLimboFreeSnapshotVersion);let i;i=If(e.target)?EC(n.ct,e.target):TC(n.ct,e.target)._t;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:xs(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function xC(n){const e=IC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?My(e,e.limit,"L"):e}function Xm(n,e){return new K_(e.largestBatchId,jy(n.ct,e.overlayMutation))}function KT(n,e){const t=e.path.lastSegment();return[n,rn(e.path.popLast()),t]}function qT(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:As(r.readTime),documentKey:rn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{getBundleMetadata(e,t){return GT(e).get(t).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:Rs(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,t){return GT(e).put(function(i){return{bundleId:i.id,createTime:As(on(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return QT(e).get(t).next(r=>{if(r)return function(o){return{name:o.name,query:xC(o.bundledQuery),readTime:Rs(o.readTime)}}(r)})}saveNamedQuery(e,t){return QT(e).put(function(i){return{name:i.name,readTime:As(on(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function GT(n){return kt(n,"bundles")}function QT(n){return kt(n,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const r=t.uid||"";return new Rp(e,r)}getOverlay(e,t){return su(e).get(KT(this.userId,t)).next(r=>r?Xm(this.serializer,r):null)}getOverlays(e,t){const r=Ir();return j.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,s)=>{const a=new K_(t,s);i.push(this.ht(e,a))}),j.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(s=>i.add(rn(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(su(e).j("collectionPathOverlayIndex",a))}),j.waitFor(o)}getOverlaysForCollection(e,t,r){const i=Ir(),o=rn(t),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return su(e).U("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const u=Xm(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=Ir();let s;const a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return su(e).J({index:"collectionGroupOverlayIndex",range:a},(l,u,d)=>{const h=Xm(this.serializer,u);o.size()<i||h.largestBatchId===s?(o.set(h.getKey(),h),s=h.largestBatchId):d.done()}).next(()=>o)}ht(e,t){return su(e).put(function(i,o,s){const[a,l,u]=KT(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:bf(i.ct,s.mutation)}}(this.serializer,this.userId,t))}}function su(n){return kt(n,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(tt(e.integerValue));else if("doubleValue"in e){const r=tt(e.doubleValue);isNaN(r)?this.Et(t,13):(this.Et(t,15),yc(r)?t.dt(0):t.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(t,20),typeof r=="string"&&(r=pi(r)),t.At(`${r.seconds||""}`),t.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(mo(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(t,45),t.dt(r.latitude||0),t.dt(r.longitude||0)}else"mapValue"in e?Wk(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Z()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const r=e.fields||{};this.Et(t,55);for(const i of Object.keys(r))this.Rt(i,t),this.It(r[i],t)}wt(e,t){const r=e.values||[];this.Et(t,50);for(const i of r)this.It(i,t)}gt(e,t){this.Et(t,37),q.fromName(e).path.forEach(r=>{this.Et(t,60),this.St(r,t)})}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}ns.bt=new ns;function oj(n){if(n===0)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function XT(n){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const s=oj(255&r[o]);if(i+=s,s!==8)break}return i}(n);return Math.ceil(e/8)}class sj{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ct(r.value),r=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Mt(r.value),r=t.next();this.xt()}Ot(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=t.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=t.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){const t=this.Bt(e),r=XT(t);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}qt(e){const t=this.Bt(e),r=XT(t);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=(128&t[0])!=0;t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ct(e){const t=255&e;t===0?(this.Kt(0),this.Kt(255)):t===255?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;t===0?(this.Ut(0),this.Ut(255)):t===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class aj{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class lj{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class au{constructor(){this.Gt=new sj,this.zt=new aj(this.Gt),this.jt=new lj(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new rs(this.indexId,this.documentKey,this.arrayValue,r)}}function ki(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=JT(n.arrayValue,e.arrayValue),t!==0?t:(t=JT(n.directionalValue,e.directionalValue),t!==0?t:q.comparator(n.documentKey,e.documentKey)))}function JT(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e){this.Yt=new Ne((t,r)=>He.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const r=t;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(te(e.collectionGroup===this.collectionId),this.en)return!1;const t=Cy(e);if(t!==void 0&&!this.nn(t))return!1;const r=Xo(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.nn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[o];if(!this.rn(a,l)||!this.sn(this.Zt[s++],l))return!1}++o}for(;o<r.length;++o){const a=r[o];if(s>=this.Zt.length||!this.sn(this.Zt[s++],a))return!1}return!0}on(){if(this.en)return null;let e=new Ne(He.comparator);const t=[];for(const r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new bh(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new bh(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new bh(r.field,r.dir==="asc"?0:1)));return new Ef(Ef.UNKNOWN_ID,this.collectionId,t,gc.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(n){var e,t;if(te(n instanceof ge||n instanceof Re),n instanceof ge){if(n instanceof Xk){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>ge.create(n.field,"==",o)))||[];return Re.create(i,"or")}return n}const r=n.filters.map(i=>PC(i));return Re.create(r,n.op)}function uj(n){if(n.getFilters().length===0)return[];const e=By(PC(n));return te(AC(e)),$y(e)||Uy(e)?[e]:e.getFilters()}function $y(n){return n instanceof ge}function Uy(n){return n instanceof Re&&W_(n)}function AC(n){return $y(n)||Uy(n)||function(t){if(t instanceof Re&&Ry(t)){for(const r of t.getFilters())if(!$y(r)&&!Uy(r))return!1;return!0}return!1}(n)}function By(n){if(te(n instanceof ge||n instanceof Re),n instanceof ge)return n;if(n.filters.length===1)return By(n.filters[0]);const e=n.filters.map(r=>By(r));let t=Re.create(e,n.op);return t=Cf(t),AC(t)?t:(te(t instanceof Re),te(cl(t)),te(t.filters.length>1),t.filters.reduce((r,i)=>Q_(r,i)))}function Q_(n,e){let t;return te(n instanceof ge||n instanceof Re),te(e instanceof ge||e instanceof Re),t=n instanceof ge?e instanceof ge?function(i,o){return Re.create([i,o],"and")}(n,e):eI(n,e):e instanceof ge?eI(e,n):function(i,o){if(te(i.filters.length>0&&o.filters.length>0),cl(i)&&cl(o))return qk(i,o.getFilters());const s=Ry(i)?i:o,a=Ry(i)?o:i,l=s.filters.map(u=>Q_(u,a));return Re.create(l,"or")}(n,e),Cf(t)}function eI(n,e){if(cl(e))return qk(e,n.getFilters());{const t=e.filters.map(r=>Q_(n,r));return Re.create(t,"or")}}function Cf(n){if(te(n instanceof ge||n instanceof Re),n instanceof ge)return n;const e=n.getFilters();if(e.length===1)return Cf(e[0]);if(Hk(n))return n;const t=e.map(i=>Cf(i)),r=[];return t.forEach(i=>{i instanceof ge?r.push(i):i instanceof Re&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Re.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(){this._n=new X_}addToCollectionParentIndex(e,t){return this._n.add(t),j.resolve()}getCollectionParents(e,t){return j.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return j.resolve()}deleteFieldIndex(e,t){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,t){return j.resolve()}getDocumentsMatchingTarget(e,t){return j.resolve(null)}getIndexType(e,t){return j.resolve(0)}getFieldIndexes(e,t){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,t){return j.resolve(Nn.min())}getMinOffsetFromCollectionGroup(e,t){return j.resolve(Nn.min())}updateCollectionGroup(e,t,r){return j.resolve()}updateIndexEntries(e,t){return j.resolve()}}class X_{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ne(ke.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ne(ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd=new Uint8Array(0);class dj{constructor(e,t){this.databaseId=t,this.an=new X_,this.un=new ko(r=>xs(r),(r,i)=>Wc(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.an.add(t)});const o={collectionId:r,parent:rn(i)};return tI(e).put(o)}return j.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Ak(t),""],!1,!0);return tI(e).U(i).next(o=>{for(const s of o){if(s.collectionId!==t)break;r.push(Tr(s.parent))}return r})}addFieldIndex(e,t){const r=lu(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(t);delete i.indexId;const o=r.add(i);if(t.indexState){const s=sa(e);return o.next(a=>{s.put(qT(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=lu(e),i=sa(e),o=oa(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=lu(e),r=oa(e),i=sa(e);return t.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,t){return j.forEach(this.cn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new ZT(r).on();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const r=oa(e);let i=!0;const o=new Map;return j.forEach(this.cn(t),s=>this.ln(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=he();const a=[];return j.forEach(o,(l,u)=>{B("IndexedDbIndexManager",`Using index ${function(T){return`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(P=>`${P.fieldPath}:${P.kind}`).join(",")}`}(l)} to execute ${xs(t)}`);const d=function(T,P){const M=Cy(P);if(M===void 0)return null;for(const L of Df(T,M.fieldPath))switch(L.op){case"array-contains-any":return L.value.arrayValue.values||[];case"array-contains":return[L.value]}return null}(u,l),h=function(T,P){const M=new Map;for(const L of Xo(P))for(const I of Df(T,L.fieldPath))switch(I.op){case"==":case"in":M.set(L.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return M.set(L.fieldPath.canonicalString(),I.value),Array.from(M.values())}return null}(u,l),p=function(T,P){const M=[];let L=!0;for(const I of Xo(P)){const E=I.kind===0?NT(T,I.fieldPath,T.startAt):OT(T,I.fieldPath,T.startAt);M.push(E.value),L&&(L=E.inclusive)}return new ul(M,L)}(u,l),m=function(T,P){const M=[];let L=!0;for(const I of Xo(P)){const E=I.kind===0?OT(T,I.fieldPath,T.endAt):NT(T,I.fieldPath,T.endAt);M.push(E.value),L&&(L=E.inclusive)}return new ul(M,L)}(u,l),v=this.hn(l,u,p),w=this.hn(l,u,m),D=this.Pn(l,u,h),_=this.In(l.indexId,d,v,p.inclusive,w,m.inclusive,D);return j.forEach(_,y=>r.G(y,t.limit).next(T=>{T.forEach(P=>{const M=q.fromSegments(P.documentKey);s.has(M)||(s=s.add(M),a.push(M))})}))}).next(()=>a)}return j.resolve(null)})}cn(e){let t=this.un.get(e);return t||(e.filters.length===0?t=[e]:t=uj(Re.create(e.filters,"and")).map(r=>Oy(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}In(e,t,r,i,o,s,a){const l=(t!=null?t.length:1)*Math.max(r.length,o.length),u=l/(t!=null?t.length:1),d=[];for(let h=0;h<l;++h){const p=t?this.Tn(t[h/u]):Gd,m=this.En(e,p,r[h%u],i),v=this.dn(e,p,o[h%u],s),w=a.map(D=>this.En(e,p,D,!0));d.push(...this.createRange(m,v,w))}return d}En(e,t,r,i){const o=new rs(e,q.empty(),t,r);return i?o:o.Jt()}dn(e,t,r,i){const o=new rs(e,q.empty(),t,r);return i?o.Jt():o}ln(e,t){const r=new ZT(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let r=2;const i=this.cn(t);return j.forEach(i,o=>this.ln(e,o).next(s=>{s?r!==0&&s.fields.length<function(l){let u=new Ne(He.comparator),d=!1;for(const h of l.filters)for(const p of h.getFlattenedFilters())p.field.isKeyField()||(p.op==="array-contains"||p.op==="array-contains-any"?d=!0:u=u.add(p.field));for(const h of l.orderBy)h.field.isKeyField()||(u=u.add(h.field));return u.size+(d?1:0)}(o)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(t)&&i.length>1&&r===2?1:r)}An(e,t){const r=new au;for(const i of Xo(e)){const o=t.data.field(i.fieldPath);if(o==null)return null;const s=r.Ht(i.kind);ns.bt.Pt(o,s)}return r.Wt()}Tn(e){const t=new au;return ns.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const r=new au;return ns.bt.Pt(B_(this.databaseId,t),r.Ht(function(o){const s=Xo(o);return s.length===0?0:s[s.length-1].kind}(e))),r.Wt()}Pn(e,t,r){if(r===null)return[];let i=[];i.push(new au);let o=0;for(const s of Xo(e)){const a=r[o++];for(const l of i)if(this.Vn(t,s.fieldPath)&&wc(a))i=this.mn(i,s,a);else{const u=l.Ht(s.kind);ns.bt.Pt(a,u)}}return this.fn(i)}hn(e,t,r){return this.Pn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Wt();return t}mn(e,t,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const l=new au;l.seed(a.Wt()),ns.bt.Pt(s,l.Ht(t.kind)),o.push(l)}return o}Vn(e,t){return!!e.filters.find(r=>r instanceof ge&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=lu(e),i=sa(e);return(t?r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.U()).next(o=>{const s=[];return j.forEach(o,a=>i.get([a.indexId,this.uid]).next(l=>{s.push(function(d,h){const p=h?new gc(h.sequenceNumber,new Nn(Rs(h.readTime),new q(Tr(h.documentKey)),h.largestBatchId)):gc.empty(),m=d.fields.map(([v,w])=>new bh(He.fromServerFormat(v),w));return new Ef(d.indexId,d.collectionGroup,m,p)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:le(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=lu(e),o=sa(e);return this.gn(e).next(s=>i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>j.forEach(a,l=>o.put(qT(l.indexId,this.uid,s,r)))))}updateIndexEntries(e,t){const r=new Map;return j.forEach(t,(i,o)=>{const s=r.get(i.collectionGroup);return(s?j.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),j.forEach(a,l=>this.pn(e,i,l).next(u=>{const d=this.yn(o,l);return u.isEqual(d)?j.resolve():this.wn(e,o,l,u,d)}))))})}Sn(e,t,r,i){return oa(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,t.key),documentKey:t.key.path.toArray()})}bn(e,t,r,i){return oa(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,t.key),t.key.path.toArray()])}pn(e,t,r){const i=oa(e);let o=new Ne(ki);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,t)])},(s,a)=>{o=o.add(new rs(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}yn(e,t){let r=new Ne(ki);const i=this.An(t,e);if(i==null)return r;const o=Cy(t);if(o!=null){const s=e.data.field(o.fieldPath);if(wc(s))for(const a of s.arrayValue.values||[])r=r.add(new rs(t.indexId,e.key,this.Tn(a),i))}else r=r.add(new rs(t.indexId,e.key,Gd,i));return r}wn(e,t,r,i,o){B("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(l,u,d,h,p){const m=l.getIterator(),v=u.getIterator();let w=ia(m),D=ia(v);for(;w||D;){let _=!1,y=!1;if(w&&D){const T=d(w,D);T<0?y=!0:T>0&&(_=!0)}else w!=null?y=!0:_=!0;_?(h(D),D=ia(v)):y?(p(w),w=ia(m)):(w=ia(m),D=ia(v))}}(i,o,ki,a=>{s.push(this.Sn(e,t,r,a))},a=>{s.push(this.bn(e,t,r,a))}),j.waitFor(s)}gn(e){let t=1;return sa(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((s,a)=>ki(s,a)).filter((s,a,l)=>!a||ki(s,l[a-1])!==0);const i=[];i.push(e);for(const s of r){const a=ki(s,e),l=ki(s,t);if(a===0)i[0]=e.Jt();else if(a>0&&l<0)i.push(s),i.push(s.Jt());else if(l>0)break}i.push(t);const o=[];for(let s=0;s<i.length;s+=2){if(this.Dn(i[s],i[s+1]))return[];const a=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,Gd,[]],l=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,Gd,[]];o.push(IDBKeyRange.bound(a,l))}return o}Dn(e,t){return ki(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(nI)}getMinOffset(e,t){return j.mapArray(this.cn(t),r=>this.ln(e,r).next(i=>i||Z())).next(nI)}}function tI(n){return kt(n,"collectionParents")}function oa(n){return kt(n,"indexEntries")}function lu(n){return kt(n,"indexConfiguration")}function sa(n){return kt(n,"indexState")}function nI(n){te(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;F_(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Nn(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class cn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId);let a=0;const l=r.J({range:s},(d,h,p)=>(a++,p.delete()));o.push(l.next(()=>{te(a===1)}));const u=[];for(const d of t.mutations){const h=Lk(e,d.key.path,t.batchId);o.push(i.delete(h)),u.push(d.key)}return j.waitFor(o).next(()=>u)}function xf(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Z();e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(41943040,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class Np{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,t,r,i){te(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new Np(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ci(e).J({index:"userMutationsIndex",range:r},(i,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=fa(e),s=Ci(e);return s.add({}).next(a=>{te(typeof a=="number");const l=new z_(a,t,r,i),u=function(m,v,w){const D=w.baseMutations.map(y=>bf(m.ct,y)),_=w.mutations.map(y=>bf(m.ct,y));return{userId:v,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:D,mutations:_}}(this.serializer,this.userId,l),d=[];let h=new Ne((p,m)=>le(p.canonicalString(),m.canonicalString()));for(const p of i){const m=Lk(this.userId,p.key.path,a);h=h.add(p.key.path.popLast()),d.push(s.put(u)),d.push(o.put(m,K2))}return h.forEach(p=>{d.push(this.indexManager.addToCollectionParentIndex(e,p))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),j.waitFor(d).next(()=>l)})}lookupMutationBatch(e,t){return Ci(e).get(t).next(r=>r?(te(r.userId===this.userId),ts(this.serializer,r)):null)}vn(e,t){return this.Cn[t]?j.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Cn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Ci(e).J({index:"userMutationsIndex",range:i},(s,a,l)=>{a.userId===this.userId&&(te(a.batchId>=r),o=ts(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ci(e).J({index:"userMutationsIndex",range:t,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ci(e).U("userMutationsIndex",t).next(r=>r.map(i=>ts(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=kh(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return fa(e).J({range:i},(s,a,l)=>{const[u,d,h]=s,p=Tr(d);if(u===this.userId&&t.path.isEqual(p))return Ci(e).get(h).next(m=>{if(!m)throw Z();te(m.userId===this.userId),o.push(ts(this.serializer,m))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ne(le);const i=[];return t.forEach(o=>{const s=kh(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=fa(e).J({range:a},(u,d,h)=>{const[p,m,v]=u,w=Tr(m);p===this.userId&&o.path.isEqual(w)?r=r.add(v):h.done()});i.push(l)}),j.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=kh(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new Ne(le);return fa(e).J({range:s},(l,u,d)=>{const[h,p,m]=l,v=Tr(p);h===this.userId&&r.isPrefixOf(v)?v.length===i&&(a=a.add(m)):d.done()}).next(()=>this.Fn(e,a))}Fn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(Ci(e).get(o).next(s=>{if(s===null)throw Z();te(s.userId===this.userId),r.push(ts(this.serializer,s))}))}),j.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return RC(e._e,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Mn(t.batchId)}),j.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return j.resolve();const r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return fa(e).J({range:r},(o,s,a)=>{if(o[0]===this.userId){const l=Tr(o[1]);i.push(l)}else a.done()}).next(()=>{te(i.length===0)})})}containsKey(e,t){return NC(e,this.userId,t)}xn(e){return OC(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function NC(n,e,t){const r=kh(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return fa(n).J({range:o,H:!0},(a,l,u)=>{const[d,h,p]=a;d===e&&h===i&&(s=!0),u.done()}).next(()=>s)}function Ci(n){return kt(n,"mutations")}function fa(n){return kt(n,"documentMutations")}function OC(n){return kt(n,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ns(0)}static Ln(){return new Ns(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const r=new Ns(t.highestTargetId);return t.highestTargetId=r.next(),this.kn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>re.fromTimestamp(new Ge(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.kn(e,i)))}addTargetData(e,t){return this.qn(e,t).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(t,r),this.kn(e,r))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>aa(e).delete(t.targetId)).next(()=>this.Bn(e)).next(r=>(te(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return aa(e).J((s,a)=>{const l=bu(a);l.sequenceNumber<=t&&r.get(l.targetId)===null&&(i++,o.push(this.removeTargetData(e,l)))}).next(()=>j.waitFor(o)).next(()=>i)}forEachTarget(e,t){return aa(e).J((r,i)=>{const o=bu(i);t(o)})}Bn(e){return iI(e).get("targetGlobalKey").next(t=>(te(t!==null),t))}kn(e,t){return iI(e).put("targetGlobalKey",t)}qn(e,t){return aa(e).put(CC(this.serializer,t))}Qn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=xs(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return aa(e).J({range:i,index:"queryTargetsIndex"},(s,a,l)=>{const u=bu(a);Wc(t,u.target)&&(o=u,l.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=Vi(e);return t.forEach(s=>{const a=rn(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),j.waitFor(i)}removeMatchingKeys(e,t,r){const i=Vi(e);return j.forEach(t,o=>{const s=rn(o.path);return j.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=Vi(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Vi(e);let o=he();return i.J({range:r,H:!0},(s,a,l)=>{const u=Tr(s[1]),d=new q(u);o=o.add(d)}).next(()=>o)}containsKey(e,t){const r=rn(t.path),i=IDBKeyRange.bound([r],[Ak(r)],!1,!0);let o=0;return Vi(e).J({index:"documentTargetsIndex",H:!0,range:i},([s,a],l,u)=>{s!==0&&(o++,u.done())}).next(()=>o>0)}ot(e,t){return aa(e).get(t).next(r=>r?bu(r):null)}}function aa(n){return kt(n,"targets")}function iI(n){return kt(n,"targetGlobal")}function Vi(n){return kt(n,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI([n,e],[t,r]){const i=le(n,t);return i===0?le(e,r):i}class fj{constructor(e){this.Kn=e,this.buffer=new Ne(oI),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();oI(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class pj{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){B("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){bo(t)?B("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Us(t)}await this.zn(3e5)})}}class mj{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return j.resolve(Un.oe);const r=new fj(t);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(rI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rI):this.Yn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let r,i,o,s,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,t))).next(h=>(o=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),ua()<=me.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})))}}function gj(n,e){return new mj(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e,t){this.db=e,this.garbageCollector=gj(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Zn(e){let t=0;return this.Jn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,(r,i)=>t(i))}addReference(e,t,r){return Qd(e,r)}removeReference(e,t,r){return Qd(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Qd(e,t)}er(e,t){return function(i,o){let s=!1;return OC(i).Y(a=>NC(i,a,o).next(l=>(l&&(s=!0),j.resolve(!l)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Xn(e,(s,a)=>{if(a<=t){const l=this.er(e,s).next(u=>{if(!u)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,re.min()),Vi(e).delete(function(h){return[0,rn(h.path)]}(s))))});i.push(l)}}).next(()=>j.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Qd(e,t)}Xn(e,t){const r=Vi(e);let i,o=Un.oe;return r.J({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:u})=>{s===0?(o!==Un.oe&&t(new q(Tr(i)),o),o=u,i=l):o=Un.oe}).next(()=>{o!==Un.oe&&t(new q(Tr(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Qd(n,e){return Vi(n).put(function(r,i){return{targetId:0,path:rn(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(){this.changes=new ko(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?j.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Ho(e).put(r)}removeEntry(e,t,r){return Ho(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],kf(s),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.tr(e,r)))}getEntry(e,t){let r=rt.newInvalidDocument(t);return Ho(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(uu(t))},(i,o)=>{r=this.nr(t,o)}).next(()=>r)}rr(e,t){let r={size:0,document:rt.newInvalidDocument(t)};return Ho(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(uu(t))},(i,o)=>{r={document:this.nr(t,o),size:xf(o)}}).next(()=>r)}getEntries(e,t){let r=Cn();return this.ir(e,t,(i,o)=>{const s=this.nr(i,o);r=r.insert(i,s)}).next(()=>r)}sr(e,t){let r=Cn(),i=new Be(q.comparator);return this.ir(e,t,(o,s)=>{const a=this.nr(o,s);r=r.insert(o,a),i=i.insert(o,xf(s))}).next(()=>({documents:r,_r:i}))}ir(e,t,r){if(t.isEmpty())return j.resolve();let i=new Ne(lI);t.forEach(l=>i=i.add(l));const o=IDBKeyRange.bound(uu(i.first()),uu(i.last())),s=i.getIterator();let a=s.getNext();return Ho(e).J({index:"documentKeyIndex",range:o},(l,u,d)=>{const h=q.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&lI(a,h)<0;)r(a,null),a=s.getNext();a&&a.isEqual(h)&&(r(a,u),a=s.hasNext()?s.getNext():null),a?d.$(uu(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),kf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ho(e).U(IDBKeyRange.bound(a,l,!0)).next(u=>{o==null||o.incrementDocumentReadCount(u.length);let d=Cn();for(const h of u){const p=this.nr(q.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);p.isFoundDocument()&&(Yc(t,p)||i.has(p.key))&&(d=d.insert(p.key,p))}return d})}getAllFromCollectionGroup(e,t,r,i){let o=Cn();const s=aI(t,r),a=aI(t,Nn.max());return Ho(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,u,d)=>{const h=this.nr(q.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);o=o.insert(h.key,h),o.size===i&&d.done()}).next(()=>o)}newChangeBuffer(e){return new _j(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return sI(e).get("remoteDocumentGlobalKey").next(t=>(te(!!t),t))}tr(e,t){return sI(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const r=rj(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(re.min())))return r}return rt.newInvalidDocument(e)}}function LC(n){return new vj(n)}class _j extends MC{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new ko(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Ne((o,s)=>le(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ur.get(o);if(t.push(this.ar.removeEntry(e,o,a.readTime)),s.isValidDocument()){const l=HT(this.ar.serializer,s);i=i.add(o.path.popLast());const u=xf(l);r+=u-a.size,t.push(this.ar.addEntry(e,o,l))}else if(r-=a.size,this.trackRemovals){const l=HT(this.ar.serializer,s.convertToNoDocument(re.min()));t.push(this.ar.addEntry(e,o,l))}}),i.forEach(o=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.ar.updateMetadata(e,r)),j.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next(r=>(this.ur.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.ar.sr(e,t).next(({documents:r,_r:i})=>(i.forEach((o,s)=>{this.ur.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function sI(n){return kt(n,"remoteDocumentGlobal")}function Ho(n){return kt(n,"remoteDocumentsV14")}function uu(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function aI(n,e){const t=e.documentKey.path.toArray();return[n,kf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function lI(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=le(t[o],r[o]),i)return i;return i=le(t.length,r.length),i||(i=le(t[t.length-2],r[r.length-2]),i||le(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Ku(r.mutation,i,fn.empty(),Ge.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,t,r=he()){const i=Ir();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Du();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=Ir();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,he()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Cn();const s=Hu(),a=function(){return Hu()}();return t.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Ei)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),Ku(d.mutation,u,d.mutation.getFieldMask(),Ge.now())):s.set(u.key,fn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,d)=>s.set(u,d)),t.forEach((u,d)=>{var h;return a.set(u,new wj(d,(h=s.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Hu();let i=new Be((s,a)=>s-a),o=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=t.get(l);if(u===null)return;let d=r.get(l)||fn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||he()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=nC();d.forEach(p=>{if(!o.has(p)){const m=cC(t.get(p),r.get(p));m!==null&&h.set(p,m),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return j.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):IF(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):j.resolve(Ir());let a=-1,l=o;return s.next(u=>j.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?j.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,he())).next(d=>({batchId:a,changes:tC(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new q(t)).next(r=>{let i=Du();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let s=Du();return this.indexManager.getCollectionParents(e,o).next(a=>j.forEach(a,l=>{const u=function(h,p){return new bp(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,p)=>{s=s.insert(h,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((l,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,rt.newInvalidDocument(d)))});let a=Du();return s.forEach((l,u)=>{const d=o.get(l);d!==void 0&&Ku(d.mutation,u,fn.empty(),Ge.now()),Yc(t,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return j.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:on(i.createTime)}}(t)),j.resolve()}getNamedQuery(e,t){return j.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(i){return{name:i.name,query:xC(i.bundledQuery),readTime:on(i.readTime)}}(t)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(){this.overlays=new Be(q.comparator),this.hr=new Map}getOverlay(e,t){return j.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ir();return j.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),j.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),j.resolve()}getOverlaysForCollection(e,t,r){const i=Ir(),o=t.length+1,s=new q(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return j.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Be((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=Ir(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Ir(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return j.resolve(a)}ht(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new K_(t,r));let o=this.hr.get(t);o===void 0&&(o=he(),this.hr.set(t,o)),this.hr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(){this.Pr=new Ne(Dt.Ir),this.Tr=new Ne(Dt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const r=new Dt(e,t);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ar(new Dt(e,t))}Rr(e,t){e.forEach(r=>this.removeReference(r,t))}Vr(e){const t=new q(new ke([])),r=new Dt(t,e),i=new Dt(t,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new q(new ke([])),r=new Dt(t,e),i=new Dt(t,e+1);let o=he();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Dt(e,0),r=this.Pr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Dt{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return q.comparator(e.key,t.key)||le(e.pr,t.pr)}static Er(e,t){return le(e.pr,t.pr)||q.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new Ne(Dt.Ir)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new z_(o,t,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new Dt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(s)}lookupMutationBatch(e,t){return j.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.br(r),o=i<0?0:i;return j.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Dt(t,0),i=new Dt(t,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),j.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ne(le);return t.forEach(i=>{const o=new Dt(i,0),s=new Dt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),j.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;q.isDocumentKey(o)||(o=o.child(""));const s=new Dt(new q(o),0);let a=new Ne(le);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},s),j.resolve(this.Dr(a))}Dr(e){const t=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){te(this.Cr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return j.forEach(t.mutations,i=>{const o=new Dt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,t){const r=new Dt(t,0),i=this.wr.firstAfterOrEqual(r);return j.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Cr(e,t){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e){this.vr=e,this.docs=function(){return new Be(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return j.resolve(r?r.document.mutableCopy():rt.newInvalidDocument(t))}getEntries(e,t){let r=Cn();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():rt.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Cn();const s=t.path,a=new q(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||F_(Rk(d),r)<=0||(i.has(d.key)||Yc(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return j.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Z()}Fr(e,t){return j.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Sj(this)}getSize(e){return j.resolve(this.size)}}class Sj extends MC{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),j.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e){this.persistence=e,this.Mr=new ko(t=>xs(t),Wc),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.Or=0,this.Nr=new J_,this.targetCount=0,this.Lr=Ns.Nn()}forEachTarget(e,t){return this.Mr.forEach((r,i)=>t(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Or&&(this.Or=t),j.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new Ns(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,j.resolve()}updateTargetData(e,t){return this.qn(t),j.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(o).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,t){const r=this.Mr.get(t)||null;return j.resolve(r)}addMatchingKeys(e,t,r){return this.Nr.dr(t,r),j.resolve()}removeMatchingKeys(e,t,r){this.Nr.Rr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),j.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),j.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Nr.gr(t);return j.resolve(r)}containsKey(e,t){return j.resolve(this.Nr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,t){this.Br={},this.overlays={},this.kr=new Un(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new bj(this),this.indexManager=new cj,this.remoteDocumentCache=function(i){return new Dj(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new kC(t),this.$r=new Ej(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Tj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new Ij(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,r){B("MemoryPersistence","Starting transaction:",e);const i=new kj(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,t){return j.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class kj extends Ok{constructor(e){super(),this.currentSequenceNumber=e}}class Op{constructor(e){this.persistence=e,this.zr=new J_,this.jr=null}static Hr(e){return new Op(e)}get Jr(){if(this.jr)return this.jr;throw Z()}addReference(e,t,r){return this.zr.addReference(r,t),this.Jr.delete(r.toString()),j.resolve()}removeReference(e,t,r){return this.zr.removeReference(r,t),this.Jr.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),j.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Jr,r=>{const i=q.fromPath(r);return this.Yr(e,i).next(o=>{o||t.removeEntry(i,re.min())})}).next(()=>(this.jr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Yr(e,t).next(r=>{r?this.Jr.delete(t.toString()):this.Jr.add(t.toString())})}Kr(e){return 0}Yr(e,t){return j.or([()=>j.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e){this.serializer=e}O(e,t,r,i){const o=new Dp("createOrUpgrade",t);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",IT,{unique:!0}),l.createObjectStore("documentMutations")}(e),uI(e),function(l){l.createObjectStore("remoteDocuments")}(e));let s=j.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),uI(e)),s=s.next(()=>function(l){const u=l.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:re.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",d)}(o))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(l,u){return u.store("mutations").U().next(d=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",IT,{unique:!0});const h=u.store("mutations"),p=d.map(m=>h.put(m));return j.waitFor(p)})}(e,o))),s=s.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.Xr(o))),r<6&&i>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(o)))),r<7&&i>=7&&(s=s.next(()=>this.ti(o))),r<8&&i>=8&&(s=s.next(()=>this.ni(e,o))),r<9&&i>=9&&(s=s.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.ri(o))),r<11&&i>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:oF});u.createIndex("collectionPathOverlayIndex",sF,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",aF,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:q2});u.createIndex("documentKeyIndex",G2),u.createIndex("collectionGroupIndex",Q2)}(e)).next(()=>this.ii(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.si(e,o))),r<15&&i>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:tF}).createIndex("sequenceNumberIndex",nF,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:rF}).createIndex("documentKeyIndex",iF,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),s}ei(e){let t=0;return e.store("remoteDocuments").J((r,i)=>{t+=xf(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.U().next(i=>j.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",s).next(a=>j.forEach(a,l=>{te(l.userId===o.userId);const u=ts(this.serializer,l);return RC(e,o.userId,u).next(()=>{})}))}))}ti(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.J((s,a)=>{const l=new ke(s),u=function(h){return[0,rn(h)]}(l);o.push(t.get(u).next(d=>d?j.resolve():(h=>t.put({targetId:0,path:rn(h),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>j.waitFor(o))})}ni(e,t){e.createObjectStore("collectionParents",{keyPath:eF});const r=t.store("collectionParents"),i=new X_,o=s=>{if(i.add(s)){const a=s.lastSegment(),l=s.popLast();return r.put({collectionId:a,parent:rn(l)})}};return t.store("remoteDocuments").J({H:!0},(s,a)=>{const l=new ke(s);return o(l.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([s,a,l],u)=>{const d=Tr(a);return o(d.popLast())}))}ri(e){const t=e.store("targets");return t.J((r,i)=>{const o=bu(i),s=CC(this.serializer,o);return t.put(s)})}ii(e,t){const r=t.store("remoteDocuments"),i=[];return r.J((o,s)=>{const a=t.store("remoteDocumentsV14"),l=function(h){return h.document?new q(ke.fromString(h.document.name).popFirst(5)):h.noDocument?q.fromSegments(h.noDocument.path):h.unknownDocument?q.fromSegments(h.unknownDocument.path):Z()}(s).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(u))}).next(()=>j.waitFor(i))}si(e,t){const r=t.store("mutations"),i=LC(this.serializer),o=new FC(Op.Hr,this.serializer.ct);return r.U().next(s=>{const a=new Map;return s.forEach(l=>{var u;let d=(u=a.get(l.userId))!==null&&u!==void 0?u:he();ts(this.serializer,l).keys().forEach(h=>d=d.add(h)),a.set(l.userId,d)}),j.forEach(a,(l,u)=>{const d=new Mt(u),h=Rp.lt(this.serializer,d),p=o.getIndexManager(d),m=Np.lt(d,this.serializer,p,o.referenceDelegate);return new VC(i,m,h,p).recalculateAndSaveOverlaysForDocumentKeys(new xy(t,Un.oe),l).next()})})}}function uI(n){n.createObjectStore("targetDocuments",{keyPath:J2}).createIndex("documentTargetsIndex",Z2,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",X2,{unique:!0}),n.createObjectStore("targetGlobal")}const Jm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Z_{constructor(e,t,r,i,o,s,a,l,u,d,h=16){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.oi=o,this.window=s,this.document=a,this._i=u,this.ai=d,this.ui=h,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=p=>Promise.resolve(),!Z_.D())throw new Q(U.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new yj(this,i),this.Ti=t+"main",this.serializer=new kC(l),this.Ei=new oo(this.Ti,this.ui,new Cj(this.serializer)),this.Qr=new hj(this.referenceDelegate,this.serializer),this.remoteDocumentCache=LC(this.serializer),this.$r=new ij,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,d===!1&&en("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Q(U.FAILED_PRECONDITION,Jm);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Un(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(async()=>{this.started&&await this.Ai()}))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Xd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(t=>{t||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(t=>this.isPrimary&&!t?this.yi(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(bo(e))return B("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return B("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return cu(e).get("owner").next(t=>j.resolve(this.Si(t)))}bi(e){return Xd(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=kt(t,"clientMetadata");return r.U().next(i=>{const o=this.vi(i,18e5),s=i.filter(a=>o.indexOf(a)===-1);return j.forEach(s,a=>r.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?j.resolve(!0):cu(e).get("owner").next(t=>{if(t!==null&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new Q(U.FAILED_PRECONDITION,Jm);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xd(e).U().next(r=>this.vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&B("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const t=new xy(e,Un.oe);return this.yi(t).next(()=>this.bi(t))}),this.Ei.close(),this.Li()}vi(e,t){return e.filter(r=>this.Ci(r.updateTimeMs,t)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Xd(e).U().next(t=>this.vi(t,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,t){return Np.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new dj(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Rp.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,r){B("IndexedDbPersistence","Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",o=function(l){return l===16?uF:l===15?$k:l===14?jk:l===13?Fk:l===12?lF:l===11?Vk:void Z()}(this.ui);let s;return this.Ei.runTransaction(e,i,o,a=>(s=new xy(a,this.kr?this.kr.next():Un.oe),t==="readwrite-primary"?this.gi(s).next(l=>!!l||this.pi(s)).next(l=>{if(!l)throw en(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new Q(U.FAILED_PRECONDITION,Nk);return r(s)}).next(l=>this.wi(s).next(()=>l)):this.ki(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}ki(e){return cu(e).get("owner").next(t=>{if(t!==null&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)&&!this.Si(t)&&!(this.ai||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Q(U.FAILED_PRECONDITION,Jm)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cu(e).put("owner",t)}static D(){return oo.D()}yi(e){const t=cu(e);return t.get("owner").next(r=>this.Si(r)?(B("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):j.resolve())}Ci(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(en(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;pk()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const r=((t=this.di)===null||t===void 0?void 0:t.getItem(this.Fi(e)))!==null;return B("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return en("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){en("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function cu(n){return kt(n,"owner")}function Xd(n){return kt(n,"clientMetadata")}function xj(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.qi=r,this.Qi=i}static Ki(e,t){let r=he(),i=he();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new ew(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return pk()?8:Mk(yt())>0?6:4}()}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.ji(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Pj;return this.Ji(e,t,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,t,s,a.size)})}).next(()=>o.result)}Yi(e,t,r,i){return r.documentReadCount<this.Wi?(ua()<=me.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",ca(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),j.resolve()):(ua()<=me.DEBUG&&B("QueryEngine","Query:",ca(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(ua()<=me.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",ca(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(t))):j.resolve())}ji(e,t){if(MT(t))return j.resolve(null);let r=Wn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=My(t,null,"F"),r=Wn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=he(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(t,a);return this.Xi(t,u,s,l.readTime)?this.ji(e,My(t,null,"F")):this.es(e,u,t,l)}))})))}Hi(e,t,r,i){return MT(t)||i.isEqual(re.min())?j.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(t,o);return this.Xi(t,s,r,i)?j.resolve(null):(ua()<=me.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ca(t)),this.es(e,s,t,$2(i,-1)).next(a=>a))})}Zi(e,t){let r=new Ne(Zk(e));return t.forEach((i,o)=>{Yc(e,o)&&(r=r.add(o))}),r}Xi(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,t,r){return ua()<=me.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",ca(t)),this.zi.getDocumentsMatchingQuery(e,t,Nn.min(),r)}es(e,t,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e,t,r,i){this.persistence=e,this.ts=t,this.serializer=i,this.ns=new Be(le),this.rs=new ko(o=>xs(o),Wc),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VC(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ns))}}function $C(n,e,t,r){return new Aj(n,e,t,r)}async function UC(n,e){const t=ae(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t._s(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=he();for(const u of i){s.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of o){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return t.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}function Rj(n,e){const t=ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,p=h.keys();let m=j.resolve();return p.forEach(v=>{m=m.next(()=>d.getEntry(l,v)).next(w=>{const D=u.docVersions.get(v);te(D!==null),w.version.compareTo(D)<0&&(h.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),d.addEntry(w)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=he();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function BC(n){const e=ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Qr.getLastRemoteSnapshotVersion(t))}function Nj(n,e){const t=ae(n),r=e.snapshotVersion;let i=t.ns;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.os.newChangeBuffer({trackRemovals:!0});i=t.ns;const a=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;a.push(t.Qr.removeMatchingKeys(o,d.removedDocuments,h).next(()=>t.Qr.addMatchingKeys(o,d.addedDocuments,h)));let m=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(jt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(w,D,_){return w.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,m,d)&&a.push(t.Qr.updateTargetData(o,m))});let l=Cn(),u=he();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(Oj(o,s,e.documentUpdates).next(d=>{l=d.cs,u=d.ls})),!r.isEqual(re.min())){const d=t.Qr.getLastRemoteSnapshotVersion(o).next(h=>t.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return j.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(t.ns=i,o))}function Oj(n,e,t){let r=he(),i=he();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Cn();return t.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(re.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):B("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:i}})}function Mj(n,e){const t=ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Lj(n,e){const t=ae(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Qr.getTargetData(r,e).next(o=>o?(i=o,j.resolve(i)):t.Qr.allocateTargetId(r).next(s=>(i=new Zr(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ns=t.ns.insert(r.targetId,r),t.rs.set(e,r.targetId)),r})}async function Wy(n,e,t){const r=ae(n),i=r.ns.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!bo(s))throw s;B("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function cI(n,e,t){const r=ae(n);let i=re.min(),o=he();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,d){const h=ae(l),p=h.rs.get(d);return p!==void 0?j.resolve(h.ns.get(p)):h.Qr.getTargetData(u,d)}(r,s,Wn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,t?i:re.min(),t?o:he())).next(a=>(Vj(r,SF(e),a),{documents:a,hs:o})))}function Vj(n,e,t){let r=n.ss.get(e)||re.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.ss.set(e,r)}class dI{constructor(){this.activeTargetIds=AF()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WC{constructor(){this.no=new dI,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,r){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new dI,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jd=null;function Zm(){return Jd===null?Jd=function(){return 268435456+Math.round(2147483648*Math.random())}():Jd++,"0x"+Jd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class Uj extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+t.host,this.So=`projects/${i}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Do(){return!1}Co(t,r,i,o,s){const a=Zm(),l=this.vo(t,r.toUriEncodedString());B("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,o,s),this.Mo(t,l,u,i).then(d=>(B("RestConnection",`Received RPC '${t}' ${a}: `,d),d),d=>{throw sl("RestConnection",`RPC '${t}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}xo(t,r,i,o,s,a){return this.Co(t,r,i,o,s)}Fo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}vo(t,r){const i=jj[t];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,t,r,i){const o=Zm();return new Promise((s,a)=>{const l=new Ik;l.setWithCredentials(!0),l.listenOnce(Sk.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Sh.NO_ERROR:const d=l.getResponseJson();B(Yt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case Sh.TIMEOUT:B(Yt,`RPC '${e}' ${o} timed out`),a(new Q(U.DEADLINE_EXCEEDED,"Request time out"));break;case Sh.HTTP_ERROR:const h=l.getStatus();if(B(Yt,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const v=function(D){const _=D.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(_)>=0?_:U.UNKNOWN}(m.status);a(new Q(v,m.message))}else a(new Q(U.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Q(U.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{B(Yt,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);B(Yt,`RPC '${e}' ${o} sending request:`,i),l.send(t,"POST",u,r,15)})}Oo(e,t,r){const i=Zm(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Ck(),a=kk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new Dk({})),this.Fo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const d=o.join("");B(Yt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=s.createWebChannel(d,l);let p=!1,m=!1;const v=new $j({lo:D=>{m?B(Yt,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(p||(B(Yt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),B(Yt,`RPC '${e}' stream ${i} sending:`,D),h.send(D))},ho:()=>h.close()}),w=(D,_,y)=>{D.listen(_,T=>{try{y(T)}catch(P){setTimeout(()=>{throw P},0)}})};return w(h,Iu.EventType.OPEN,()=>{m||(B(Yt,`RPC '${e}' stream ${i} transport opened.`),v.mo())}),w(h,Iu.EventType.CLOSE,()=>{m||(m=!0,B(Yt,`RPC '${e}' stream ${i} transport closed`),v.po())}),w(h,Iu.EventType.ERROR,D=>{m||(m=!0,sl(Yt,`RPC '${e}' stream ${i} transport errored:`,D),v.po(new Q(U.UNAVAILABLE,"The operation could not be completed")))}),w(h,Iu.EventType.MESSAGE,D=>{var _;if(!m){const y=D.data[0];te(!!y);const T=y,P=T.error||((_=T[0])===null||_===void 0?void 0:_.error);if(P){B(Yt,`RPC '${e}' stream ${i} received error:`,P);const M=P.status;let L=function(b){const k=pt[b];if(k!==void 0)return fC(k)}(M),I=P.message;L===void 0&&(L=U.INTERNAL,I="Unknown error status: "+M+" with message "+P.message),m=!0,v.po(new Q(L,I)),h.close()}else B(Yt,`RPC '${e}' stream ${i} received:`,y),v.yo(y)}}),w(a,bk.STAT_EVENT,D=>{D.stat===ky.PROXY?B(Yt,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===ky.NOPROXY&&B(Yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.fo()},0),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(){return typeof window<"u"?window:null}function Rh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(n){return new KF(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,t,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=t,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const t=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,t-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,t,r,i,o,s,a,l){this.oi=e,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new YC(e,t)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,t){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():t&&t.code===U.RESOURCE_EXHAUSTED?(en(t.toString()),en("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):t&&t.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(t)}__(){}auth(){this.state=1;const e=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===t&&this.u_(r,i)},r=>{e(()=>{const i=new Q(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,t){const r=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return B("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return t=>{this.oi.enqueueAndForget(()=>this.jo===e?t():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wj extends zC{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}l_(e,t){return this.connection.Oo("Listen",e,t)}onMessage(e){this.Yo.reset();const t=QF(this.serializer,e),r=function(o){if(!("targetChange"in o))return re.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?re.min():s.readTime?on(s.readTime):re.min()}(e);return this.listener.h_(t,r)}P_(e){const t={};t.database=Fy(this.serializer),t.addTarget=function(o,s){let a;const l=s.target;if(a=If(l)?{documents:EC(o,l)}:{query:TC(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=gC(o,s.resumeToken);const u=Ly(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(re.min())>0){a.readTime=hl(o,s.snapshotVersion.toTimestamp());const u=Ly(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=JF(this.serializer,e);r&&(t.labels=r),this.i_(t)}I_(e){const t={};t.database=Fy(this.serializer),t.removeTarget=e,this.i_(t)}}class Yj extends zC{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,t){return this.connection.Oo("Write",e,t)}onMessage(e){if(te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const t=XF(e.writeResults,e.commitTime),r=on(e.commitTime);return this.listener.A_(r,t)}return te(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Fy(this.serializer),this.i_(e)}d_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>bf(this.serializer,r))};this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new Q(U.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,t,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,Vy(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(U.UNKNOWN,o.toString())})}xo(e,t,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.xo(e,Vy(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(U.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class Hj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(en(t),this.y_=!1):B("OnlineStateTracker",t)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(s=>{r.enqueueAndForget(async()=>{Ws(this)&&(B("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ae(l);u.M_.add(4),await Hc(u),u.N_.set("Unknown"),u.M_.delete(4),await Lp(u)}(this))})}),this.N_=new Hj(r,i)}}async function Lp(n){if(Ws(n))for(const e of n.x_)await e(!0)}async function Hc(n){for(const e of n.x_)await e(!1)}function HC(n,e){const t=ae(n);t.F_.has(e.targetId)||(t.F_.set(e.targetId,e),iw(t)?rw(t):Cl(t).Xo()&&nw(t,e))}function tw(n,e){const t=ae(n),r=Cl(t);t.F_.delete(e),r.Xo()&&KC(t,e),t.F_.size===0&&(r.Xo()?r.n_():Ws(t)&&t.N_.set("Unknown"))}function nw(n,e){if(n.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Cl(n).P_(e)}function KC(n,e){n.L_.xe(e),Cl(n).I_(e)}function rw(n){n.L_=new WF({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.F_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Cl(n).start(),n.N_.w_()}function iw(n){return Ws(n)&&!Cl(n).Zo()&&n.F_.size>0}function Ws(n){return ae(n).M_.size===0}function qC(n){n.L_=void 0}async function qj(n){n.N_.set("Online")}async function Gj(n){n.F_.forEach((e,t)=>{nw(n,e)})}async function Qj(n,e){qC(n),iw(n)?(n.N_.D_(e),rw(n)):n.N_.set("Unknown")}async function Xj(n,e,t){if(n.N_.set("Online"),e instanceof mC&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.F_.delete(a),i.L_.removeTarget(a))}(n,e)}catch(r){B("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Pf(n,r)}else if(e instanceof Ah?n.L_.Ke(e):e instanceof pC?n.L_.He(e):n.L_.We(e),!t.isEqual(re.min()))try{const r=await BC(n.localStore);t.compareTo(r)>=0&&await function(o,s){const a=o.L_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.F_.get(u);d&&o.F_.set(u,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const d=o.F_.get(l);if(!d)return;o.F_.set(l,d.withResumeToken(jt.EMPTY_BYTE_STRING,d.snapshotVersion)),KC(o,l);const h=new Zr(d.target,l,u,d.sequenceNumber);nw(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t)}catch(r){B("RemoteStore","Failed to raise snapshot:",r),await Pf(n,r)}}async function Pf(n,e,t){if(!bo(e))throw e;n.M_.add(1),await Hc(n),n.N_.set("Offline"),t||(t=()=>BC(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{B("RemoteStore","Retrying IndexedDB access"),await t(),n.M_.delete(1),await Lp(n)})}function GC(n,e){return e().catch(t=>Pf(n,t,e))}async function Kc(n){const e=ae(n),t=yo(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Jj(e);)try{const i=await Mj(e.localStore,r);if(i===null){e.v_.length===0&&t.n_();break}r=i.batchId,Zj(e,i)}catch(i){await Pf(e,i)}QC(e)&&XC(e)}function Jj(n){return Ws(n)&&n.v_.length<10}function Zj(n,e){n.v_.push(e);const t=yo(n);t.Xo()&&t.E_&&t.d_(e.mutations)}function QC(n){return Ws(n)&&!yo(n).Zo()&&n.v_.length>0}function XC(n){yo(n).start()}async function e$(n){yo(n).V_()}async function t$(n){const e=yo(n);for(const t of n.v_)e.d_(t.mutations)}async function n$(n,e,t){const r=n.v_.shift(),i=H_.from(r,e,t);await GC(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Kc(n)}async function r$(n,e){e&&yo(n).E_&&await async function(r,i){if(function(s){return $F(s)&&s!==U.ABORTED}(i.code)){const o=r.v_.shift();yo(r).t_(),await GC(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Kc(r)}}(n,e),QC(n)&&XC(n)}async function fI(n,e){const t=ae(n);t.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");const r=Ws(t);t.M_.add(3),await Hc(t),r&&t.N_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.M_.delete(3),await Lp(t)}async function i$(n,e){const t=ae(n);e?(t.M_.delete(2),await Lp(t)):e||(t.M_.add(2),await Hc(t),t.N_.set("Unknown"))}function Cl(n){return n.B_||(n.B_=function(t,r,i){const o=ae(t);return o.f_(),new Wj(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Po:qj.bind(null,n),To:Gj.bind(null,n),Ao:Qj.bind(null,n),h_:Xj.bind(null,n)}),n.x_.push(async e=>{e?(n.B_.t_(),iw(n)?rw(n):n.N_.set("Unknown")):(await n.B_.stop(),qC(n))})),n.B_}function yo(n){return n.k_||(n.k_=function(t,r,i){const o=ae(t);return o.f_(),new Yj(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Po:()=>Promise.resolve(),To:e$.bind(null,n),Ao:r$.bind(null,n),R_:t$.bind(null,n),A_:n$.bind(null,n)}),n.x_.push(async e=>{e?(n.k_.t_(),await Kc(n)):(await n.k_.stop(),n.v_.length>0&&(B("RemoteStore",`Stopping write stream with ${n.v_.length} pending writes`),n.v_=[]))})),n.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const s=Date.now()+r,a=new ow(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sw(n,e){if(en("AsyncQueue",`${e}: ${n}`),bo(n))return new Q(U.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this.comparator=e?(t,r)=>e(t,r)||q.comparator(t.key,r.key):(t,r)=>q.comparator(t.key,r.key),this.keyedMap=Du(),this.sortedSet=new Be(this.comparator)}static emptySet(e){return new Fa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Fa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this.q_=new Be(q.comparator)}track(e){const t=e.doc.key,r=this.q_.get(t);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(t,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(t):e.type===1&&r.type===2?this.q_=this.q_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):Z():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal((t,r)=>{e.push(r)}),e}}class fl{constructor(e,t,r,i,o,s,a,l,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new fl(e,t,Fa.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class s${constructor(){this.queries=new ko(e=>Jk(e),Cp),this.onlineState="Unknown",this.z_=new Set}}async function JC(n,e){const t=ae(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new o$,r=e.G_()?0:1);try{switch(r){case 0:o.K_=await t.onListen(i,!0);break;case 1:o.K_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){const a=sw(s,`Initialization of query '${ca(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.U_.push(e),e.j_(t.onlineState),o.K_&&e.H_(o.K_)&&aw(t)}async function ZC(n,e){const t=ae(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function a$(n,e){const t=ae(n);let r=!1;for(const i of e){const o=i.query,s=t.queries.get(o);if(s){for(const a of s.U_)a.H_(i)&&(r=!0);s.K_=i}}r&&aw(t)}function l$(n,e,t){const r=ae(n),i=r.queries.get(e);if(i)for(const o of i.U_)o.onError(t);r.queries.delete(e)}function aw(n){n.z_.forEach(e=>{e.next()})}var Yy,mI;(mI=Yy||(Yy={})).J_="default",mI.Cache="cache";class ex{constructor(e,t,r){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new fl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache||!this.G_())return!0;const r=t!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}na(e){e=fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Yy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e){this.key=e}}class nx{constructor(e){this.key=e}}class u${constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=he(),this.mutatedKeys=he(),this.Ia=Zk(e),this.Ta=new Fa(this.Ia)}get Ea(){return this.la}da(e,t){const r=t?t.Aa:new pI,i=t?t.Ta:this.Ta;let o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),m=Yc(this.query,h)?h:null,v=!!p&&this.mutatedKeys.has(p.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let D=!1;p&&m?p.data.isEqual(m.data)?v!==w&&(r.track({type:3,doc:m}),D=!0):this.Ra(p,m)||(r.track({type:2,doc:m}),D=!0,(l&&this.Ia(m,l)>0||u&&this.Ia(m,u)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),D=!0):p&&!m&&(r.track({type:1,doc:p}),D=!0,(l||u)&&(a=!0)),D&&(m?(s=s.add(m),o=w?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ta:s,Aa:r,Xi:a,mutatedKeys:o}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort((d,h)=>function(m,v){const w=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return w(m)-w(v)}(d.type,h.type)||this.Ia(d.doc,h.doc)),this.Va(r),i=i!=null&&i;const a=t&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,u=l!==this.ha;return this.ha=l,s.length!==0||u?{snapshot:new fl(this.query,e.Ta,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new pI,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(t=>this.la=this.la.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.la=this.la.delete(t)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=he(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const t=[];return e.forEach(r=>{this.Pa.has(r)||t.push(new nx(r))}),this.Pa.forEach(r=>{e.has(r)||t.push(new tx(r))}),t}pa(e){this.la=e.hs,this.Pa=he();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return fl.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class c${constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class d${constructor(e){this.key=e,this.wa=!1}}class h${constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new ko(a=>Jk(a),Cp),this.Da=new Map,this.Ca=new Set,this.va=new Be(q.comparator),this.Fa=new Map,this.Ma=new J_,this.xa={},this.Oa=new Map,this.Na=Ns.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function f$(n,e,t=!0){const r=lx(n);let i;const o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await rx(r,e,t,!0),i}async function p$(n,e){const t=lx(n);await rx(t,e,!0,!1)}async function rx(n,e,t,r){const i=await Lj(n.localStore,Wn(e)),o=i.targetId,s=t?n.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await m$(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&HC(n.remoteStore,i),a}async function m$(n,e,t,r,i){n.Ba=(h,p,m)=>async function(w,D,_,y){let T=D.view.da(_);T.Xi&&(T=await cI(w.localStore,D.query,!1).then(({documents:I})=>D.view.da(I,T)));const P=y&&y.targetChanges.get(D.targetId),M=y&&y.targetMismatches.get(D.targetId)!=null,L=D.view.applyChanges(T,w.isPrimaryClient,P,M);return yI(w,D.targetId,L.fa),L.snapshot}(n,h,p,m);const o=await cI(n.localStore,e,!0),s=new u$(e,o.hs),a=s.da(o.documents),l=zc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,l);yI(n,t,u.fa);const d=new c$(e,t,s);return n.ba.set(e,d),n.Da.has(t)?n.Da.get(t).push(e):n.Da.set(t,[e]),u.snapshot}async function g$(n,e,t){const r=ae(n),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!Cp(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Wy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&tw(r.remoteStore,i.targetId),zy(r,i.targetId)}).catch(Us)):(zy(r,i.targetId),await Wy(r.localStore,i.targetId,!0))}async function y$(n,e){const t=ae(n),r=t.ba.get(e),i=t.Da.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),tw(t.remoteStore,r.targetId))}async function v$(n,e,t){const r=ux(n);try{const i=await function(s,a){const l=ae(s),u=Ge.now(),d=a.reduce((m,v)=>m.add(v.key),he());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=Cn(),w=he();return l.os.getEntries(m,d).next(D=>{v=D,v.forEach((_,y)=>{y.isValidDocument()||(w=w.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(D=>{h=D;const _=[];for(const y of a){const T=FF(y,h.get(y.key).overlayedDocument);T!=null&&_.push(new Ei(y.key,T,Yk(T.value.mapValue),pn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,_,a)}).next(D=>{p=D;const _=D.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(m,D.batchId,_)})}).then(()=>({batchId:p.batchId,changes:tC(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.xa[s.currentUser.toKey()];u||(u=new Be(le)),u=u.insert(a,l),s.xa[s.currentUser.toKey()]=u}(r,i.batchId,t),await qc(r,i.changes),await Kc(r.remoteStore)}catch(i){const o=sw(i,"Failed to persist write");t.reject(o)}}async function ix(n,e){const t=ae(n);try{const r=await Nj(t.localStore,e);e.targetChanges.forEach((i,o)=>{const s=t.Fa.get(o);s&&(te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?te(s.wa):i.removedDocuments.size>0&&(te(s.wa),s.wa=!1))}),await qc(t,r,e)}catch(r){await Us(r)}}function gI(n,e,t){const r=ae(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ba.forEach((o,s)=>{const a=s.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=ae(s);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const p of h.U_)p.j_(a)&&(u=!0)}),u&&aw(l)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _$(n,e,t){const r=ae(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Fa.get(e),o=i&&i.key;if(o){let s=new Be(q.comparator);s=s.insert(o,rt.newNoDocument(o,re.min()));const a=he().add(o),l=new Ap(re.min(),new Map,new Be(le),s,a);await ix(r,l),r.va=r.va.remove(o),r.Fa.delete(e),lw(r)}else await Wy(r.localStore,e,!1).then(()=>zy(r,e,t)).catch(Us)}async function w$(n,e){const t=ae(n),r=e.batch.batchId;try{const i=await Rj(t.localStore,e);sx(t,r,null),ox(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await qc(t,i)}catch(i){await Us(i)}}async function E$(n,e,t){const r=ae(n);try{const i=await function(s,a){const l=ae(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(te(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);sx(r,e,t),ox(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await qc(r,i)}catch(i){await Us(i)}}function ox(n,e){(n.Oa.get(e)||[]).forEach(t=>{t.resolve()}),n.Oa.delete(e)}function sx(n,e,t){const r=ae(n);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function zy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Da.get(e))n.ba.delete(r),t&&n.Sa.ka(r,t);n.Da.delete(e),n.isPrimaryClient&&n.Ma.Vr(e).forEach(r=>{n.Ma.containsKey(r)||ax(n,r)})}function ax(n,e){n.Ca.delete(e.path.canonicalString());const t=n.va.get(e);t!==null&&(tw(n.remoteStore,t),n.va=n.va.remove(e),n.Fa.delete(t),lw(n))}function yI(n,e,t){for(const r of t)r instanceof tx?(n.Ma.addReference(r.key,e),T$(n,r)):r instanceof nx?(B("SyncEngine","Document no longer in limbo: "+r.key),n.Ma.removeReference(r.key,e),n.Ma.containsKey(r.key)||ax(n,r.key)):Z()}function T$(n,e){const t=e.key,r=t.path.canonicalString();n.va.get(t)||n.Ca.has(r)||(B("SyncEngine","New document in limbo: "+t),n.Ca.add(r),lw(n))}function lw(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){const e=n.Ca.values().next().value;n.Ca.delete(e);const t=new q(ke.fromString(e)),r=n.Na.next();n.Fa.set(r,new d$(t)),n.va=n.va.insert(t,r),HC(n.remoteStore,new Zr(Wn(kp(t.path)),r,"TargetPurposeLimboResolution",Un.oe))}}async function qc(n,e,t){const r=ae(n),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{s.push(r.Ba(l,e,t).then(u=>{if((u||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const d=ew.Ki(l.targetId,u);o.push(d)}}))}),await Promise.all(s),r.Sa.h_(i),await async function(l,u){const d=ae(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>j.forEach(u,p=>j.forEach(p.qi,m=>d.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>j.forEach(p.Qi,m=>d.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!bo(h))throw h;B("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const m=d.ns.get(p),v=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(v);d.ns=d.ns.insert(p,w)}}}(r.localStore,o))}async function I$(n,e){const t=ae(n);if(!t.currentUser.isEqual(e)){B("SyncEngine","User change. New user:",e.toKey());const r=await UC(t.localStore,e);t.currentUser=e,function(o,s){o.Oa.forEach(a=>{a.forEach(l=>{l.reject(new Q(U.CANCELLED,s))})}),o.Oa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qc(t,r.us)}}function D$(n,e){const t=ae(n),r=t.Fa.get(e);if(r&&r.wa)return he().add(r.key);{let i=he();const o=t.Da.get(e);if(!o)return i;for(const s of o){const a=t.ba.get(s);i=i.unionWith(a.view.Ea)}return i}}function lx(n){const e=ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ix.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=D$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_$.bind(null,e),e.Sa.h_=a$.bind(null,e.eventManager),e.Sa.ka=l$.bind(null,e.eventManager),e}function ux(n){const e=ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=E$.bind(null,e),e}class Hy{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Mp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return $C(this.persistence,new jC,e.initialUser,this.serializer)}createPersistence(e){return new FC(Op.Hr,this.serializer)}createSharedClientState(e){return new WC}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class S$ extends Hy{constructor(e,t,r){super(),this.Qa=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Qa.initialize(this,e),await ux(this.Qa.syncEngine),await Kc(this.Qa.remoteStore),await this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return $C(this.persistence,new jC,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new pj(r,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new Y2(t,this.persistence);return new W2(e.asyncQueue,r)}createPersistence(e){const t=xj(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new Z_(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Bj(),Rh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new WC}}class cx{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=I$.bind(null,this.syncEngine),await i$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new s$}()}createDatastore(e){const t=Mp(e.databaseInfo.databaseId),r=function(o){return new Uj(o)}(e.databaseInfo);return function(o,s,a,l){return new zj(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,s,a){return new Kj(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,t=>gI(this.syncEngine,t,0),function(){return hI.D()?new hI:new Fj}())}createSyncEngine(e,t){return function(i,o,s,a,l,u,d){const h=new h$(i,o,s,a,l,u);return d&&(h.La=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(r){const i=ae(r);B("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Hc(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):en("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${constructor(e,t,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Mt.UNAUTHENTICATED,this.clientId=Pk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{B("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(B("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Q(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=sw(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function eg(n,e){n.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await UC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function vI(n,e){n.asyncQueue.verifyOperationInProgress();const t=await C$(n);B("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>fI(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>fI(e.remoteStore,i)),n._onlineComponents=e}function k$(n){return n.name==="FirebaseError"?n.code===U.FAILED_PRECONDITION||n.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}async function C$(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{await eg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!k$(t))throw t;sl("Error using user provided cache. Falling back to memory cache: "+t),await eg(n,new Hy)}}else B("FirestoreClient","Using default OfflineComponentProvider"),await eg(n,new Hy);return n._offlineComponents}async function hx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),await vI(n,n._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),await vI(n,new cx))),n._onlineComponents}function x$(n){return hx(n).then(e=>e.syncEngine)}async function fx(n){const e=await hx(n),t=e.eventManager;return t.onListen=f$.bind(null,e.syncEngine),t.onUnlisten=g$.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=p$.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=y$.bind(null,e.syncEngine),t}function P$(n,e,t={}){const r=new xr;return n.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const d=new dx({next:p=>{s.enqueueAndForget(()=>ZC(o,h));const m=p.docs.has(a);!m&&p.fromCache?u.reject(new Q(U.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?u.reject(new Q(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new ex(kp(a.path),d,{includeMetadataChanges:!0,ra:!0});return JC(o,h)}(await fx(n),n.asyncQueue,e,t,r)),r.promise}function A$(n,e,t={}){const r=new xr;return n.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const d=new dx({next:p=>{s.enqueueAndForget(()=>ZC(o,h)),p.fromCache&&l.source==="server"?u.reject(new Q(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new ex(a,d,{includeMetadataChanges:!0,ra:!0});return JC(o,h)}(await fx(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(n,e,t){if(!t)throw new Q(U.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function R$(n,e,t,r){if(e===!0&&r===!0)throw new Q(U.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function wI(n){if(!q.isDocumentKey(n))throw new Q(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function EI(n){if(q.isDocumentKey(n))throw new Q(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function uw(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Z()}function mi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=uw(n);throw new Q(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}R$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=px((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vp{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new A2;switch(r.type){case"firstParty":return new M2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=_I.get(t);r&&(B("ComponentProvider","Removing Datastore"),_I.delete(t),r.terminate())}(this),Promise.resolve()}}function N$(n,e,t,r={}){var i;const o=(n=mi(n,Vp))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&sl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Mt.MOCK_USER;else{a=uV(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Mt(u)}n._authCredentials=new R2(new xk(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fp(this.firestore,e,this._query)}}class En{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new so(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}}class so extends Fp{constructor(e,t,r){super(e,t,kp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new q(e))}withConverter(e){return new so(this.firestore,e,this._path)}}function II(n,e,...t){if(n=qt(n),mx("collection","path",e),n instanceof Vp){const r=ke.fromString(e,...t);return EI(r),new so(n,null,r)}{if(!(n instanceof En||n instanceof so))throw new Q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ke.fromString(e,...t));return EI(r),new so(n.firestore,null,r)}}function zr(n,e,...t){if(n=qt(n),arguments.length===1&&(e=Pk.newId()),mx("doc","path",e),n instanceof Vp){const r=ke.fromString(e,...t);return wI(r),new En(n,null,new q(r))}{if(!(n instanceof En||n instanceof so))throw new Q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ke.fromString(e,...t));return wI(r),new En(n.firestore,n instanceof so?n.converter:null,new q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new YC(this,"async_queue_retry"),this.hu=()=>{const t=Rh();t&&B("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Yo.Wo()};const e=Rh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=Rh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const t=new xr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!bo(e))throw e;B("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const t=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw en("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=t,t}enqueueAfterDelay(e,t,r){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const i=ow.createAndSchedule(this,e,t,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&Z()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this._u)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}class Gc extends Vp{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=function(){return new O$}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||gx(this),this._firestoreClient.terminate()}}function M$(n,e,t){t||(t="(default)");const r=Ip(n,"firestore");if(r.isInitialized(t)){const i=r.getImmediate({identifier:t}),o=r.getOptions(t);if(il(o,e))return i;throw new Q(U.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new Q(U.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:t})}function L$(n,e){const t=typeof n=="object"?n:_k(),r=typeof n=="string"?n:"(default)",i=Ip(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=aV("firestore");o&&N$(i,...o)}return i}function cw(n){return n._firestoreClient||gx(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function gx(n){var e,t,r;const i=n._freezeSettings(),o=function(a,l,u,d){return new dF(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,px(d.experimentalLongPollingOptions),d.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._firestoreClient=new b$(n._authCredentials,n._appCheckCredentials,n._queue,o),!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pl(jt.fromBase64String(e))}catch(t){throw new Q(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pl(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Q(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new He(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Q(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Q(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$=/^__.*__$/;class F${constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ei(e,this.data,this.fieldMask,t,this.fieldTransforms):new kl(e,this.data,t,this.fieldTransforms)}}class yx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ei(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}class Up{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Up(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Af(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(vx(this.fu)&&V$.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class j${constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Mp(e)}Fu(e,t,r,i=!1){return new Up({fu:e,methodName:t,vu:r,path:He.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _x(n){const e=n._freezeSettings(),t=Mp(n._databaseId);return new j$(n._databaseId,!!e.ignoreUndefinedProperties,t)}function $$(n,e,t,r,i,o={}){const s=n.Fu(o.merge||o.mergeFields?2:0,e,t,i);fw("Data must be an object, but it was:",s,r);const a=wx(r,s);let l,u;if(o.merge)l=new fn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const p=Ky(e,h,t);if(!s.contains(p))throw new Q(U.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Tx(d,p)||d.push(p)}l=new fn(d),u=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=s.fieldTransforms;return new F$(new Ht(a),l,u)}class Bp extends $p{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bp}}function U$(n,e,t){return new Up({fu:3,vu:e.settings.vu,methodName:n._methodName,yu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class hw extends $p{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=U$(this,e,!0),r=this.Mu.map(o=>Qc(o,t)),i=new Ps(r);return new uC(e.path,i)}isEqual(e){return e instanceof hw&&il(this.Mu,e.Mu)}}function B$(n,e,t,r){const i=n.Fu(1,e,t);fw("Data must be an object, but it was:",i,r);const o=[],s=Ht.empty();Bs(r,(l,u)=>{const d=pw(e,l,t);u=qt(u);const h=i.Su(d);if(u instanceof Bp)o.push(d);else{const p=Qc(u,h);p!=null&&(o.push(d),s.set(d,p))}});const a=new fn(o);return new yx(s,a,i.fieldTransforms)}function W$(n,e,t,r,i,o){const s=n.Fu(1,e,t),a=[Ky(e,r,t)],l=[i];if(o.length%2!=0)throw new Q(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)a.push(Ky(e,o[p])),l.push(o[p+1]);const u=[],d=Ht.empty();for(let p=a.length-1;p>=0;--p)if(!Tx(u,a[p])){const m=a[p];let v=l[p];v=qt(v);const w=s.Su(m);if(v instanceof Bp)u.push(m);else{const D=Qc(v,w);D!=null&&(u.push(m),d.set(m,D))}}const h=new fn(u);return new yx(d,h,s.fieldTransforms)}function Qc(n,e){if(Ex(n=qt(n)))return fw("Unsupported field value:",e,n),wx(n,e);if(n instanceof $p)return function(r,i){if(!vx(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Qc(a,i.bu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ge.fromDate(r);return{timestampValue:hl(i.serializer,o)}}if(r instanceof Ge){const o=new Ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hl(i.serializer,o)}}if(r instanceof dw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pl)return{bytesValue:gC(i.serializer,r._byteString)};if(r instanceof En){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:G_(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${uw(r)}`)}(n,e)}function wx(n,e){const t={};return Uk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(n,(r,i)=>{const o=Qc(i,e.pu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function Ex(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ge||n instanceof dw||n instanceof pl||n instanceof En||n instanceof $p)}function fw(n,e,t){if(!Ex(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=uw(t);throw r==="an object"?e.Du(n+" a custom object"):e.Du(n+" "+r)}}function Ky(n,e,t){if((e=qt(e))instanceof jp)return e._internalPath;if(typeof e=="string")return pw(n,e);throw Af("Field path arguments must be of type string or ",n,!1,void 0,t)}const Y$=new RegExp("[~\\*/\\[\\]]");function pw(n,e,t){if(e.search(Y$)>=0)throw Af(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new jp(...e.split("."))._internalPath}catch{throw Af(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Af(n,e,t,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Q(U.INVALID_ARGUMENT,a+n+l)}function Tx(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new z$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Dx("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class z$ extends Ix{data(){return super.data()}}function Dx(n,e){return typeof e=="string"?pw(n,e):e instanceof jp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H$(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Q(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class K${convertValue(e,t="none"){switch(Cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Z()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Bs(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new dw(tt(e.latitude),tt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=U_(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(vc(e));default:return null}}convertTimestamp(e){const t=pi(e);return new Ge(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ke.fromString(e);te(bC(r));const i=new ks(r.get(1),r.get(3)),o=new q(r.popFirst(5));return i.isEqual(t)||en(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q$(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sx extends Ix{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Dx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Nh extends Sx{data(e={}){return super.data(e)}}class G${constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ku(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Nh(this._firestore,this._userDataWriter,r.key,r,new ku(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Q(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Nh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ku(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Nh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ku(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:Q$(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Q$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(n){n=mi(n,En);const e=mi(n.firestore,Gc);return P$(cw(e),n._key).then(t=>J$(e,n,t))}class bx extends K${constructor(e){super(),this.firestore=e}convertBytes(e){return new pl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,t)}}function X$(n){n=mi(n,Fp);const e=mi(n.firestore,Gc),t=cw(e),r=new bx(e);return H$(n._query),A$(t,n._query).then(i=>new G$(e,r,n,i))}function Zd(n,e,t){n=mi(n,En);const r=mi(n.firestore,Gc),i=q$(n.converter,e,t);return kx(r,[$$(_x(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,pn.none())])}function eh(n,e,t,...r){n=mi(n,En);const i=mi(n.firestore,Gc),o=_x(i);let s;return s=typeof(e=qt(e))=="string"||e instanceof jp?W$(o,"updateDoc",n._key,e,t,r):B$(o,"updateDoc",n._key,e),kx(i,[s.toMutation(n._key,pn.exists(!0))])}function kx(n,e){return function(r,i){const o=new xr;return r.asyncQueue.enqueueAndForget(async()=>v$(await x$(r),i,o)),o.promise}(cw(n),e)}function J$(n,e,t){const r=t.docs.get(e._key),i=new bx(n);return new Sx(n,i,e._key,r,new ku(t.hasPendingWrites,t.fromCache),e.converter)}class Z${constructor(e){let t;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=Cx(),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function eU(n){return new Z$(n)}class tU{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new cx,this._offlineComponentProvider=new S$(this._onlineComponentProvider,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}function Cx(n){return new tU(void 0)}function DI(...n){return new hw("arrayUnion",n)}(function(e,t=!0){(function(i){bl=i})(Sl),ol(new Ds("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Gc(new N2(r.getProvider("auth-internal")),new V2(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ks(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),io(wT,"4.6.2",e),io(wT,"4.6.2","esm2017")})();const nU={apiKey:"AIzaSyCQSYxUEcDANv30tnCUlGAgbSrYHrguFbE",authDomain:"attendance-tracker-364b5.firebaseapp.com",projectId:"attendance-tracker-364b5",storageBucket:"attendance-tracker-364b5.appspot.com",messagingSenderId:"151155947252",appId:"1:151155947252:web:2cc04ee322bfeb1b47d0a1"},mw=vk(nU);M$(mw,{localCache:eU({tabManager:Cx()})});const hr=L$(mw),fr="user_data",Hi="subject_list",qr="timetable",rU=[{name:"",code:""}],Rf=Array(5).fill().map(()=>Array(6).fill("")),iU="rgba(100, 100, 111, 0.2) 0px 7px 20px 0px",Gr="subject_data",ja="attendance_data",is="presents",oU={9:0,10:1,11:2,13:3,14:4,15:5},$a="class_start_date",Ua="class_end_date",Fi="no_class",sU={[is]:0,[Fi]:0,lastUpdate:void 0,lastStatus:""};function gw(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function xx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aU=xx,Px=new Uc("auth","Firebase",xx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf=new M_("@firebase/auth");function lU(n,...e){Nf.logLevel<=me.WARN&&Nf.warn(`Auth (${Sl}): ${n}`,...e)}function Oh(n,...e){Nf.logLevel<=me.ERROR&&Nf.error(`Auth (${Sl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(n,...e){throw yw(n,...e)}function Pr(n,...e){return yw(n,...e)}function Ax(n,e,t){const r=Object.assign(Object.assign({},aU()),{[e]:t});return new Uc("auth","Firebase",r).create(e,{appName:n.name})}function oi(n){return Ax(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yw(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Px.create(n,...e)}function se(n,e,...t){if(!n)throw yw(e,...t)}function ei(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Oh(e),new Error(e)}function gi(n,e){n||ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function uU(){return SI()==="http:"||SI()==="https:"}function SI(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uU()||hV()||"connection"in navigator)?navigator.onLine:!0}function dU(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,t){this.shortDelay=e,this.longDelay=t,gi(t>e,"Short delay should be less than long delay!"),this.isMobile=cV()||fV()}get(){return cU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(n,e){gi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=new Xc(3e4,6e4);function Co(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function xo(n,e,t,r,i={}){return Nx(n,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Bc(Object.assign({key:n.config.apiKey},s)).slice(1),l=await n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),Rx.fetch()(Ox(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function Nx(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},hU),e);try{const i=new mU(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw th(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(n,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw th(n,"email-already-in-use",s);if(l==="USER_DISABLED")throw th(n,"user-disabled",s);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Ax(n,d,u);rr(n,d)}}catch(i){if(i instanceof wi)throw i;rr(n,"network-request-failed",{message:String(i)})}}async function Jc(n,e,t,r,i={}){const o=await xo(n,e,t,r,i);return"mfaPendingCredential"in o&&rr(n,"multi-factor-auth-required",{_serverResponse:o}),o}function Ox(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?vw(n.config,i):`${n.config.apiScheme}://${i}`}function pU(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Pr(this.auth,"network-request-failed")),fU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function th(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Pr(n,e,r);return i.customData._tokenResponse=t,i}function bI(n){return n!==void 0&&n.enterprise!==void 0}class gU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return pU(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function yU(n,e){return xo(n,"GET","/v2/recaptchaConfig",Co(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vU(n,e){return xo(n,"POST","/v1/accounts:delete",e)}async function Mx(n,e){return xo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _U(n,e=!1){const t=qt(n),r=await t.getIdToken(e),i=_w(r);se(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:qu(ng(i.auth_time)),issuedAtTime:qu(ng(i.iat)),expirationTime:qu(ng(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function ng(n){return Number(n)*1e3}function _w(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Oh("JWT malformed, contained fewer than 3 sections"),null;try{const i=ck(t);return i?JSON.parse(i):(Oh("Failed to decode base64 JWT payload"),null)}catch(i){return Oh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function kI(n){const e=_w(n);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ic(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof wi&&wU(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function wU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qu(this.lastLoginAt),this.creationTime=qu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Of(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Ic(n,Mx(t,{idToken:r}));se(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Lx(o.providerUserInfo):[],a=IU(n.providerData,s),l=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Gy(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,h)}async function TU(n){const e=qt(n);await Of(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IU(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Lx(n){return n.map(e=>{var{providerId:t}=e,r=gw(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DU(n,e){const t=await Nx(n,{},async()=>{const r=Bc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=Ox(n,i,"/v1/token",`key=${o}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Rx.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function SU(n,e){return xo(n,"POST","/v2/accounts:revokeToken",Co(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){se(e.length!==0,"internal-error");const t=kI(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await DU(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new Ba;return r&&(se(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(se(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ba,this.toJSON())}_performRefresh(){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(n,e){se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ti{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=gw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new EU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Gy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ic(this,this.stsTokenManager.getToken(this.auth,e));return se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return _U(this,e)}reload(){return TU(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Of(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Er(this.auth.app))return Promise.reject(oi(this.auth));const e=await this.getIdToken();return await Ic(this,vU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,l,u,d;const h=(r=t.displayName)!==null&&r!==void 0?r:void 0,p=(i=t.email)!==null&&i!==void 0?i:void 0,m=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=t.photoURL)!==null&&s!==void 0?s:void 0,w=(a=t.tenantId)!==null&&a!==void 0?a:void 0,D=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=t.createdAt)!==null&&u!==void 0?u:void 0,y=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:P,isAnonymous:M,providerData:L,stsTokenManager:I}=t;se(T&&I,e,"internal-error");const E=Ba.fromJSON(this.name,I);se(typeof T=="string",e,"internal-error"),xi(h,e.name),xi(p,e.name),se(typeof P=="boolean",e,"internal-error"),se(typeof M=="boolean",e,"internal-error"),xi(m,e.name),xi(v,e.name),xi(w,e.name),xi(D,e.name),xi(_,e.name),xi(y,e.name);const b=new ti({uid:T,auth:e,email:p,emailVerified:P,displayName:h,isAnonymous:M,photoURL:v,phoneNumber:m,tenantId:w,stsTokenManager:E,createdAt:_,lastLoginAt:y});return L&&Array.isArray(L)&&(b.providerData=L.map(k=>Object.assign({},k))),D&&(b._redirectEventId=D),b}static async _fromIdTokenResponse(e,t,r=!1){const i=new Ba;i.updateFromServerResponse(t);const o=new ti({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Of(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];se(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Lx(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Ba;a.updateFromIdToken(r);const l=new ti({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Gy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=new Map;function ni(n){gi(n instanceof Function,"Expected a class definition");let e=CI.get(n);return e?(gi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,CI.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Vx.type="NONE";const xI=Vx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(n,e,t){return`firebase:${n}:${e}:${t}`}class Wa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Mh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Mh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ti._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Wa(ni(xI),e,r);const i=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||ni(xI);const s=Mh(r,e.config.apiKey,e.name);let a=null;for(const u of t)try{const d=await u._get(s);if(d){const h=ti._fromJSON(e,d);u!==o&&(a=h),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Wa(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(t.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Wa(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($x(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Bx(e))return"Blackberry";if(Wx(e))return"Webos";if(ww(e))return"Safari";if((e.includes("chrome/")||jx(e))&&!e.includes("edge/"))return"Chrome";if(Ux(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Fx(n=yt()){return/firefox\//i.test(n)}function ww(n=yt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jx(n=yt()){return/crios\//i.test(n)}function $x(n=yt()){return/iemobile/i.test(n)}function Ux(n=yt()){return/android/i.test(n)}function Bx(n=yt()){return/blackberry/i.test(n)}function Wx(n=yt()){return/webos/i.test(n)}function Wp(n=yt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function bU(n=yt()){var e;return Wp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kU(){return pV()&&document.documentMode===10}function Yx(n=yt()){return Wp(n)||Ux(n)||Wx(n)||Bx(n)||/windows phone/i.test(n)||$x(n)}function CU(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(n,e=[]){let t;switch(n){case"Browser":t=PI(yt());break;case"Worker":t=`${PI(yt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Sl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PU(n,e={}){return xo(n,"GET","/v2/passwordPolicy",Co(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=6;class RU{constructor(e){var t,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:AU,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AI(this),this.idTokenSubscription=new AI(this),this.beforeStateQueue=new xU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Px,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ni(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Wa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Mx(this,{idToken:e}),r=await ti._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Er(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Of(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Er(this.app))return Promise.reject(oi(this));const t=e?qt(e):null;return t&&se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Er(this.app)?Promise.reject(oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Er(this.app)?Promise.reject(oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PU(this),t=new RU(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Uc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await SU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ni(e)||this._popupRedirectResolver;se(t,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[ni(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(t);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&lU(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ys(n){return qt(n)}class AI{constructor(e){this.auth=e,this.observer=null,this.addObserver=wV(t=>this.observer=t)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OU(n){Yp=n}function Hx(n){return Yp.loadJS(n)}function MU(){return Yp.recaptchaEnterpriseScript}function LU(){return Yp.gapiScript}function VU(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const FU="recaptcha-enterprise",jU="NO_RECAPTCHA";class $U{constructor(e){this.type=FU,this.auth=Ys(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{yU(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new gU(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;bI(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(jU)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&bI(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=MU();l.length!==0&&(l+=a),Hx(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function RI(n,e,t,r=!1){const i=new $U(n);let o;try{o=await i.verify(t)}catch{o=await i.verify(t,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Qy(n,e,t,r){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await RI(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await RI(n,e,t,t==="getOobCode");return r(n,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(n,e){const t=Ip(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(il(o,e??{}))return i;rr(i,"already-initialized")}return t.initialize({options:e})}function BU(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ni);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function WU(n,e,t){const r=Ys(n);se(r._canInitEmulator,r,"emulator-config-failed"),se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=Kx(e),{host:s,port:a}=YU(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),zU()}function Kx(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function YU(n){const e=Kx(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:NI(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:NI(s)}}}function NI(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function zU(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ei("not implemented")}_getIdTokenResponse(e){return ei("not implemented")}_linkToIdToken(e,t){return ei("not implemented")}_getReauthenticationResolver(e){return ei("not implemented")}}async function HU(n,e){return xo(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KU(n,e){return Jc(n,"POST","/v1/accounts:signInWithPassword",Co(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qU(n,e){return Jc(n,"POST","/v1/accounts:signInWithEmailLink",Co(n,e))}async function GU(n,e){return Jc(n,"POST","/v1/accounts:signInWithEmailLink",Co(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends Ew{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Dc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Dc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qy(e,t,"signInWithPassword",KU);case"emailLink":return qU(e,{email:this._email,oobCode:this._password});default:rr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qy(e,r,"signUpPassword",HU);case"emailLink":return GU(e,{idToken:t,email:this._email,oobCode:this._password});default:rr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ya(n,e){return Jc(n,"POST","/v1/accounts:signInWithIdp",Co(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU="http://localhost";class Os extends Ew{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Os(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):rr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=gw(t,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Os(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const t=this.buildRequest();return Ya(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ya(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ya(e,t)}buildRequest(){const e={requestUri:QU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Bc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XU(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JU(n){const e=Eu(Tu(n)).link,t=e?Eu(Tu(e)).deep_link_id:null,r=Eu(Tu(n)).deep_link_id;return(r?Eu(Tu(r)).link:null)||r||t||e||n}class Tw{constructor(e){var t,r,i,o,s,a;const l=Eu(Tu(e)),u=(t=l.apiKey)!==null&&t!==void 0?t:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=XU((i=l.mode)!==null&&i!==void 0?i:null);se(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const t=JU(e);try{return new Tw(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(){this.providerId=xl.PROVIDER_ID}static credential(e,t){return Dc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Tw.parseLink(t);return se(r,"argument-error"),Dc._fromEmailAndCode(e,r.code,r.tenantId)}}xl.PROVIDER_ID="password";xl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends qx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Zc{constructor(){super("facebook.com")}static credential(e){return Os._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Zc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Os._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return $i.credential(t,r)}catch{return null}}}$i.GOOGLE_SIGN_IN_METHOD="google.com";$i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Zc{constructor(){super("github.com")}static credential(e){return Os._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.GITHUB_SIGN_IN_METHOD="github.com";Ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Zc{constructor(){super("twitter.com")}static credential(e,t){return Os._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Bi.credential(t,r)}catch{return null}}}Bi.TWITTER_SIGN_IN_METHOD="twitter.com";Bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZU(n,e){return Jc(n,"POST","/v1/accounts:signUp",Co(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await ti._fromIdTokenResponse(e,r,i),s=OI(r);return new Ms({user:o,providerId:s,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=OI(r);return new Ms({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function OI(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends wi{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Mf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Mf(e,t,r,i)}}function Gx(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Mf._fromErrorAndOperation(n,o,e,r):o})}async function e4(n,e,t=!1){const r=await Ic(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ms._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4(n,e,t=!1){const{auth:r}=n;if(Er(r.app))return Promise.reject(oi(r));const i="reauthenticate";try{const o=await Ic(n,Gx(r,i,e,n),t);se(o.idToken,r,"internal-error");const s=_w(o.idToken);se(s,r,"internal-error");const{sub:a}=s;return se(n.uid===a,r,"user-mismatch"),Ms._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&rr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qx(n,e,t=!1){if(Er(n.app))return Promise.reject(oi(n));const r="signIn",i=await Gx(n,r,e),o=await Ms._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function n4(n,e){return Qx(Ys(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xx(n){const e=Ys(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function r4(n,e,t){if(Er(n.app))return Promise.reject(oi(n));const r=Ys(n),s=await Qy(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ZU).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Xx(n),l}),a=await Ms._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function i4(n,e,t){return Er(n.app)?Promise.reject(oi(n)):n4(qt(n),xl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Xx(n),r})}function o4(n,e,t,r){return qt(n).onIdTokenChanged(e,t,r)}function s4(n,e,t){return qt(n).beforeAuthStateChanged(e,t)}function a4(n){return qt(n).signOut()}const Lf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Lf,"1"),this.storage.removeItem(Lf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(){const n=yt();return ww(n)||Wp(n)}const u4=1e3,c4=10;class Zx extends Jx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=l4()&&CU(),this.fallbackToPolling=Yx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!t)return}const i=()=>{const s=this.storage.getItem(r);!t&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);kU()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,c4):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},u4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Zx.type="LOCAL";const d4=Zx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP extends Jx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}eP.type="SESSION";const tP=eP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new zp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(t.origin,o)),l=await h4(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=Iw("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(p.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(){return window}function p4(n){Ar().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(){return typeof Ar().WorkerGlobalScope<"u"&&typeof Ar().importScripts=="function"}async function m4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function g4(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function y4(){return nP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="firebaseLocalStorageDb",v4=1,Vf="firebaseLocalStorage",iP="fbase_key";class ed{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Hp(n,e){return n.transaction([Vf],e?"readwrite":"readonly").objectStore(Vf)}function _4(){const n=indexedDB.deleteDatabase(rP);return new ed(n).toPromise()}function Xy(){const n=indexedDB.open(rP,v4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Vf,{keyPath:iP})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Vf)?e(r):(r.close(),await _4(),e(await Xy()))})})}async function MI(n,e,t){const r=Hp(n,!0).put({[iP]:e,value:t});return new ed(r).toPromise()}async function w4(n,e){const t=Hp(n,!1).get(e),r=await new ed(t).toPromise();return r===void 0?null:r.value}function LI(n,e){const t=Hp(n,!0).delete(e);return new ed(t).toPromise()}const E4=800,T4=3;class oP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>T4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zp._getInstance(y4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await m4(),!this.activeServiceWorker)return;this.sender=new f4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||g4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xy();return await MI(e,Lf,"1"),await LI(e,Lf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>MI(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>w4(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>LI(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Hp(i,!1).getAll();return new ed(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),E4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oP.type="LOCAL";const I4=oP;new Xc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(n,e){return e?ni(e):(se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw extends Ew{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ya(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ya(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ya(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function S4(n){return Qx(n.auth,new Dw(n),n.bypassAuthState)}function b4(n){const{auth:e,user:t}=n;return se(t,e,"internal-error"),t4(t,new Dw(n),n.bypassAuthState)}async function k4(n){const{auth:e,user:t}=n;return se(t,e,"internal-error"),e4(t,new Dw(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return S4;case"linkViaPopup":case"linkViaRedirect":return k4;case"reauthViaPopup":case"reauthViaRedirect":return b4;default:rr(this.auth,"internal-error")}}resolve(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=new Xc(2e3,1e4);class xa extends sP{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,xa.currentPopupAction&&xa.currentPopupAction.cancel(),xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){gi(this.filter.length===1,"Popup operations only handle one event");const e=Iw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,C4.get())};e()}}xa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="pendingRedirect",Lh=new Map;class P4 extends sP{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Lh.get(this.auth._key());if(!e){try{const r=await A4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Lh.set(this.auth._key(),e)}return this.bypassAuthState||Lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function A4(n,e){const t=O4(e),r=N4(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function R4(n,e){Lh.set(n._key(),e)}function N4(n){return ni(n._redirectPersistence)}function O4(n){return Mh(x4,n.config.apiKey,n.name)}async function M4(n,e,t=!1){if(Er(n.app))return Promise.reject(oi(n));const r=Ys(n),i=D4(r,e),s=await new P4(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=10*60*1e3;class V4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!F4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!aP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Pr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=L4&&this.cachedEventUids.clear(),this.cachedEventUids.has(VI(e))}saveEventToCache(e){this.cachedEventUids.add(VI(e)),this.lastProcessedEventTime=Date.now()}}function VI(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function aP({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function F4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aP(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j4(n,e={}){return xo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,U4=/^https?/;async function B4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await j4(n);for(const t of e)try{if(W4(t))return}catch{}rr(n,"unauthorized-domain")}function W4(n){const e=qy(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!U4.test(t))return!1;if($4.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=new Xc(3e4,6e4);function FI(){const n=Ar().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function z4(n){return new Promise((e,t)=>{var r,i,o;function s(){FI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{FI(),t(Pr(n,"network-request-failed"))},timeout:Y4.get()})}if(!((i=(r=Ar().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Ar().gapi)===null||o===void 0)&&o.load)s();else{const a=VU("iframefcb");return Ar()[a]=()=>{gapi.load?s():t(Pr(n,"network-request-failed"))},Hx(`${LU()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw Vh=null,e})}let Vh=null;function H4(n){return Vh=Vh||z4(n),Vh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=new Xc(5e3,15e3),q4="__/auth/iframe",G4="emulator/auth/iframe",Q4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},X4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function J4(n){const e=n.config;se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?vw(e,G4):`https://${n.config.authDomain}/${q4}`,r={apiKey:e.apiKey,appName:n.name,v:Sl},i=X4.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Bc(r).slice(1)}`}async function Z4(n){const e=await H4(n),t=Ar().gapi;return se(t,n,"internal-error"),e.open({where:document.body,url:J4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Q4,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Pr(n,"network-request-failed"),a=Ar().setTimeout(()=>{o(s)},K4.get());function l(){Ar().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tB=500,nB=600,rB="_blank",iB="http://localhost";class jI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oB(n,e,t,r=tB,i=nB){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},eB),{width:r.toString(),height:i.toString(),top:o,left:s}),u=yt().toLowerCase();t&&(a=jx(u)?rB:t),Fx(u)&&(e=e||iB,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[m,v])=>`${p}${m}=${v},`,"");if(bU(u)&&a!=="_self")return sB(e||"",a),new jI(null);const h=window.open(e||"",a,d);se(h,n,"popup-blocked");try{h.focus()}catch{}return new jI(h)}function sB(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB="__/auth/handler",lB="emulator/auth/handler",uB=encodeURIComponent("fac");async function $I(n,e,t,r,i,o){se(n.config.authDomain,n,"auth-domain-config-required"),se(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Sl,eventId:i};if(e instanceof qx){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",_V(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))s[d]=h}if(e instanceof Zc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);const a=s;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await n._getAppCheckToken(),u=l?`#${uB}=${encodeURIComponent(l)}`:"";return`${cB(n)}?${Bc(a).slice(1)}${u}`}function cB({config:n}){return n.emulator?vw(n,lB):`https://${n.authDomain}/${aB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="webStorageSupport";class dB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tP,this._completeRedirectFn=M4,this._overrideRedirectResult=R4}async _openPopup(e,t,r,i){var o;gi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await $I(e,t,r,qy(),i);return oB(e,s,Iw())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await $I(e,t,r,qy(),i);return p4(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(gi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Z4(e),r=new V4(e);return t.register("authEvent",i=>(se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(rg,{type:rg},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[rg];s!==void 0&&t(!!s),rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=B4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Yx()||ww()||Wp()}}const hB=dB;var UI="@firebase/auth",BI="1.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pB(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mB(n){ol(new Ds("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;se(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zx(n)},u=new NU(r,i,o,l);return BU(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ol(new Ds("auth-internal",e=>{const t=Ys(e.getProvider("auth").getImmediate());return(r=>new fB(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),io(UI,BI,pB(n)),io(UI,BI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB=5*60,yB=fk("authIdTokenMaxAge")||gB;let WI=null;const vB=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>yB)return;const i=t==null?void 0:t.token;WI!==i&&(WI=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function du(n=_k()){const e=Ip(n,"auth");if(e.isInitialized())return e.getImmediate();const t=UU(n,{popupRedirectResolver:hB,persistence:[I4,d4,tP]}),r=fk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=vB(o.toString());s4(t,s,()=>s(t.currentUser)),o4(t,a=>s(a))}}const i=dk("auth");return i&&WU(t,`http://${i}`),t}function _B(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}OU({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Pr("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",_B().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mB("Browser");const Zt={onAuthStateChanged:n=>{du().onAuthStateChanged(n)},isLoggedIn:()=>Zt.getUID()!="",logOut:()=>{const n=du();a4(n).then(()=>{localStorage.clear()}).catch(e=>{alert("couldnt sign out"+e)})},login:(n,e,t)=>{const r=du();i4(r,n,e).then(i=>{t(!0)}).catch(i=>{const o=i.code,s=i.message;t(!1,o,s)})},signUp:(n,e,t)=>{const r=du();r4(r,n,e).then(i=>{t(!0)}).catch(i=>{const o=i.code,s=i.message;t(!1,o,s)})},validateEmail:n=>/^\S+@\S+\.\S+$/.test(n)?"":"Invalid Email",validatePassword:n=>{const t=/[A-Z]/,r=/[a-z]/,i=/[0-9]/,o=/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/;return n.length<8?"Password must be at least 8 characters long":t.test(n)?r.test(n)?i.test(n)?o.test(n)?"":"Password must contain at least one special character":"Password must contain at least one number":"Password must contain at least one lowercase letter":"Password must contain at least one uppercase letter"},getUID:()=>{var n;return((n=du().currentUser)==null?void 0:n.uid)||""}},nt={clear:()=>localStorage.clear(),setSubjectList:async(n,e=!1)=>{e?localStorage.setItem(Hi,JSON.stringify(n)):(console.log(n),await eh(zr(hr,fr,Zt.getUID()),{[Hi]:n}))},fetchData:async n=>{let e=Zt.getUID();if(!e){n(!1);return}try{const t=await tg(zr(hr,fr,e));if(t.exists()){let r=t.data();r.timetable=JSON.parse(r.timetable),n(r)}else n(!1)}catch(t){console.log(t),alert(t)}},updateCache:n=>{for(let e of Object.keys(n))localStorage.setItem(e,JSON.stringify(n[e]))},initializeFields:(n,e,t,r,i,o)=>{let s={[qr]:JSON.stringify(n),[Hi]:e,[Gr]:t,[$a]:parseInt(r),[Ua]:parseInt(i)};try{let a=Zt.getUID();Zd(zr(hr,fr,a),s).then(()=>{const l=II(hr,fr,a,ja);try{e.forEach(async(u,d)=>{const h=zr(l,`${u.code}`);(await tg(h)).exists()||await Zd(h,{[is]:[],[Fi]:[]})}),o(!0)}catch(u){console.error("Error checking or creating collection: ",u),o(!1)}})}catch{console.error("couldn't post inital data",s),o(!1)}},getSubjectListFromCache:()=>JSON.parse(localStorage.getItem(Hi))||[],setTimeTable:(n,e=!1)=>{n=JSON.stringify(n),e?localStorage.setItem(qr,n):(console.log(n),Zd(zr(hr,fr,Zt.getUID()),{[qr]:n},{merge:!0}))},setSubjectData:async(n,e=!1)=>{e?localStorage.setItem(Gr,n):await Zd(zr(hr,fr,Zt.getUID()),{[Gr]:n},{merge:!0})},getSubjectDataFromCache:()=>JSON.parse(localStorage.getItem(Gr)),getTimeTable:async n=>{const e=await tg(zr(hr,fr,Zt.getUID()));e.exists()?n(JSON.parse(e.data().timetable)):n(Rf)},getTimeTableFromCache:()=>JSON.parse(localStorage.getItem(qr))||Rf,getAttendanceData:async n=>{const e={[is]:{},[Fi]:{}};try{const t=II(hr,fr,Zt.getUID(),ja),r=await X$(t);r.empty||r.forEach(i=>{e[is][i.id]=i.data()[is],e[Fi][i.id]=i.data()[Fi]})}catch(t){console.error("error reading document, returning {}",t)}localStorage.setItem("attendance",JSON.stringify(e)),n(e)},setAttendanceData:(n,e,t=()=>{})=>{try{let r=Zt.getUID();const i=zr(hr,fr,r,ja,n),o=zr(hr,fr,r);let s=nt.getSubjectDataFromCache();s[n]=e,eh(o,{[Gr]:s}).then(()=>{e.lastStatus=="Present"?eh(i,{[is]:DI(e.lastUpdate)}).then(()=>{t(!0)}):e.lastStatus=="No Class"?eh(i,{[Fi]:DI(e.lastUpdate)}).then(()=>{t(!0)}):t(!0)}).catch(a=>{t(!1),console.error("Failed to update status: ",a)})}catch(r){t(!1),console.error("Failed to update status: ",r)}},setCache:(n,e)=>{localStorage.setItem(n,e)},getCache:n=>localStorage.getItem(n)},wB=({subjectData:n,timetable:e,onClick:t,attendanceStatus:r,startEndDate:i,cacheUpdater:o})=>{let a=r.lastUpdate!=null?TB(new Date(r.lastUpdate),new Date):!1,l=a?r.lastStatus:"";const u=_=>_=="Absent"?"#DC3545":_=="Present"?"#198754":"#6c757d",[d,h]=N.useState(!1);let p=0;const[m,v]=N.useState({markedStatus:l,alreadyMarkedAttendence:a,markedColor:u(l),presenceCount:{presents:r.presents||0,no_class:r.no_class||0}});IB(i[0])&&(p=EB(i[0],new Date,e,n.code)-m.presenceCount.no_class);const w=_=>{_.stopPropagation();const y=_.target.innerText,T=new Date().getTime();let P={presents:r.presents,no_class:r.no_class,lastUpdate:T,lastStatus:y};y=="Present"?P.presents++:y=="No Class"&&P.no_class++,h(!0),nt.setAttendanceData(n.code,P,M=>{M?(console.log(y),v({alreadyMarkedAttendence:!0,markedColor:u(y),markedStatus:y,presenceCount:{presents:P.presents,no_class:P.no_class}}),o()):alert("Couldn't update attendance"),h(!1)})};let D=r.noupdate!=!0||m.alreadyMarkedAttendence;return n!=null?R.jsx(fo,{md:12,lg:6,style:{display:"flex",justifyContent:"center"},children:R.jsxs("div",{className:"card",onClick:t,children:[R.jsxs("div",{className:"flex-col",children:[R.jsxs("div",{children:[R.jsx("h5",{children:n.code}),R.jsx("p",{children:n.name})]}),R.jsxs("div",{className:"attendence",children:[m.presenceCount.presents,"/",p]})]}),D?R.jsx("hr",{}):"",D?m.alreadyMarkedAttendence?R.jsx(YI,{color:m.markedColor,info:"Marked "+m.markedStatus+(m.markedStatus=="No Class"?" today":"")}):d?R.jsx(YI,{color:"var(--text-color)",info:"Marking..."}):R.jsxs(w1,{children:[R.jsx(wt,{onClick:w,variant:"success",children:"Present"}),R.jsx(wt,{onClick:w,variant:"danger",children:"Absent"}),R.jsx(wt,{onClick:w,variant:"secondary",children:"No Class"})]}):""]})}):R.jsx(R.Fragment,{})};function EB(n,e,t,r){const i=new Date(n),o=new Date(e),s=24*60*60*1e3;let a=0;function l(u){const d=u.getDay();return d>=1&&d<=5}for(let u=i;u<=o;u=new Date(u.getTime()+s))if(l(u)){let d=u.getDay()-1;for(let h=0;h<t[d].length;h++)t[d][h]==r&&a++}return a}function YI({color:n,info:e}){return R.jsx(D_,{style:{width:"100%",border:"1px solid "+n,borderRadius:"7px",padding:"7px",textAlign:"center",color:n,cursor:"default"},onClick:t=>t.stopPropagation(),children:e})}function TB(n,e){return n.getFullYear()===e.getFullYear()&&n.getMonth()===e.getMonth()&&n.getDate()===e.getDate()&&n.getHours()===e.getHours()}function IB(n){return n instanceof Date&&!isNaN(n)}const DB=({allSubjects:n=[],subjectData:e,toggleCalendar:t,timetable:r,startEndDate:i,cacheUpdater:o})=>{let s="",a=[],l=[...n],u=r[new Date().getDay()-1];if(Array.isArray(u)&&u.length>0){const d=new Date().getHours()-8;if(bB(d)){let h=oU[d];s=u[h],a=Object.assign({},e[s]||sU);for(let p=0;p<n.length;p++)if(n[p].code==s){l=[l[p],...l.splice(p).splice(1),...l];break}}}return R.jsx(ak,{className:"card-list",children:Array.isArray(l)&&l.length>0?l.map((d,h)=>R.jsx(wB,{subjectData:d,startEndDate:i,timetable:r,attendanceStatus:d.code==s?a:SB(e[d.code]||{}),onClick:()=>t(d),cacheUpdater:o},h)):"Loading subjects"})};function SB(n){let e=Object.assign({},n);return e.noupdate=!0,e}function bB(n){return n>=9&&n<16&&n!=12}const kB=({signout:n,editFields:e})=>R.jsxs("header",{children:[R.jsx("h1",{children:"Attendance Report"}),R.jsxs("div",{className:"flex-inline-container",children:[R.jsx(wt,{onClick:e,variant:"outline-dark",children:"Edit subjects"}),R.jsx(wt,{onClick:n,variant:"outline-dark",children:"Sign Out"})]})]});function lP(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=lP(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function ct(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=lP(n))&&(r&&(r+=" "),r+=e);return r}const CB=(n,e,t,r)=>{if(t==="length"||t==="prototype"||t==="arguments"||t==="caller")return;const i=Object.getOwnPropertyDescriptor(n,t),o=Object.getOwnPropertyDescriptor(e,t);!xB(i,o)&&r||Object.defineProperty(n,t,o)},xB=function(n,e){return n===void 0||n.configurable||n.writable===e.writable&&n.enumerable===e.enumerable&&n.configurable===e.configurable&&(n.writable||n.value===e.value)},PB=(n,e)=>{const t=Object.getPrototypeOf(e);t!==Object.getPrototypeOf(n)&&Object.setPrototypeOf(n,t)},AB=(n,e)=>`/* Wrapped ${n}*/
${e}`,RB=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),NB=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),OB=(n,e,t)=>{const r=t===""?"":`with ${t.trim()}() `,i=AB.bind(null,r,e.toString());Object.defineProperty(i,"name",NB),Object.defineProperty(n,"toString",{...RB,value:i})},MB=(n,e,{ignoreNonConfigurable:t=!1}={})=>{const{name:r}=n;for(const i of Reflect.ownKeys(e))CB(n,e,i,t);return PB(n,e),OB(n,e,r),n};var LB=MB,Jy={exports:{}},VB=()=>{const n={};return n.promise=new Promise((e,t)=>{n.resolve=e,n.reject=t}),n};(function(n,e){var t=bd&&bd.__awaiter||function(s,a,l,u){return new(l||(l=Promise))(function(d,h){function p(w){try{v(u.next(w))}catch(D){h(D)}}function m(w){try{v(u.throw(w))}catch(D){h(D)}}function v(w){w.done?d(w.value):new l(function(D){D(w.value)}).then(p,m)}v((u=u.apply(s,a||[])).next())})},r=bd&&bd.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(VB);function o(s,a="maxAge"){let l,u,d;const h=()=>t(this,void 0,void 0,function*(){if(l!==void 0)return;const v=w=>t(this,void 0,void 0,function*(){d=i.default();const D=w[1][a]-Date.now();if(D<=0){s.delete(w[0]),d.resolve();return}return l=w[0],u=setTimeout(()=>{s.delete(w[0]),d&&d.resolve()},D),typeof u.unref=="function"&&u.unref(),d.promise});try{for(const w of s)yield v(w)}catch{}l=void 0}),p=()=>{l=void 0,u!==void 0&&(clearTimeout(u),u=void 0),d!==void 0&&(d.reject(void 0),d=void 0)},m=s.set.bind(s);return s.set=(v,w)=>{s.has(v)&&s.delete(v);const D=m(v,w);return l&&l===v&&p(),h(),D},h(),s}e.default=o,n.exports=o,n.exports.default=o})(Jy,Jy.exports);var FB=Jy.exports;const jB=LB,$B=FB,ig=new WeakMap,uP=new WeakMap,Ff=(n,{cacheKey:e,cache:t=new Map,maxAge:r}={})=>{typeof r=="number"&&$B(t);const i=function(...o){const s=e?e(o):o[0],a=t.get(s);if(a)return a.data;const l=n.apply(this,o);return t.set(s,{data:l,maxAge:r?Date.now()+r:Number.POSITIVE_INFINITY}),l};return jB(i,n,{ignoreNonConfigurable:!0}),uP.set(i,t),i};Ff.decorator=(n={})=>(e,t,r)=>{const i=e[t];if(typeof i!="function")throw new TypeError("The decorated value must be a function");delete r.value,delete r.writable,r.get=function(){if(!ig.has(this)){const o=Ff(i,n);return ig.set(this,o),o}return ig.get(this)}};Ff.clear=n=>{const e=uP.get(n);if(!e)throw new TypeError("Can't clear a function that was not memoized!");if(typeof e.clear!="function")throw new TypeError("The cache Map can't be cleared!");e.clear()};var UB=Ff;const cP=El(UB);function BB(n){return typeof n=="string"}function WB(n,e,t){return t.indexOf(n)===e}function YB(n){return n.toLowerCase()===n}function zI(n){return n.indexOf(",")===-1?n:n.split(",")}function Zy(n){if(!n)return n;if(n==="C"||n==="posix"||n==="POSIX")return"en-US";if(n.indexOf(".")!==-1){var e=n.split(".")[0],t=e===void 0?"":e;return Zy(t)}if(n.indexOf("@")!==-1){var r=n.split("@")[0],t=r===void 0?"":r;return Zy(t)}if(n.indexOf("-")===-1||!YB(n))return n;var i=n.split("-"),o=i[0],s=i[1],a=s===void 0?"":s;return"".concat(o,"-").concat(a.toUpperCase())}function zB(n){var e=n===void 0?{}:n,t=e.useFallbackLocale,r=t===void 0?!0:t,i=e.fallbackLocale,o=i===void 0?"en-US":i,s=[];if(typeof navigator<"u"){for(var a=navigator.languages||[],l=[],u=0,d=a;u<d.length;u++){var h=d[u];l=l.concat(zI(h))}var p=navigator.language,m=p&&zI(p);s=s.concat(l,m)}return r&&s.push(o),s.filter(BB).map(Zy).filter(WB)}var HB=cP(zB,{cacheKey:JSON.stringify});function KB(n){return HB(n)[0]||null}var dP=cP(KB,{cacheKey:JSON.stringify});function Ti(n,e,t){return function(i,o){o===void 0&&(o=t);var s=n(i)+o;return e(s)}}function td(n){return function(t){return new Date(n(t).getTime()-1)}}function nd(n,e){return function(r){return[n(r),e(r)]}}function We(n){if(n instanceof Date)return n.getFullYear();if(typeof n=="number")return n;var e=parseInt(n,10);if(typeof n=="string"&&!isNaN(e))return e;throw new Error("Failed to get year from date: ".concat(n,"."))}function Po(n){if(n instanceof Date)return n.getMonth();throw new Error("Failed to get month from date: ".concat(n,"."))}function Kp(n){if(n instanceof Date)return n.getDate();throw new Error("Failed to get year from date: ".concat(n,"."))}function Pl(n){var e=We(n),t=e+(-e+1)%100,r=new Date;return r.setFullYear(t,0,1),r.setHours(0,0,0,0),r}var qB=Ti(We,Pl,-100),hP=Ti(We,Pl,100),Sw=td(hP),GB=Ti(We,Sw,-100),fP=nd(Pl,Sw);function Ao(n){var e=We(n),t=e+(-e+1)%10,r=new Date;return r.setFullYear(t,0,1),r.setHours(0,0,0,0),r}var pP=Ti(We,Ao,-10),bw=Ti(We,Ao,10),qp=td(bw),mP=Ti(We,qp,-10),gP=nd(Ao,qp);function Al(n){var e=We(n),t=new Date;return t.setFullYear(e,0,1),t.setHours(0,0,0,0),t}var yP=Ti(We,Al,-1),kw=Ti(We,Al,1),Gp=td(kw),vP=Ti(We,Gp,-1),QB=nd(Al,Gp);function Cw(n,e){return function(r,i){i===void 0&&(i=e);var o=We(r),s=Po(r)+i,a=new Date;return a.setFullYear(o,s,1),a.setHours(0,0,0,0),n(a)}}function zs(n){var e=We(n),t=Po(n),r=new Date;return r.setFullYear(e,t,1),r.setHours(0,0,0,0),r}var _P=Cw(zs,-1),xw=Cw(zs,1),rd=td(xw),wP=Cw(rd,-1),XB=nd(zs,rd);function JB(n,e){return function(r,i){i===void 0&&(i=e);var o=We(r),s=Po(r),a=Kp(r)+i,l=new Date;return l.setFullYear(o,s,a),l.setHours(0,0,0,0),n(l)}}function id(n){var e=We(n),t=Po(n),r=Kp(n),i=new Date;return i.setFullYear(e,t,r),i.setHours(0,0,0,0),i}var ZB=JB(id,1),Pw=td(ZB),e3=nd(id,Pw);function EP(n){return Kp(rd(n))}var hu,gt={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},t3=(hu={},hu[gt.GREGORY]=["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hu[gt.HEBREW]=["he","he-IL"],hu[gt.ISLAMIC]=["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"],hu),Aw=[0,1,2,3,4,5,6],og=new Map;function n3(n){return function(t,r){var i=t||dP();og.has(i)||og.set(i,new Map);var o=og.get(i);return o.has(n)||o.set(n,new Intl.DateTimeFormat(i||void 0,n).format),o.get(n)(r)}}function r3(n){var e=new Date(n);return new Date(e.setHours(12))}function Hs(n){return function(e,t){return n3(n)(e,r3(t))}}var i3={day:"numeric"},o3={day:"numeric",month:"long",year:"numeric"},s3={month:"long"},a3={month:"long",year:"numeric"},l3={weekday:"short"},u3={weekday:"long"},c3={year:"numeric"},d3=Hs(i3),h3=Hs(o3),f3=Hs(s3),TP=Hs(a3),p3=Hs(l3),m3=Hs(u3),Qp=Hs(c3),g3=Aw[0],y3=Aw[5],HI=Aw[6];function Sc(n,e){e===void 0&&(e=gt.ISO_8601);var t=n.getDay();switch(e){case gt.ISO_8601:return(t+6)%7;case gt.ISLAMIC:return(t+1)%7;case gt.HEBREW:case gt.GREGORY:return t;default:throw new Error("Unsupported calendar type.")}}function v3(n){var e=Pl(n);return We(e)}function _3(n){var e=Ao(n);return We(e)}function ev(n,e){e===void 0&&(e=gt.ISO_8601);var t=We(n),r=Po(n),i=n.getDate()-Sc(n,e);return new Date(t,r,i)}function w3(n,e){e===void 0&&(e=gt.ISO_8601);var t=e===gt.GREGORY?gt.GREGORY:gt.ISO_8601,r=ev(n,e),i=We(n)+1,o,s;do o=new Date(i,0,t===gt.ISO_8601?4:1),s=ev(o,e),i-=1;while(n<s);return Math.round((r.getTime()-s.getTime())/(864e5*7))+1}function ps(n,e){switch(n){case"century":return Pl(e);case"decade":return Ao(e);case"year":return Al(e);case"month":return zs(e);case"day":return id(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function E3(n,e){switch(n){case"century":return qB(e);case"decade":return pP(e);case"year":return yP(e);case"month":return _P(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function IP(n,e){switch(n){case"century":return hP(e);case"decade":return bw(e);case"year":return kw(e);case"month":return xw(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function T3(n,e){switch(n){case"decade":return pP(e,-100);case"year":return yP(e,-10);case"month":return _P(e,-12);default:throw new Error("Invalid rangeType: ".concat(n))}}function I3(n,e){switch(n){case"decade":return bw(e,100);case"year":return kw(e,10);case"month":return xw(e,12);default:throw new Error("Invalid rangeType: ".concat(n))}}function DP(n,e){switch(n){case"century":return Sw(e);case"decade":return qp(e);case"year":return Gp(e);case"month":return rd(e);case"day":return Pw(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function D3(n,e){switch(n){case"century":return GB(e);case"decade":return mP(e);case"year":return vP(e);case"month":return wP(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function S3(n,e){switch(n){case"decade":return mP(e,-100);case"year":return vP(e,-10);case"month":return wP(e,-12);default:throw new Error("Invalid rangeType: ".concat(n))}}function KI(n,e){switch(n){case"century":return fP(e);case"decade":return gP(e);case"year":return QB(e);case"month":return XB(e);case"day":return e3(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function b3(n,e,t){var r=[e,t].sort(function(i,o){return i.getTime()-o.getTime()});return[ps(n,r[0]),DP(n,r[1])]}function SP(n,e,t){return e===void 0&&(e=Qp),t.map(function(r){return e(n,r)}).join("  ")}function k3(n,e,t){return SP(n,e,fP(t))}function bP(n,e,t){return SP(n,e,gP(t))}function C3(n){return n.getDay()===new Date().getDay()}function kP(n,e){e===void 0&&(e=gt.ISO_8601);var t=n.getDay();switch(e){case gt.ISLAMIC:case gt.HEBREW:return t===y3||t===HI;case gt.ISO_8601:case gt.GREGORY:return t===HI||t===g3;default:throw new Error("Unsupported calendar type.")}}var pr="react-calendar__navigation";function x3(n){var e=n.activeStartDate,t=n.drillUp,r=n.formatMonthYear,i=r===void 0?TP:r,o=n.formatYear,s=o===void 0?Qp:o,a=n.locale,l=n.maxDate,u=n.minDate,d=n.navigationAriaLabel,h=d===void 0?"":d,p=n.navigationAriaLive,m=n.navigationLabel,v=n.next2AriaLabel,w=v===void 0?"":v,D=n.next2Label,_=D===void 0?"":D,y=n.nextAriaLabel,T=y===void 0?"":y,P=n.nextLabel,M=P===void 0?"":P,L=n.prev2AriaLabel,I=L===void 0?"":L,E=n.prev2Label,b=E===void 0?"":E,k=n.prevAriaLabel,A=k===void 0?"":k,O=n.prevLabel,C=O===void 0?"":O,ee=n.setActiveStartDate,oe=n.showDoubleView,ie=n.view,ne=n.views,Y=ne.indexOf(ie)>0,K=ie!=="century",H=E3(ie,e),de=K?T3(ie,e):void 0,ce=IP(ie,e),we=K?I3(ie,e):void 0,ot=function(){if(H.getFullYear()<0)return!0;var Le=D3(ie,e);return u&&u>=Le}(),Xe=K&&function(){if(de.getFullYear()<0)return!0;var Le=S3(ie,e);return u&&u>=Le}(),dt=l&&l<ce,ht=K&&l&&l<we;function Gt(){ee(H,"prev")}function ln(){ee(de,"prev2")}function sr(){ee(ce,"next")}function Ln(){ee(we,"next2")}function ar(Le){var qn=function(){switch(ie){case"century":return k3(a,s,Le);case"decade":return bP(a,s,Le);case"year":return s(a,Le);case"month":return i(a,Le);default:throw new Error("Invalid view: ".concat(ie,"."))}}();return m?m({date:Le,label:qn,locale:a||dP()||void 0,view:ie}):qn}function lr(){var Le="".concat(pr,"__label");return R.jsxs("button",{"aria-label":h,"aria-live":p,className:Le,disabled:!Y,onClick:t,style:{flexGrow:1},type:"button",children:[R.jsx("span",{className:"".concat(Le,"__labelText ").concat(Le,"__labelText--from"),children:ar(e)}),oe?R.jsxs(R.Fragment,{children:[R.jsx("span",{className:"".concat(Le,"__divider"),children:"  "}),R.jsx("span",{className:"".concat(Le,"__labelText ").concat(Le,"__labelText--to"),children:ar(ce)})]}):null]})}return R.jsxs("div",{className:pr,children:[b!==null&&K?R.jsx("button",{"aria-label":I,className:"".concat(pr,"__arrow ").concat(pr,"__prev2-button"),disabled:Xe,onClick:ln,type:"button",children:b}):null,C!==null&&R.jsx("button",{"aria-label":A,className:"".concat(pr,"__arrow ").concat(pr,"__prev-button"),disabled:ot,onClick:Gt,type:"button",children:C}),lr(),M!==null&&R.jsx("button",{"aria-label":T,className:"".concat(pr,"__arrow ").concat(pr,"__next-button"),disabled:dt,onClick:sr,type:"button",children:M}),_!==null&&K?R.jsx("button",{"aria-label":w,className:"".concat(pr,"__arrow ").concat(pr,"__next2-button"),disabled:ht,onClick:Ln,type:"button",children:_}):null]})}var Pa=function(){return Pa=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Pa.apply(this,arguments)},P3=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function qI(n){return"".concat(n,"%")}function Rw(n){var e=n.children,t=n.className,r=n.count,i=n.direction,o=n.offset,s=n.style,a=n.wrap,l=P3(n,["children","className","count","direction","offset","style","wrap"]);return R.jsx("div",Pa({className:t,style:Pa({display:"flex",flexDirection:i,flexWrap:a?"wrap":"nowrap"},s)},l,{children:N.Children.map(e,function(u,d){var h=o&&d===0?qI(100*o/r):null;return N.cloneElement(u,Pa(Pa({},u.props),{style:{flexBasis:qI(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:h,marginInlineStart:h,marginInlineEnd:0}}))})}))}function A3(n,e,t){return e&&e>n?e:t&&t<n?t:n}function bc(n,e){return e[0]<=n&&e[1]>=n}function R3(n,e){return n[0]<=e[0]&&n[1]>=e[1]}function CP(n,e){return bc(n[0],e)||bc(n[1],e)}function GI(n,e,t){var r=CP(e,n),i=[];if(r){i.push(t);var o=bc(n[0],e),s=bc(n[1],e);o&&i.push("".concat(t,"Start")),s&&i.push("".concat(t,"End")),o&&s&&i.push("".concat(t,"BothEnds"))}return i}function N3(n){return Array.isArray(n)?n[0]!==null&&n[1]!==null:n!==null}function O3(n){if(!n)throw new Error("args is required");var e=n.value,t=n.date,r=n.hover,i="react-calendar__tile",o=[i];if(!t)return o;var s=new Date,a=function(){if(Array.isArray(t))return t;var m=n.dateType;if(!m)throw new Error("dateType is required when date is not an array of two dates");return KI(m,t)}();if(bc(s,a)&&o.push("".concat(i,"--now")),!e||!N3(e))return o;var l=function(){if(Array.isArray(e))return e;var m=n.valueType;if(!m)throw new Error("valueType is required when value is not an array of two dates");return KI(m,e)}();R3(l,a)?o.push("".concat(i,"--active")):CP(l,a)&&o.push("".concat(i,"--hasActive"));var u=GI(l,a,"".concat(i,"--range"));o.push.apply(o,u);var d=Array.isArray(e)?e:[e];if(r&&d.length===1){var h=r>l[0]?[l[0],r]:[r,l[0]],p=GI(h,a,"".concat(i,"--hover"));o.push.apply(o,p)}return o}function Xp(n){for(var e=n.className,t=n.count,r=t===void 0?3:t,i=n.dateTransform,o=n.dateType,s=n.end,a=n.hover,l=n.offset,u=n.renderTile,d=n.start,h=n.step,p=h===void 0?1:h,m=n.value,v=n.valueType,w=[],D=d;D<=s;D+=p){var _=i(D);w.push(u({classes:O3({date:_,dateType:o,hover:a,value:m,valueType:v}),date:_}))}return R.jsx(Rw,{className:e,count:r,offset:l,wrap:!0,children:w})}function Jp(n){var e=n.activeStartDate,t=n.children,r=n.classes,i=n.date,o=n.formatAbbr,s=n.locale,a=n.maxDate,l=n.maxDateTransform,u=n.minDate,d=n.minDateTransform,h=n.onClick,p=n.onMouseOver,m=n.style,v=n.tileClassName,w=n.tileContent,D=n.tileDisabled,_=n.view,y=N.useMemo(function(){var P={activeStartDate:e,date:i,view:_};return typeof v=="function"?v(P):v},[e,i,v,_]),T=N.useMemo(function(){var P={activeStartDate:e,date:i,view:_};return typeof w=="function"?w(P):w},[e,i,w,_]);return R.jsxs("button",{className:ct(r,y),disabled:u&&d(u)>i||a&&l(a)<i||D&&D({activeStartDate:e,date:i,view:_}),onClick:h?function(P){return h(i,P)}:void 0,onFocus:p?function(){return p(i)}:void 0,onMouseOver:p?function(){return p(i)}:void 0,style:m,type:"button",children:[o?R.jsx("abbr",{"aria-label":o(s,i),children:t}):t,T]})}var tv=function(){return tv=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},tv.apply(this,arguments)},M3=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},sg="react-calendar__century-view__decades__decade";function L3(n){var e=n.classes,t=e===void 0?[]:e,r=n.currentCentury,i=n.formatYear,o=i===void 0?Qp:i,s=M3(n,["classes","currentCentury","formatYear"]),a=s.date,l=s.locale,u=[];return t&&u.push.apply(u,t),sg&&u.push(sg),Pl(a).getFullYear()!==r&&u.push("".concat(sg,"--neighboringCentury")),R.jsx(Jp,tv({},s,{classes:u,maxDateTransform:qp,minDateTransform:Ao,view:"century",children:bP(l,o,a)}))}var nv=function(){return nv=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},nv.apply(this,arguments)},QI=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function V3(n){var e=n.activeStartDate,t=n.hover,r=n.showNeighboringCentury,i=n.value,o=n.valueType,s=QI(n,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),a=v3(e),l=a+(r?119:99);return R.jsx(Xp,{className:"react-calendar__century-view__decades",dateTransform:Ao,dateType:"decade",end:l,hover:t,renderTile:function(u){var d=u.date,h=QI(u,["date"]);return R.jsx(L3,nv({},s,h,{activeStartDate:e,currentCentury:a,date:d}),d.getTime())},start:a,step:10,value:i,valueType:o})}var rv=function(){return rv=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},rv.apply(this,arguments)};function F3(n){function e(){return R.jsx(V3,rv({},n))}return R.jsx("div",{className:"react-calendar__century-view",children:e()})}var iv=function(){return iv=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},iv.apply(this,arguments)},j3=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},ag="react-calendar__decade-view__years__year";function $3(n){var e=n.classes,t=e===void 0?[]:e,r=n.currentDecade,i=n.formatYear,o=i===void 0?Qp:i,s=j3(n,["classes","currentDecade","formatYear"]),a=s.date,l=s.locale,u=[];return t&&u.push.apply(u,t),ag&&u.push(ag),Ao(a).getFullYear()!==r&&u.push("".concat(ag,"--neighboringDecade")),R.jsx(Jp,iv({},s,{classes:u,maxDateTransform:Gp,minDateTransform:Al,view:"decade",children:o(l,a)}))}var ov=function(){return ov=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},ov.apply(this,arguments)},XI=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function U3(n){var e=n.activeStartDate,t=n.hover,r=n.showNeighboringDecade,i=n.value,o=n.valueType,s=XI(n,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),a=_3(e),l=a+(r?11:9);return R.jsx(Xp,{className:"react-calendar__decade-view__years",dateTransform:Al,dateType:"year",end:l,hover:t,renderTile:function(u){var d=u.date,h=XI(u,["date"]);return R.jsx($3,ov({},s,h,{activeStartDate:e,currentDecade:a,date:d}),d.getTime())},start:a,value:i,valueType:o})}var sv=function(){return sv=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},sv.apply(this,arguments)};function B3(n){function e(){return R.jsx(U3,sv({},n))}return R.jsx("div",{className:"react-calendar__decade-view",children:e()})}var av=function(){return av=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},av.apply(this,arguments)},W3=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},JI=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},Y3="react-calendar__year-view__months__month";function z3(n){var e=n.classes,t=e===void 0?[]:e,r=n.formatMonth,i=r===void 0?f3:r,o=n.formatMonthYear,s=o===void 0?TP:o,a=W3(n,["classes","formatMonth","formatMonthYear"]),l=a.date,u=a.locale;return R.jsx(Jp,av({},a,{classes:JI(JI([],t,!0),[Y3],!1),formatAbbr:s,maxDateTransform:rd,minDateTransform:zs,view:"year",children:i(u,l)}))}var lv=function(){return lv=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},lv.apply(this,arguments)},ZI=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function H3(n){var e=n.activeStartDate,t=n.hover,r=n.value,i=n.valueType,o=ZI(n,["activeStartDate","hover","value","valueType"]),s=0,a=11,l=We(e);return R.jsx(Xp,{className:"react-calendar__year-view__months",dateTransform:function(u){var d=new Date;return d.setFullYear(l,u,1),zs(d)},dateType:"month",end:a,hover:t,renderTile:function(u){var d=u.date,h=ZI(u,["date"]);return R.jsx(z3,lv({},o,h,{activeStartDate:e,date:d}),d.getTime())},start:s,value:r,valueType:i})}var uv=function(){return uv=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},uv.apply(this,arguments)};function K3(n){function e(){return R.jsx(H3,uv({},n))}return R.jsx("div",{className:"react-calendar__year-view",children:e()})}var cv=function(){return cv=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},cv.apply(this,arguments)},q3=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},nh="react-calendar__month-view__days__day";function G3(n){var e=n.calendarType,t=n.classes,r=t===void 0?[]:t,i=n.currentMonthIndex,o=n.formatDay,s=o===void 0?d3:o,a=n.formatLongDate,l=a===void 0?h3:a,u=q3(n,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),d=u.date,h=u.locale,p=[];return r&&p.push.apply(p,r),nh&&p.push(nh),kP(d,e)&&p.push("".concat(nh,"--weekend")),d.getMonth()!==i&&p.push("".concat(nh,"--neighboringMonth")),R.jsx(Jp,cv({},u,{classes:p,formatAbbr:l,maxDateTransform:Pw,minDateTransform:id,view:"month",children:s(h,d)}))}var dv=function(){return dv=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},dv.apply(this,arguments)},eD=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function Q3(n){var e=n.activeStartDate,t=n.calendarType,r=n.hover,i=n.showFixedNumberOfWeeks,o=n.showNeighboringMonth,s=n.value,a=n.valueType,l=eD(n,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),u=We(e),d=Po(e),h=i||o,p=Sc(e,t),m=h?0:p,v=(h?-p:0)+1,w=function(){if(i)return v+6*7-1;var D=EP(e);if(o){var _=new Date;_.setFullYear(u,d,D),_.setHours(0,0,0,0);var y=7-Sc(_,t)-1;return D+y}return D}();return R.jsx(Xp,{className:"react-calendar__month-view__days",count:7,dateTransform:function(D){var _=new Date;return _.setFullYear(u,d,D),id(_)},dateType:"day",hover:r,end:w,renderTile:function(D){var _=D.date,y=eD(D,["date"]);return R.jsx(G3,dv({},l,y,{activeStartDate:e,calendarType:t,currentMonthIndex:d,date:_}),_.getTime())},offset:m,start:v,value:s,valueType:a})}var xP="react-calendar__month-view__weekdays",lg="".concat(xP,"__weekday");function X3(n){for(var e=n.calendarType,t=n.formatShortWeekday,r=t===void 0?p3:t,i=n.formatWeekday,o=i===void 0?m3:i,s=n.locale,a=n.onMouseLeave,l=new Date,u=zs(l),d=We(u),h=Po(u),p=[],m=1;m<=7;m+=1){var v=new Date(d,h,m-Sc(u,e)),w=o(s,v);p.push(R.jsx("div",{className:ct(lg,C3(v)&&"".concat(lg,"--current"),kP(v,e)&&"".concat(lg,"--weekend")),children:R.jsx("abbr",{"aria-label":w,title:w,children:r(s,v).replace(".","")})},m))}return R.jsx(Rw,{className:xP,count:7,onFocus:a,onMouseOver:a,children:p})}var jf=function(){return jf=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},jf.apply(this,arguments)},tD=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},nD="react-calendar__tile";function J3(n){var e=n.onClickWeekNumber,t=n.weekNumber,r=R.jsx("span",{children:t});if(e){var i=n.date,o=n.onClickWeekNumber,s=n.weekNumber,a=tD(n,["date","onClickWeekNumber","weekNumber"]);return R.jsx("button",jf({},a,{className:nD,onClick:function(l){return o(s,i,l)},type:"button",children:r}))}else{n.date,n.onClickWeekNumber,n.weekNumber;var a=tD(n,["date","onClickWeekNumber","weekNumber"]);return R.jsx("div",jf({},a,{className:nD,children:r}))}}function Z3(n){var e=n.activeStartDate,t=n.calendarType,r=n.onClickWeekNumber,i=n.onMouseLeave,o=n.showFixedNumberOfWeeks,s=function(){if(o)return 6;var u=EP(e),d=Sc(e,t),h=u-(7-d);return 1+Math.ceil(h/7)}(),a=function(){for(var u=We(e),d=Po(e),h=Kp(e),p=[],m=0;m<s;m+=1)p.push(ev(new Date(u,d,h+m*7),t));return p}(),l=a.map(function(u){return w3(u,t)});return R.jsx(Rw,{className:"react-calendar__month-view__weekNumbers",count:s,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:l.map(function(u,d){var h=a[d];if(!h)throw new Error("date is not defined");return R.jsx(J3,{date:h,onClickWeekNumber:r,weekNumber:u},u)})})}var hv=function(){return hv=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},hv.apply(this,arguments)},eW=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function tW(n){if(n)for(var e=0,t=Object.entries(t3);e<t.length;e++){var r=t[e],i=r[0],o=r[1];if(o.includes(n))return i}return gt.ISO_8601}function nW(n){var e=n.activeStartDate,t=n.locale,r=n.onMouseLeave,i=n.showFixedNumberOfWeeks,o=n.calendarType,s=o===void 0?tW(t):o,a=n.formatShortWeekday,l=n.formatWeekday,u=n.onClickWeekNumber,d=n.showWeekNumbers,h=eW(n,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function p(){return R.jsx(X3,{calendarType:s,formatShortWeekday:a,formatWeekday:l,locale:t,onMouseLeave:r})}function m(){return d?R.jsx(Z3,{activeStartDate:e,calendarType:s,onClickWeekNumber:u,onMouseLeave:r,showFixedNumberOfWeeks:i}):null}function v(){return R.jsx(Q3,hv({calendarType:s},h))}var w="react-calendar__month-view";return R.jsx("div",{className:ct(w,d?"".concat(w,"--weekNumbers"):""),children:R.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[m(),R.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[p(),v()]})]})})}var Aa=function(){return Aa=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Aa.apply(this,arguments)},rh="react-calendar",Fh=["century","decade","year","month"],rW=["decade","year","month","day"],Nw=new Date;Nw.setFullYear(1,0,1);Nw.setHours(0,0,0,0);var iW=new Date(864e13);function Cu(n){return n instanceof Date?n:new Date(n)}function PP(n,e){return Fh.slice(Fh.indexOf(n),Fh.indexOf(e)+1)}function oW(n,e,t){var r=PP(e,t);return r.indexOf(n)!==-1}function Ow(n,e,t){return n&&oW(n,e,t)?n:t}function AP(n){var e=Fh.indexOf(n);return rW[e]}function sW(n,e){var t=Array.isArray(n)?n[e]:n;if(!t)return null;var r=Cu(t);if(isNaN(r.getTime()))throw new Error("Invalid date: ".concat(n));return r}function RP(n,e){var t=n.value,r=n.minDate,i=n.maxDate,o=n.maxDetail,s=sW(t,e);if(!s)return null;var a=AP(o),l=function(){switch(e){case 0:return ps(a,s);case 1:return DP(a,s);default:throw new Error("Invalid index value: ".concat(e))}}();return A3(l,r,i)}var Mw=function(n){return RP(n,0)},NP=function(n){return RP(n,1)},aW=function(n){return[Mw,NP].map(function(e){return e(n)})};function OP(n){var e=n.maxDate,t=n.maxDetail,r=n.minDate,i=n.minDetail,o=n.value,s=n.view,a=Ow(s,i,t),l=Mw({value:o,minDate:r,maxDate:e,maxDetail:t})||new Date;return ps(a,l)}function lW(n){var e=n.activeStartDate,t=n.defaultActiveStartDate,r=n.defaultValue,i=n.defaultView,o=n.maxDate,s=n.maxDetail,a=n.minDate,l=n.minDetail,u=n.value,d=n.view,h=Ow(d,l,s),p=e||t;return p?ps(h,p):OP({maxDate:o,maxDetail:s,minDate:a,minDetail:l,value:u||r,view:d||i})}function ug(n){return n&&(!Array.isArray(n)||n.length===1)}function ih(n,e){return n instanceof Date&&e instanceof Date&&n.getTime()===e.getTime()}var uW=N.forwardRef(function(e,t){var r=e.activeStartDate,i=e.allowPartialRange,o=e.calendarType,s=e.className,a=e.defaultActiveStartDate,l=e.defaultValue,u=e.defaultView,d=e.formatDay,h=e.formatLongDate,p=e.formatMonth,m=e.formatMonthYear,v=e.formatShortWeekday,w=e.formatWeekday,D=e.formatYear,_=e.goToRangeStartOnSelect,y=_===void 0?!0:_,T=e.inputRef,P=e.locale,M=e.maxDate,L=M===void 0?iW:M,I=e.maxDetail,E=I===void 0?"month":I,b=e.minDate,k=b===void 0?Nw:b,A=e.minDetail,O=A===void 0?"century":A,C=e.navigationAriaLabel,ee=e.navigationAriaLive,oe=e.navigationLabel,ie=e.next2AriaLabel,ne=e.next2Label,Y=e.nextAriaLabel,K=e.nextLabel,H=e.onActiveStartDateChange,de=e.onChange,ce=e.onClickDay,we=e.onClickDecade,ot=e.onClickMonth,Xe=e.onClickWeekNumber,dt=e.onClickYear,ht=e.onDrillDown,Gt=e.onDrillUp,ln=e.onViewChange,sr=e.prev2AriaLabel,Ln=e.prev2Label,ar=e.prevAriaLabel,lr=e.prevLabel,Le=e.returnValue,qn=Le===void 0?"start":Le,Et=e.selectRange,Vr=e.showDoubleView,qs=e.showFixedNumberOfWeeks,No=e.showNavigation,Tn=No===void 0?!0:No,Fr=e.showNeighboringCentury,Gs=e.showNeighboringDecade,jr=e.showNeighboringMonth,$r=jr===void 0?!0:jr,Oo=e.showWeekNumbers,st=e.tileClassName,ft=e.tileContent,Ur=e.tileDisabled,Qs=e.value,Nl=e.view,ld=N.useState(a),Mo=ld[0],Lo=ld[1],Ol=N.useState(null),Ml=Ol[0],ud=Ol[1],cd=N.useState(Array.isArray(l)?l.map(function(ue){return ue!==null?Cu(ue):null}):l!=null?Cu(l):null),Vo=cd[0],dd=cd[1],Ll=N.useState(u),Fo=Ll[0],Xs=Ll[1],Tt=r||Mo||lW({activeStartDate:r,defaultActiveStartDate:a,defaultValue:l,defaultView:u,maxDate:L,maxDetail:E,minDate:k,minDetail:O,value:Qs,view:Nl}),Je=function(){var ue=function(){return Et&&ug(Vo)?Vo:Qs!==void 0?Qs:Vo}();return ue?Array.isArray(ue)?ue.map(function(Te){return Te!==null?Cu(Te):null}):ue!==null?Cu(ue):null:null}(),jo=AP(E),Ae=Ow(Nl||Fo,O,E),In=PP(O,E),$o=Et?Ml:null,Js=In.indexOf(Ae)<In.length-1,It=In.indexOf(Ae)>0,Vl=N.useCallback(function(ue){var Te=function(){switch(qn){case"start":return Mw;case"end":return NP;case"range":return aW;default:throw new Error("Invalid returnValue.")}}();return Te({maxDate:L,maxDetail:E,minDate:k,value:ue})},[L,E,k,qn]),Br=N.useCallback(function(ue,Te){Lo(ue);var Ye={action:Te,activeStartDate:ue,value:Je,view:Ae};H&&!ih(Tt,ue)&&H(Ye)},[Tt,H,Je,Ae]),ur=N.useCallback(function(ue,Te){var Ye=function(){switch(Ae){case"century":return we;case"decade":return dt;case"year":return ot;case"month":return ce;default:throw new Error("Invalid view: ".concat(Ae,"."))}}();Ye&&Ye(ue,Te)},[ce,we,ot,dt,Ae]),Fl=N.useCallback(function(ue,Te){if(Js){ur(ue,Te);var Ye=In[In.indexOf(Ae)+1];if(!Ye)throw new Error("Attempted to drill down from the lowest view.");Lo(ue),Xs(Ye);var un={action:"drillDown",activeStartDate:ue,value:Je,view:Ye};H&&!ih(Tt,ue)&&H(un),ln&&Ae!==Ye&&ln(un),ht&&ht(un)}},[Tt,Js,H,ur,ht,ln,Je,Ae,In]),jl=N.useCallback(function(){if(It){var ue=In[In.indexOf(Ae)-1];if(!ue)throw new Error("Attempted to drill up from the highest view.");var Te=ps(ue,Tt);Lo(Te),Xs(ue);var Ye={action:"drillUp",activeStartDate:Te,value:Je,view:ue};H&&!ih(Tt,Te)&&H(Ye),ln&&Ae!==ue&&ln(Ye),Gt&&Gt(Ye)}},[Tt,It,H,Gt,ln,Je,Ae,In]),cr=N.useCallback(function(ue,Te){var Ye=Je;ur(ue,Te);var un=Et&&!ug(Ye),Qt;if(Et)if(un)Qt=ps(jo,ue);else{if(!Ye)throw new Error("previousValue is required");if(Array.isArray(Ye))throw new Error("previousValue must not be an array");Qt=b3(jo,Ye,ue)}else Qt=Vl(ue);var Bo=!Et||un||y?OP({maxDate:L,maxDetail:E,minDate:k,minDetail:O,value:Qt,view:Ae}):null;Te.persist(),Lo(Bo),dd(Qt);var fd={action:"onChange",activeStartDate:Bo,value:Qt,view:Ae};if(H&&!ih(Tt,Bo)&&H(fd),de)if(Et){var pd=ug(Qt);if(!pd)de(Qt||null,Te);else if(i){if(Array.isArray(Qt))throw new Error("value must not be an array");de([Qt||null,null],Te)}}else de(Qt||null,Te)},[Tt,i,Vl,y,L,E,k,O,H,de,ur,Et,Je,jo,Ae]);function am(ue){ud(ue)}function $l(){ud(null)}N.useImperativeHandle(t,function(){return{activeStartDate:Tt,drillDown:Fl,drillUp:jl,onChange:cr,setActiveStartDate:Br,value:Je,view:Ae}},[Tt,Fl,jl,cr,Br,Je,Ae]);function Uo(ue){var Te=ue?IP(Ae,Tt):ps(Ae,Tt),Ye=Js?Fl:cr,un={activeStartDate:Te,hover:$o,locale:P,maxDate:L,minDate:k,onClick:Ye,onMouseOver:Et?am:void 0,tileClassName:st,tileContent:ft,tileDisabled:Ur,value:Je,valueType:jo};switch(Ae){case"century":return R.jsx(F3,Aa({formatYear:D,showNeighboringCentury:Fr},un));case"decade":return R.jsx(B3,Aa({formatYear:D,showNeighboringDecade:Gs},un));case"year":return R.jsx(K3,Aa({formatMonth:p,formatMonthYear:m},un));case"month":return R.jsx(nW,Aa({calendarType:o,formatDay:d,formatLongDate:h,formatShortWeekday:v,formatWeekday:w,onClickWeekNumber:Xe,onMouseLeave:Et?$l:void 0,showFixedNumberOfWeeks:typeof qs<"u"?qs:Vr,showNeighboringMonth:$r,showWeekNumbers:Oo},un));default:throw new Error("Invalid view: ".concat(Ae,"."))}}function hd(){return Tn?R.jsx(x3,{activeStartDate:Tt,drillUp:jl,formatMonthYear:m,formatYear:D,locale:P,maxDate:L,minDate:k,navigationAriaLabel:C,navigationAriaLive:ee,navigationLabel:oe,next2AriaLabel:ie,next2Label:ne,nextAriaLabel:Y,nextLabel:K,prev2AriaLabel:sr,prev2Label:Ln,prevAriaLabel:ar,prevLabel:lr,setActiveStartDate:Br,showDoubleView:Vr,view:Ae,views:In}):null}var Ul=Array.isArray(Je)?Je:[Je];return R.jsxs("div",{className:ct(rh,Et&&Ul.length===1&&"".concat(rh,"--selectRange"),Vr&&"".concat(rh,"--doubleView"),s),ref:T,children:[hd(),R.jsxs("div",{className:"".concat(rh,"__viewContainer"),onBlur:Et?$l:void 0,onMouseLeave:Et?$l:void 0,children:[Uo(),Vr?Uo(!0):null]})]})});function cW({attendanceData:n={},selectedSubject:e,range:t=[],timetable:r=Rf}){var d,h;const[i,o]=N.useState(new Date),s=p=>{o(p)};let a=((d=n[is])==null?void 0:d[e])||[],l=((h=n[Fi])==null?void 0:h[e])||[];function u({date:p,view:m}){if(m=="month"){const v=new Date;if(v<p&&v.getDate()!=p.getDate())return"future";if(p.getDay()==0||p.getDay()==6)return"weekend";if(r[p.getDay()-1].indexOf(e)<0)return"no-class";for(let w of a)if(w=new Date(w),rD(p,w))return"present";for(let w of l)if(w=new Date(w),rD(p,w))return"no-class";return"absent"}}return R.jsx("div",{children:R.jsx(uW,{onChange:s,value:i,tileClassName:u,minDate:t[0],maxDate:t[1]})})}function rD(n,e){return n.getDate()==e.getDate()&&n.getMonth()==e.getMonth()&&n.getFullYear()==e.getFullYear()}const dW=({setLoginState:n})=>{function e(){n(!1,!1)}const t=window.matchMedia("(min-width: 992px)"),[r,i]=N.useState(!1),[o,s]=N.useState(""),[a,l]=N.useState(t.matches);function u(v){v.matches?l(!0):l(!1)}t.addEventListener("change",u);const d=v=>{typeof(v==null?void 0:v.name)=="string"?(s(v),i(!0)):(i(w=>!w),s(""))},[h,p]=N.useState({[Hi]:[],[qr]:Rf,[Gr]:{},startEndDate:[],[ja]:{},[Fi]:{}});function m(){nt.fetchData(v=>{if(typeof v=="boolean"&&!v)n(!0,!0);else{let w=Object.assign({},h);w[Hi]=v[Hi],w[qr]=v[qr],w[Gr]=v[Gr],w.startEndDate=[new Date(v[$a]),new Date(v[Ua])],nt.getAttendanceData(D=>{w[ja]=D,p(w),nt.updateCache(w)})}})}return N.useEffect(m,[]),R.jsxs(R.Fragment,{children:[R.jsx(kB,{signout:e,editFields:()=>n(!0,!0)}),R.jsxs(D_,{fluid:!0,className:"article",children:[!r||a?R.jsx(fo,{lg:7,md:12,className:a?"d-none d-lg-inline-block":"d-block d-lg-none card-width-max",children:R.jsx(DB,{startEndDate:h.startEndDate,allSubjects:h[Hi],subjectData:h[Gr],timetable:h[qr],toggleCalendar:d,cacheUpdater:m})}):"",r||a?R.jsx(R.Fragment,{children:R.jsxs(fo,{lg:4,md:12,className:(a?"d-none d-lg-inline-block":"d-block d-lg-none calender-sm")+" calender-col",children:[a?"":R.jsx(wt,{onClick:d,children:"Back to Cards"}),R.jsx("h5",{children:r&&o!="0"?`${o==null?void 0:o.code} : ${o==null?void 0:o.name}`:"Select a subject to see overview"}),R.jsx(cW,{range:h.startEndDate,selectedSubject:o==null?void 0:o.code,attendanceData:h[ja],timetable:h[qr]})]})}):""]})]})};function hW({onDelete:n,value:e}){return R.jsxs(lT,{className:"mb-3",children:[R.jsx(lT.Text,{id:"basic-addon1",children:R.jsx(wt,{className:"btn-close",onClick:n})}),R.jsx(Ot.Control,{placeholder:"Subject code","aria-label":"Subject code","aria-describedby":"basic-addon1",className:"subject-code-input",defaultValue:e.code,required:!0}),R.jsx(Ot.Control,{placeholder:"Name","aria-label":"Subject name",className:"subject-name-input","aria-describedby":"basic-addon1",defaultValue:e.name,required:!0})]})}function fW({next:n,close:e}){const t=nt.getSubjectListFromCache(),[r,i]=N.useState(t.length?t:rU);let[o,s]=N.useState(0);const[a,l]=N.useState(""),u=()=>{i(m=>[...m,""]),s(++o)},d=m=>{r.length>1?i(v=>v.filter((w,D)=>D!==m)):(h()[0][0].value="",h()[1][0].value="")},h=()=>[document.querySelectorAll(".subjects-container .subject-code-input"),document.querySelectorAll(".subjects-container .subject-name-input")],p=()=>{let m=h(),v=m[0],w=m[1],D=[],_=[];for(let y=0;y<v.length;y++){let T=v[y].value.trim(),P=w[y].value.trim();if(T.length>0){if(_.indexOf(T)>-1){l("Subject codes must be unique");return}_.push(T),D.push({code:T,name:P})}}D.length>0?(nt.setSubjectList(D,!0),n()):l("Please add subjects")};return R.jsx("div",{className:"max-width subjects-container",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:R.jsxs("form",{onSubmit:m=>{m.preventDefault(),u()},children:[R.jsxs("div",{className:"heading",children:[R.jsx("h2",{children:"Add Subjects"}),R.jsx(wt,{onClick:e,className:"btn-close"})]}),R.jsx("div",{style:{overflow:"scroll"},children:r.map((m,v)=>R.jsx(hW,{value:m,onDelete:()=>d(v)},v))}),R.jsx("p",{className:"wrong",children:a}),R.jsx(wt,{onClick:u,children:"Add Subject"}),R.jsx(wt,{variant:"outline-primary",onClick:p,children:"Next"})]})})}function pW({subjects:n,updateTimetable:e,value:t,isNotFilled:r}){const i=o=>{e(o)};return R.jsxs(Hd,{onSelect:i,defaultValue:t,children:[R.jsx(Hd.Toggle,{variant:r?"danger":"success",id:"dropdown-basic",children:t||"Select Subject"}),R.jsx(Hd.Menu,{children:n.map((o,s)=>R.jsx(Hd.Item,{eventKey:n[s],children:n[s]},s))})]})}function mW(n,e){for(let t in n)for(let r in n[t])e.indexOf(n[t][r])<0&&(n[t][r]="");return n}function gW({next:n,previous:e}){const t=["Monday","Tuesday","Wednesday","Thursday","Friday"],[r,i]=N.useState(Array(5).fill().map(()=>Array(6).fill(!1))),[o,s]=N.useState(!1),a=["9:00-10:00","10:00-11:00","11:00-12:00","1:00-2:00","2:00-3:00","3:00-4:00"],l=nt.getSubjectListFromCache().map((D,_)=>D.code),u=mW(nt.getTimeTableFromCache(),l),[d,h]=N.useState(u),p=(D,_,y)=>{const T=[...d];console.log(y),T[D][_]=y,h(T)},m=(D,_)=>{let y=[..._],T=!0;for(let P=0;P<D.length;P++)for(let M=0;M<D[P].length;M++)D[P][M]==""?(y[P][M]=!0,T=!1):y[P][M]=!1;return[y,T]},v=async()=>{console.log(d);let[D,_]=m(d,r);nt.setTimeTable(d,!0),_?(s(!0),nt.initializeFields(d,nt.getSubjectListFromCache(),{},nt.getCache($a),nt.getCache(Ua),y=>{s(!1),y?n():alert("Couldn't update status please try again.")})):i(D)},w=()=>{console.log(d),nt.setTimeTable(d,!0),e()};return R.jsxs(fo,{style:{position:"relative",top:"50%",transform:"translateY(-50%)"},children:[R.jsx("h1",{style:{textAlign:"center",marginBottom:"2rem"},children:"Specify Time Table"}),R.jsx("div",{style:{maxWidth:"100vw",overflow:"scroll"},children:R.jsxs(ZL,{bordered:!0,hover:!0,children:[R.jsx("thead",{children:R.jsxs("tr",{children:[R.jsx("th",{}),a.map((D,_)=>R.jsx("th",{children:D},_))]})}),R.jsx("tbody",{children:t.map((D,_)=>R.jsxs("tr",{children:[R.jsx("th",{children:D}),a.map((y,T)=>R.jsx("td",{children:R.jsx(pW,{subjects:l,value:l.indexOf(d[_][T])>=0?d[_][T]:"",isNotFilled:r[_][T],updateTimetable:P=>p(_,T,P)},`${T}-${_}`)},`${T}-${_}-td`))]},_))})]})}),R.jsxs(fo,{className:"flex-inline-container",style:{width:"100%",justifyContent:"center"},children:[o?"":R.jsx(wt,{onClick:w,children:"Previous"}),R.jsx(wt,{onClick:v,disabled:o,children:o?"Please wait...":"Finish"}),o?"":R.jsx(wt,{onClick:n,variant:"outline-primary",children:"Cancel"})]})]})}function Ls(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function X(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function kc(n){if(!Ls(n)&&typeof n!="number")return!1;const e=X(n);return!isNaN(Number(e))}const yW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vW=(n,e,t)=>{let r;const i=yW[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function cg(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const _W={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},wW={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},EW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},TW={date:cg({formats:_W,defaultWidth:"full"}),time:cg({formats:wW,defaultWidth:"full"}),dateTime:cg({formats:EW,defaultWidth:"full"})},IW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},DW=(n,e,t,r)=>IW[n];function fu(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const s=n.defaultFormattingWidth||n.defaultWidth,a=t!=null&&t.width?String(t.width):s;i=n.formattingValues[a]||n.formattingValues[s]}else{const s=n.defaultWidth,a=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[a]||n.values[s]}const o=n.argumentCallback?n.argumentCallback(e):e;return i[o]}}const SW={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},CW={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},xW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},PW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},AW=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},RW={ordinalNumber:AW,era:fu({values:SW,defaultWidth:"wide"}),quarter:fu({values:bW,defaultWidth:"wide",argumentCallback:n=>n-1}),month:fu({values:kW,defaultWidth:"wide"}),day:fu({values:CW,defaultWidth:"wide"}),dayPeriod:fu({values:xW,defaultWidth:"wide",formattingValues:PW,defaultFormattingWidth:"wide"})};function pu(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(a)?OW(a,h=>h.test(s)):NW(a,h=>h.test(s));let u;u=n.valueCallback?n.valueCallback(l):l,u=t.valueCallback?t.valueCallback(u):u;const d=e.slice(s.length);return{value:u,rest:d}}}function NW(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function OW(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function MW(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],o=e.match(n.parsePattern);if(!o)return null;let s=n.valueCallback?n.valueCallback(o[0]):o[0];s=t.valueCallback?t.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const LW=/^(\d+)(th|st|nd|rd)?/i,VW=/\d+/i,FW={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jW={any:[/^b/i,/^(a|c)/i]},$W={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},UW={any:[/1/i,/2/i,/3/i,/4/i]},BW={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},WW={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},YW={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zW={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},HW={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},KW={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},qW={ordinalNumber:MW({matchPattern:LW,parsePattern:VW,valueCallback:n=>parseInt(n,10)}),era:pu({matchPatterns:FW,defaultMatchWidth:"wide",parsePatterns:jW,defaultParseWidth:"any"}),quarter:pu({matchPatterns:$W,defaultMatchWidth:"wide",parsePatterns:UW,defaultParseWidth:"any",valueCallback:n=>n+1}),month:pu({matchPatterns:BW,defaultMatchWidth:"wide",parsePatterns:WW,defaultParseWidth:"any"}),day:pu({matchPatterns:YW,defaultMatchWidth:"wide",parsePatterns:zW,defaultParseWidth:"any"}),dayPeriod:pu({matchPatterns:HW,defaultMatchWidth:"any",parsePatterns:KW,defaultParseWidth:"any"})},MP={code:"en-US",formatDistance:vW,formatLong:TW,formatRelative:DW,localize:RW,match:qW,options:{weekStartsOn:0,firstWeekContainsDate:1}};let GW={};function Ks(){return GW}const LP=6048e5,QW=864e5,Zp=6e4,em=36e5,XW=1e3;function Rr(n){const e=X(n);return e.setHours(0,0,0,0),e}function $f(n){const e=X(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Cc(n,e){const t=Rr(n),r=Rr(e),i=+t-$f(t),o=+r-$f(r);return Math.round((i-o)/QW)}function be(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}function tm(n){const e=X(n),t=be(n,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}function JW(n){const e=X(n);return Cc(e,tm(e))+1}function yi(n,e){var a,l,u,d;const t=Ks(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((d=(u=t.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=X(n),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function ml(n){return yi(n,{weekStartsOn:1})}function VP(n){const e=X(n),t=e.getFullYear(),r=be(n,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const i=ml(r),o=be(n,0);o.setFullYear(t,0,4),o.setHours(0,0,0,0);const s=ml(o);return e.getTime()>=i.getTime()?t+1:e.getTime()>=s.getTime()?t:t-1}function ZW(n){const e=VP(n),t=be(n,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),ml(t)}function Lw(n){const e=X(n),t=+ml(e)-+ZW(e);return Math.round(t/LP)+1}function Vw(n,e){var d,h,p,m;const t=X(n),r=t.getFullYear(),i=Ks(),o=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(p=i.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,s=be(n,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=yi(s,e),l=be(n,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const u=yi(l,e);return t.getTime()>=a.getTime()?r+1:t.getTime()>=u.getTime()?r:r-1}function e6(n,e){var a,l,u,d;const t=Ks(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??t.firstWeekContainsDate??((d=(u=t.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=Vw(n,e),o=be(n,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),yi(o,e)}function FP(n,e){const t=X(n),r=+yi(t,e)-+e6(t,e);return Math.round(r/LP)+1}function Se(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Pi={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Se(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Se(t+1,2)},d(n,e){return Se(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Se(n.getHours()%12||12,e.length)},H(n,e){return Se(n.getHours(),e.length)},m(n,e){return Se(n.getMinutes(),e.length)},s(n,e){return Se(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return Se(i,e.length)}},la={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},iD={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return Pi.y(n,e)},Y:function(n,e,t,r){const i=Vw(n,r),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return Se(s,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):Se(o,e.length)},R:function(n,e){const t=VP(n);return Se(t,e.length)},u:function(n,e){const t=n.getFullYear();return Se(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Se(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Se(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Pi.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Se(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=FP(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Se(i,e.length)},I:function(n,e,t){const r=Lw(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Se(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Pi.d(n,e)},D:function(n,e,t){const r=JW(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Se(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Se(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Se(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Se(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=la.noon:r===0?i=la.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=la.evening:r>=12?i=la.afternoon:r>=4?i=la.morning:i=la.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Pi.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Pi.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Se(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Se(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Pi.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Pi.s(n,e)},S:function(n,e){return Pi.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return sD(r);case"XXXX":case"XX":return Jo(r);case"XXXXX":case"XXX":default:return Jo(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return sD(r);case"xxxx":case"xx":return Jo(r);case"xxxxx":case"xxx":default:return Jo(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+oD(r,":");case"OOOO":default:return"GMT"+Jo(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+oD(r,":");case"zzzz":default:return"GMT"+Jo(r,":")}},t:function(n,e,t){const r=Math.trunc(n.getTime()/1e3);return Se(r,e.length)},T:function(n,e,t){const r=n.getTime();return Se(r,e.length)}};function oD(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),o=r%60;return o===0?t+String(i):t+String(i)+e+Se(o,2)}function sD(n,e){return n%60===0?(n>0?"-":"+")+Se(Math.abs(n)/60,2):Jo(n,e)}function Jo(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Se(Math.trunc(r/60),2),o=Se(r%60,2);return t+i+e+o}const aD=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},jP=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},t6=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return aD(n,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",aD(r,e)).replace("{{time}}",jP(i,e))},Uf={p:jP,P:t6},n6=/^D+$/,r6=/^Y+$/,i6=["D","DD","YY","YYYY"];function $P(n){return n6.test(n)}function UP(n){return r6.test(n)}function fv(n,e,t){const r=o6(n,e,t);if(console.warn(r),i6.includes(n))throw new RangeError(r)}function o6(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const s6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,a6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,l6=/^'([^]*?)'?$/,u6=/''/g,c6=/[a-zA-Z]/;function lD(n,e,t){var d,h,p,m,v,w,D,_;const r=Ks(),i=(t==null?void 0:t.locale)??r.locale??MP,o=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,s=(t==null?void 0:t.weekStartsOn)??((w=(v=t==null?void 0:t.locale)==null?void 0:v.options)==null?void 0:w.weekStartsOn)??r.weekStartsOn??((_=(D=r.locale)==null?void 0:D.options)==null?void 0:_.weekStartsOn)??0,a=X(n);if(!kc(a))throw new RangeError("Invalid time value");let l=e.match(a6).map(y=>{const T=y[0];if(T==="p"||T==="P"){const P=Uf[T];return P(y,i.formatLong)}return y}).join("").match(s6).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const T=y[0];if(T==="'")return{isToken:!1,value:d6(y)};if(iD[T])return{isToken:!0,value:y};if(T.match(c6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const u={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return l.map(y=>{if(!y.isToken)return y.value;const T=y.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&UP(T)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&$P(T))&&fv(T,e,String(n));const P=iD[T[0]];return P(a,T,i.localize,u)}).join("")}function d6(n){const e=n.match(l6);return e?e[1].replace(u6,"'"):n}function Fw(n,e){const t=+X(n);return be(n,t+e)}function pv(n,e){return Fw(n,e*Zp)}function h6(n,e){return Fw(n,e*em)}function Ro(n,e){const t=X(n);return isNaN(e)?be(n,NaN):(e&&t.setDate(t.getDate()+e),t)}function Bf(n,e){const t=e*7;return Ro(n,t)}function ir(n,e){const t=X(n);if(isNaN(e))return be(n,NaN);if(!e)return t;const r=t.getDate(),i=be(n,t.getTime());i.setMonth(t.getMonth()+e+1,0);const o=i.getDate();return r>=o?i:(t.setFullYear(i.getFullYear(),i.getMonth(),r),t)}function jw(n,e){const t=e*3;return ir(n,t)}function si(n,e){return ir(n,e*12)}function f6(n,e){return Ro(n,-e)}function uD(n,e){return Bf(n,-e)}function gl(n,e){return ir(n,-e)}function BP(n,e){return jw(n,-e)}function yl(n,e){return si(n,-e)}function ai(n){return X(n).getSeconds()}function Nr(n){return X(n).getMinutes()}function Or(n){return X(n).getHours()}function p6(n){return X(n).getDay()}function cD(n){return X(n).getDate()}function tn(n){return X(n).getMonth()}function ms(n){const e=X(n);return Math.trunc(e.getMonth()/3)+1}function fe(n){return X(n).getFullYear()}function mv(n){return X(n).getTime()}function jh(n,e){const t=X(n);return t.setSeconds(e),t}function $h(n,e){const t=X(n);return t.setMinutes(e),t}function Uh(n,e){const t=X(n);return t.setHours(e),t}function m6(n){const e=X(n),t=e.getFullYear(),r=e.getMonth(),i=be(n,0);return i.setFullYear(t,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Jt(n,e){const t=X(n),r=t.getFullYear(),i=t.getDate(),o=be(n,0);o.setFullYear(r,e,15),o.setHours(0,0,0,0);const s=m6(o);return t.setMonth(e,Math.min(i,s)),t}function pa(n,e){const t=X(n),r=Math.trunc(t.getMonth()/3)+1,i=e-r;return Jt(t,t.getMonth()+i*3)}function gr(n,e){const t=X(n);return isNaN(+t)?be(n,NaN):(t.setFullYear(e),t)}function dD(n){let e;return n.forEach(t=>{const r=X(t);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function hD(n){let e;return n.forEach(function(t){const r=X(t);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function Wf(n,e){const t=X(n),r=X(e),i=t.getFullYear()-r.getFullYear(),o=t.getMonth()-r.getMonth();return i*12+o}function Yf(n,e){const t=X(n),r=X(e);return t.getFullYear()-r.getFullYear()}function zf(n,e){const t=X(n),r=X(e),i=t.getFullYear()-r.getFullYear(),o=ms(t)-ms(r);return i*4+o}function WP(n){const e=X(n);return e.setDate(1),e.setHours(0,0,0,0),e}function gv(n){const e=X(n),t=e.getMonth(),r=t-t%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function yv(n){const e=X(n);return e.setHours(23,59,59,999),e}function g6(n,e){var a,l;const t=Ks(),r=t.weekStartsOn??((l=(a=t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??0,i=X(n),o=i.getDay(),s=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}function y6(n){const e=X(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function YP(n){const e=X(n),t=e.getFullYear();return e.setFullYear(t+1,0,0),e.setHours(23,59,59,999),e}function v6(n,e){const t=X(n),r=X(e);return+t==+r}function _6(n,e){const t=Rr(n),r=Rr(e);return+t==+r}function w6(n,e){const t=X(n),r=X(e);return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()}function E6(n,e){const t=X(n),r=X(e);return t.getFullYear()===r.getFullYear()}function T6(n,e){const t=gv(n),r=gv(e);return+t==+r}function vo(n,e){const t=X(n),r=X(e);return t.getTime()>r.getTime()}function Vs(n,e){const t=X(n),r=X(e);return+t<+r}function xc(n,e){const t=+X(n),[r,i]=[+X(e.start),+X(e.end)].sort((o,s)=>o-s);return t>=r&&t<=i}function I6(){return Object.assign({},Ks())}function D6(n,e){const t=e instanceof Date?be(e,0):new e(0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}const S6=10;class zP{constructor(){G(this,"subPriority",0)}validate(e,t){return!0}}class b6 extends zP{constructor(e,t,r,i,o){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=i,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class k6 extends zP{constructor(){super(...arguments);G(this,"priority",S6);G(this,"subPriority",-1)}set(t,r){return r.timestampIsSet?t:be(t,D6(t,Date))}}class De{run(e,t,r,i){const o=this.parse(e,t,r,i);return o?{setter:new b6(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,r){return!0}}class C6 extends De{constructor(){super(...arguments);G(this,"priority",140);G(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,r,i){return r.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const lt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},_r={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ut(n,e){return n&&{value:e(n.value),rest:n.rest}}function Ke(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function wr(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,s=t[5]?parseInt(t[5],10):0;return{value:r*(i*em+o*Zp+s*XW),rest:e.slice(t[0].length)}}function HP(n){return Ke(lt.anyDigitsSigned,n)}function it(n,e){switch(n){case 1:return Ke(lt.singleDigit,e);case 2:return Ke(lt.twoDigits,e);case 3:return Ke(lt.threeDigits,e);case 4:return Ke(lt.fourDigits,e);default:return Ke(new RegExp("^\\d{1,"+n+"}"),e)}}function Hf(n,e){switch(n){case 1:return Ke(lt.singleDigitSigned,e);case 2:return Ke(lt.twoDigitsSigned,e);case 3:return Ke(lt.threeDigitsSigned,e);case 4:return Ke(lt.fourDigitsSigned,e);default:return Ke(new RegExp("^-?\\d{1,"+n+"}"),e)}}function $w(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function KP(n,e){const t=e>0,r=t?e:1-e;let i;if(r<=50)i=n||100;else{const o=r+50,s=Math.trunc(o/100)*100,a=n>=o%100;i=n+s-(a?100:0)}return t?i:1-i}function qP(n){return n%400===0||n%4===0&&n%100!==0}class x6 extends De{constructor(){super(...arguments);G(this,"priority",130);G(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,i){const o=s=>({year:s,isTwoDigitYear:r==="yy"});switch(r){case"y":return ut(it(4,t),o);case"yo":return ut(i.ordinalNumber(t,{unit:"year"}),o);default:return ut(it(r.length,t),o)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i){const o=t.getFullYear();if(i.isTwoDigitYear){const a=KP(i.year,o);return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}const s=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}class P6 extends De{constructor(){super(...arguments);G(this,"priority",130);G(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,i){const o=s=>({year:s,isTwoDigitYear:r==="YY"});switch(r){case"Y":return ut(it(4,t),o);case"Yo":return ut(i.ordinalNumber(t,{unit:"year"}),o);default:return ut(it(r.length,t),o)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i,o){const s=Vw(t,o);if(i.isTwoDigitYear){const l=KP(i.year,s);return t.setFullYear(l,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),yi(t,o)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(a,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),yi(t,o)}}class A6 extends De{constructor(){super(...arguments);G(this,"priority",130);G(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return Hf(r==="R"?4:r.length,t)}set(t,r,i){const o=be(t,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),ml(o)}}class R6 extends De{constructor(){super(...arguments);G(this,"priority",130);G(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return Hf(r==="u"?4:r.length,t)}set(t,r,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class N6 extends De{constructor(){super(...arguments);G(this,"priority",120);G(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"Q":case"QQ":return it(r.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class O6 extends De{constructor(){super(...arguments);G(this,"priority",120);G(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"q":case"qq":return it(r.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class M6 extends De{constructor(){super(...arguments);G(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);G(this,"priority",110)}parse(t,r,i){const o=s=>s-1;switch(r){case"M":return ut(Ke(lt.month,t),o);case"MM":return ut(it(2,t),o);case"Mo":return ut(i.ordinalNumber(t,{unit:"month"}),o);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class L6 extends De{constructor(){super(...arguments);G(this,"priority",110);G(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,i){const o=s=>s-1;switch(r){case"L":return ut(Ke(lt.month,t),o);case"LL":return ut(it(2,t),o);case"Lo":return ut(i.ordinalNumber(t,{unit:"month"}),o);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function V6(n,e,t){const r=X(n),i=FP(r,t)-e;return r.setDate(r.getDate()-i*7),r}class F6 extends De{constructor(){super(...arguments);G(this,"priority",100);G(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,i){switch(r){case"w":return Ke(lt.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return it(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i,o){return yi(V6(t,i,o),o)}}function j6(n,e){const t=X(n),r=Lw(t)-e;return t.setDate(t.getDate()-r*7),t}class $6 extends De{constructor(){super(...arguments);G(this,"priority",100);G(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,i){switch(r){case"I":return Ke(lt.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return it(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i){return ml(j6(t,i))}}const U6=[31,28,31,30,31,30,31,31,30,31,30,31],B6=[31,29,31,30,31,30,31,31,30,31,30,31];class W6 extends De{constructor(){super(...arguments);G(this,"priority",90);G(this,"subPriority",1);G(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"d":return Ke(lt.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return it(r.length,t)}}validate(t,r){const i=t.getFullYear(),o=qP(i),s=t.getMonth();return o?r>=1&&r<=B6[s]:r>=1&&r<=U6[s]}set(t,r,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class Y6 extends De{constructor(){super(...arguments);G(this,"priority",90);G(this,"subpriority",1);G(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,i){switch(r){case"D":case"DD":return Ke(lt.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return it(r.length,t)}}validate(t,r){const i=t.getFullYear();return qP(i)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function Uw(n,e,t){var h,p,m,v;const r=Ks(),i=(t==null?void 0:t.weekStartsOn)??((p=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((v=(m=r.locale)==null?void 0:m.options)==null?void 0:v.weekStartsOn)??0,o=X(n),s=o.getDay(),l=(e%7+7)%7,u=7-i,d=e<0||e>6?e-(s+u)%7:(l+u)%7-(s+u)%7;return Ro(o,d)}class z6 extends De{constructor(){super(...arguments);G(this,"priority",90);G(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,o){return t=Uw(t,i,o),t.setHours(0,0,0,0),t}}class H6 extends De{constructor(){super(...arguments);G(this,"priority",90);G(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,i,o){const s=a=>{const l=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return ut(it(r.length,t),s);case"eo":return ut(i.ordinalNumber(t,{unit:"day"}),s);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,o){return t=Uw(t,i,o),t.setHours(0,0,0,0),t}}class K6 extends De{constructor(){super(...arguments);G(this,"priority",90);G(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,i,o){const s=a=>{const l=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return ut(it(r.length,t),s);case"co":return ut(i.ordinalNumber(t,{unit:"day"}),s);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,o){return t=Uw(t,i,o),t.setHours(0,0,0,0),t}}function q6(n){let t=X(n).getDay();return t===0&&(t=7),t}function G6(n,e){const t=X(n),r=q6(t),i=e-r;return Ro(t,i)}class Q6 extends De{constructor(){super(...arguments);G(this,"priority",90);G(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,i){const o=s=>s===0?7:s;switch(r){case"i":case"ii":return it(r.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return ut(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o);case"iiiii":return ut(i.day(t,{width:"narrow",context:"formatting"}),o);case"iiiiii":return ut(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o);case"iiii":default:return ut(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o)}}validate(t,r){return r>=1&&r<=7}set(t,r,i){return t=G6(t,i),t.setHours(0,0,0,0),t}}class X6 extends De{constructor(){super(...arguments);G(this,"priority",80);G(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours($w(i),0,0,0),t}}class J6 extends De{constructor(){super(...arguments);G(this,"priority",80);G(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours($w(i),0,0,0),t}}class Z6 extends De{constructor(){super(...arguments);G(this,"priority",80);G(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours($w(i),0,0,0),t}}class e9 extends De{constructor(){super(...arguments);G(this,"priority",70);G(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,i){switch(r){case"h":return Ke(lt.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return it(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,i){const o=t.getHours()>=12;return o&&i<12?t.setHours(i+12,0,0,0):!o&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class t9 extends De{constructor(){super(...arguments);G(this,"priority",70);G(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,i){switch(r){case"H":return Ke(lt.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return it(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,i){return t.setHours(i,0,0,0),t}}class n9 extends De{constructor(){super(...arguments);G(this,"priority",70);G(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,i){switch(r){case"K":return Ke(lt.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return it(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class r9 extends De{constructor(){super(...arguments);G(this,"priority",70);G(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,i){switch(r){case"k":return Ke(lt.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return it(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,i){const o=i<=24?i%24:i;return t.setHours(o,0,0,0),t}}class i9 extends De{constructor(){super(...arguments);G(this,"priority",60);G(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"m":return Ke(lt.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return it(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setMinutes(i,0,0),t}}class o9 extends De{constructor(){super(...arguments);G(this,"priority",50);G(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"s":return Ke(lt.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return it(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setSeconds(i,0),t}}class s9 extends De{constructor(){super(...arguments);G(this,"priority",30);G(this,"incompatibleTokens",["t","T"])}parse(t,r){const i=o=>Math.trunc(o*Math.pow(10,-r.length+3));return ut(it(r.length,t),i)}set(t,r,i){return t.setMilliseconds(i),t}}class a9 extends De{constructor(){super(...arguments);G(this,"priority",10);G(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return wr(_r.basicOptionalMinutes,t);case"XX":return wr(_r.basic,t);case"XXXX":return wr(_r.basicOptionalSeconds,t);case"XXXXX":return wr(_r.extendedOptionalSeconds,t);case"XXX":default:return wr(_r.extended,t)}}set(t,r,i){return r.timestampIsSet?t:be(t,t.getTime()-$f(t)-i)}}class l9 extends De{constructor(){super(...arguments);G(this,"priority",10);G(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return wr(_r.basicOptionalMinutes,t);case"xx":return wr(_r.basic,t);case"xxxx":return wr(_r.basicOptionalSeconds,t);case"xxxxx":return wr(_r.extendedOptionalSeconds,t);case"xxx":default:return wr(_r.extended,t)}}set(t,r,i){return r.timestampIsSet?t:be(t,t.getTime()-$f(t)-i)}}class u9 extends De{constructor(){super(...arguments);G(this,"priority",40);G(this,"incompatibleTokens","*")}parse(t){return HP(t)}set(t,r,i){return[be(t,i*1e3),{timestampIsSet:!0}]}}class c9 extends De{constructor(){super(...arguments);G(this,"priority",20);G(this,"incompatibleTokens","*")}parse(t){return HP(t)}set(t,r,i){return[be(t,i),{timestampIsSet:!0}]}}const d9={G:new C6,y:new x6,Y:new P6,R:new A6,u:new R6,Q:new N6,q:new O6,M:new M6,L:new L6,w:new F6,I:new $6,d:new W6,D:new Y6,E:new z6,e:new H6,c:new K6,i:new Q6,a:new X6,b:new J6,B:new Z6,h:new e9,H:new t9,K:new n9,k:new r9,m:new i9,s:new o9,S:new s9,X:new a9,x:new l9,t:new u9,T:new c9},h9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,f9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,p9=/^'([^]*?)'?$/,m9=/''/g,g9=/\S/,y9=/[a-zA-Z]/;function dg(n,e,t,r){var w,D,_,y,T,P,M,L;const i=I6(),o=(r==null?void 0:r.locale)??i.locale??MP,s=(r==null?void 0:r.firstWeekContainsDate)??((D=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:D.firstWeekContainsDate)??i.firstWeekContainsDate??((y=(_=i.locale)==null?void 0:_.options)==null?void 0:y.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((P=(T=r==null?void 0:r.locale)==null?void 0:T.options)==null?void 0:P.weekStartsOn)??i.weekStartsOn??((L=(M=i.locale)==null?void 0:M.options)==null?void 0:L.weekStartsOn)??0;if(e==="")return n===""?X(t):be(t,NaN);const l={firstWeekContainsDate:s,weekStartsOn:a,locale:o},u=[new k6],d=e.match(f9).map(I=>{const E=I[0];if(E in Uf){const b=Uf[E];return b(I,o.formatLong)}return I}).join("").match(h9),h=[];for(let I of d){!(r!=null&&r.useAdditionalWeekYearTokens)&&UP(I)&&fv(I,e,n),!(r!=null&&r.useAdditionalDayOfYearTokens)&&$P(I)&&fv(I,e,n);const E=I[0],b=d9[E];if(b){const{incompatibleTokens:k}=b;if(Array.isArray(k)){const O=h.find(C=>k.includes(C.token)||C.token===E);if(O)throw new RangeError(`The format string mustn't contain \`${O.fullToken}\` and \`${I}\` at the same time`)}else if(b.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${I}\` and any other token at the same time`);h.push({token:E,fullToken:I});const A=b.run(n,I,o.match,l);if(!A)return be(t,NaN);u.push(A.setter),n=A.rest}else{if(E.match(y9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");if(I==="''"?I="'":E==="'"&&(I=v9(I)),n.indexOf(I)===0)n=n.slice(I.length);else return be(t,NaN)}}if(n.length>0&&g9.test(n))return be(t,NaN);const p=u.map(I=>I.priority).sort((I,E)=>E-I).filter((I,E,b)=>b.indexOf(I)===E).map(I=>u.filter(E=>E.priority===I).sort((E,b)=>b.subPriority-E.subPriority)).map(I=>I[0]);let m=X(t);if(isNaN(m.getTime()))return be(t,NaN);const v={};for(const I of p){if(!I.validate(m,l))return be(t,NaN);const E=I.set(m,v,l);Array.isArray(E)?(m=E[0],Object.assign(v,E[1])):m=E}return be(t,m)}function v9(n){return n.match(p9)[1].replace(m9,"'")}function _9(n,e){const r=I9(n);let i;if(r.date){const l=D9(r.date,2);i=S9(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const o=i.getTime();let s=0,a;if(r.time&&(s=b9(r.time),isNaN(s)))return new Date(NaN);if(r.timezone){if(a=k9(r.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(o+s),u=new Date(0);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return new Date(o+s+a)}const oh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},w9=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,E9=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,T9=/^([+-])(\d{2})(?::?(\d{2}))?$/;function I9(n){const e={},t=n.split(oh.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],oh.timeZoneDelimiter.test(e.date)&&(e.date=n.split(oh.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const i=oh.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function D9(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:n.slice((r[1]||r[2]).length)}}function S9(n,e){if(e===null)return new Date(NaN);const t=n.match(w9);if(!t)return new Date(NaN);const r=!!t[4],i=mu(t[1]),o=mu(t[2])-1,s=mu(t[3]),a=mu(t[4]),l=mu(t[5])-1;if(r)return R9(e,a,l)?C9(e,a,l):new Date(NaN);{const u=new Date(0);return!P9(e,o,s)||!A9(e,i)?new Date(NaN):(u.setUTCFullYear(e,o,Math.max(i,s)),u)}}function mu(n){return n?parseInt(n):1}function b9(n){const e=n.match(E9);if(!e)return NaN;const t=hg(e[1]),r=hg(e[2]),i=hg(e[3]);return N9(t,r,i)?t*em+r*Zp+i*1e3:NaN}function hg(n){return n&&parseFloat(n.replace(",","."))||0}function k9(n){if(n==="Z")return 0;const e=n.match(T9);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return O9(r,i)?t*(r*em+i*Zp):NaN}function C9(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const i=r.getUTCDay()||7,o=(e-1)*7+t+1-i;return r.setUTCDate(r.getUTCDate()+o),r}const x9=[31,null,31,30,31,30,31,31,30,31,30,31];function GP(n){return n%400===0||n%4===0&&n%100!==0}function P9(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(x9[e]||(GP(n)?29:28))}function A9(n,e){return e>=1&&e<=(GP(n)?366:365)}function R9(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function N9(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function O9(n,e){return e>=0&&e<=59}function M9(n,e){return Fw(n,e*1e3)}function L9(n,e){let t=X(n);return isNaN(+t)?be(n,NaN):(e.year!=null&&t.setFullYear(e.year),e.month!=null&&(t=Jt(t,e.month)),e.date!=null&&t.setDate(e.date),e.hours!=null&&t.setHours(e.hours),e.minutes!=null&&t.setMinutes(e.minutes),e.seconds!=null&&t.setSeconds(e.seconds),e.milliseconds!=null&&t.setMilliseconds(e.milliseconds),t)}function V9(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,vv(n,e)}function vv(n,e){return vv=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},vv(n,e)}function F9(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function fD(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function j9(n,e,t){return n===e?!0:n.correspondingElement?n.correspondingElement.classList.contains(t):n.classList.contains(t)}function $9(n,e,t){if(n===e)return!0;for(;n.parentNode||n.host;){if(n.parentNode&&j9(n,e,t))return!0;n=n.parentNode||n.host}return n}function U9(n){return document.documentElement.clientWidth<=n.clientX||document.documentElement.clientHeight<=n.clientY}var B9=function(){if(!(typeof window>"u"||typeof window.addEventListener!="function")){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),r=function(){};return window.addEventListener("testPassiveEventSupport",r,t),window.removeEventListener("testPassiveEventSupport",r,t),e}};function W9(n){return n===void 0&&(n=0),function(){return++n}}var Y9=W9(),_v,sh={},fg={},z9=["touchstart","touchmove"],H9="ignore-react-onclickoutside";function pD(n,e){var t={},r=z9.indexOf(e)!==-1;return r&&_v&&(t.passive=!n.props.preventDefault),t}function nm(n,e){var t,r,i=n.displayName||n.name||"Component";return r=t=function(o){V9(s,o);function s(l){var u;return u=o.call(this,l)||this,u.__outsideClickHandler=function(d){if(typeof u.__clickOutsideHandlerProp=="function"){u.__clickOutsideHandlerProp(d);return}var h=u.getInstance();if(typeof h.props.handleClickOutside=="function"){h.props.handleClickOutside(d);return}if(typeof h.handleClickOutside=="function"){h.handleClickOutside(d);return}throw new Error("WrappedComponent: "+i+" lacks a handleClickOutside(event) function for processing outside click events.")},u.__getComponentNode=function(){var d=u.getInstance();return typeof d.setClickOutsideRef=="function"?d.setClickOutsideRef():mp.findDOMNode(d)},u.enableOnClickOutside=function(){if(!(typeof document>"u"||fg[u._uid])){typeof _v>"u"&&(_v=B9()),fg[u._uid]=!0;var d=u.props.eventTypes;d.forEach||(d=[d]),sh[u._uid]=function(h){if(u.componentNode!==null&&!(u.initTimeStamp>h.timeStamp)&&(u.props.preventDefault&&h.preventDefault(),u.props.stopPropagation&&h.stopPropagation(),!(u.props.excludeScrollbar&&U9(h)))){var p=h.composed&&h.composedPath&&h.composedPath().shift()||h.target;$9(p,u.componentNode,u.props.outsideClickIgnoreClass)===document&&u.__outsideClickHandler(h)}},d.forEach(function(h){document.addEventListener(h,sh[u._uid],pD(fD(u),h))})}},u.disableOnClickOutside=function(){delete fg[u._uid];var d=sh[u._uid];if(d&&typeof document<"u"){var h=u.props.eventTypes;h.forEach||(h=[h]),h.forEach(function(p){return document.removeEventListener(p,d,pD(fD(u),p))}),delete sh[u._uid]}},u.getRef=function(d){return u.instanceRef=d},u._uid=Y9(),u.initTimeStamp=performance.now(),u}var a=s.prototype;return a.getInstance=function(){if(n.prototype&&!n.prototype.isReactComponent)return this;var u=this.instanceRef;return u.getInstance?u.getInstance():u},a.componentDidMount=function(){typeof document>"u"||!document.createElement||(this.getInstance(),this.componentNode=this.__getComponentNode(),!this.props.disableOnClickOutside&&this.enableOnClickOutside())},a.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},a.componentWillUnmount=function(){this.disableOnClickOutside()},a.render=function(){var u=this.props;u.excludeScrollbar;var d=F9(u,["excludeScrollbar"]);return n.prototype&&n.prototype.isReactComponent?d.ref=this.getRef:d.wrappedRef=this.getRef,d.disableOnClickOutside=this.disableOnClickOutside,d.enableOnClickOutside=this.enableOnClickOutside,N.createElement(n,d)},s}(N.Component),t.displayName="OnClickOutside("+i+")",t.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:!1,outsideClickIgnoreClass:H9,preventDefault:!1,stopPropagation:!1},t.getClass=function(){return n.getClass?n.getClass():n},r}function Rl(n){return QP(n)?(n.nodeName||"").toLowerCase():"#document"}function Pn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Ii(n){var e;return(e=(QP(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function QP(n){return n instanceof Node||n instanceof Pn(n).Node}function mn(n){return n instanceof Element||n instanceof Pn(n).Element}function Lr(n){return n instanceof HTMLElement||n instanceof Pn(n).HTMLElement}function mD(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Pn(n).ShadowRoot}function od(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=or(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function K9(n){return["table","td","th"].includes(Rl(n))}function Bw(n){const e=Ww(),t=or(n);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function q9(n){let e=_o(n);for(;Lr(e)&&!vl(e);){if(Bw(e))return e;e=_o(e)}return null}function Ww(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function vl(n){return["html","body","#document"].includes(Rl(n))}function or(n){return Pn(n).getComputedStyle(n)}function rm(n){return mn(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function _o(n){if(Rl(n)==="html")return n;const e=n.assignedSlot||n.parentNode||mD(n)&&n.host||Ii(n);return mD(e)?e.host:e}function XP(n){const e=_o(n);return vl(e)?n.ownerDocument?n.ownerDocument.body:n.body:Lr(e)&&od(e)?e:XP(e)}function Pc(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=XP(n),o=i===((r=n.ownerDocument)==null?void 0:r.body),s=Pn(i);return o?e.concat(s,s.visualViewport||[],od(i)?i:[],s.frameElement&&t?Pc(s.frameElement):[]):e.concat(i,Pc(i,[],t))}const _l=Math.min,gs=Math.max,Kf=Math.round,ah=Math.floor,wo=n=>({x:n,y:n}),G9={left:"right",right:"left",bottom:"top",top:"bottom"},Q9={start:"end",end:"start"};function X9(n,e,t){return gs(n,_l(e,t))}function im(n,e){return typeof n=="function"?n(e):n}function wl(n){return n.split("-")[0]}function sd(n){return n.split("-")[1]}function J9(n){return n==="x"?"y":"x"}function Yw(n){return n==="y"?"height":"width"}function zw(n){return["top","bottom"].includes(wl(n))?"y":"x"}function Hw(n){return J9(zw(n))}function Z9(n,e,t){t===void 0&&(t=!1);const r=sd(n),i=Hw(n),o=Yw(i);let s=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=qf(s)),[s,qf(s)]}function e5(n){const e=qf(n);return[wv(n),e,wv(e)]}function wv(n){return n.replace(/start|end/g,e=>Q9[e])}function t5(n,e,t){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function n5(n,e,t,r){const i=sd(n);let o=t5(wl(n),t==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(wv)))),o}function qf(n){return n.replace(/left|right|bottom|top/g,e=>G9[e])}function r5(n){return{top:0,right:0,bottom:0,left:0,...n}}function JP(n){return typeof n!="number"?r5(n):{top:n,right:n,bottom:n,left:n}}function Gf(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function gD(n,e,t){let{reference:r,floating:i}=n;const o=zw(e),s=Hw(e),a=Yw(s),l=wl(e),u=o==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(sd(e)){case"start":m[s]-=p*(t&&u?-1:1);break;case"end":m[s]+=p*(t&&u?-1:1);break}return m}const i5=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=t,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:n,floating:e,strategy:i}),{x:d,y:h}=gD(u,r,l),p=r,m={},v=0;for(let w=0;w<a.length;w++){const{name:D,fn:_}=a[w],{x:y,y:T,data:P,reset:M}=await _({x:d,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:u,platform:s,elements:{reference:n,floating:e}});d=y??d,h=T??h,m={...m,[D]:{...m[D],...P}},M&&v<=50&&(v++,typeof M=="object"&&(M.placement&&(p=M.placement),M.rects&&(u=M.rects===!0?await s.getElementRects({reference:n,floating:e,strategy:i}):M.rects),{x:d,y:h}=gD(u,p,l)),w=-1)}return{x:d,y:h,placement:p,strategy:i,middlewareData:m}};async function o5(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=n,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=im(e,n),v=JP(m),D=a[p?h==="floating"?"reference":"floating":h],_=Gf(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(D)))==null||t?D:D.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),y=h==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),P=await(o.isElement==null?void 0:o.isElement(T))?await(o.getScale==null?void 0:o.getScale(T))||{x:1,y:1}:{x:1,y:1},M=Gf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:T,strategy:l}):y);return{top:(_.top-M.top+v.top)/P.y,bottom:(M.bottom-_.bottom+v.bottom)/P.y,left:(_.left-M.left+v.left)/P.x,right:(M.right-_.right+v.right)/P.x}}const s5=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=im(n,e)||{};if(u==null)return{};const h=JP(d),p={x:t,y:r},m=Hw(i),v=Yw(m),w=await s.getDimensions(u),D=m==="y",_=D?"top":"left",y=D?"bottom":"right",T=D?"clientHeight":"clientWidth",P=o.reference[v]+o.reference[m]-p[m]-o.floating[v],M=p[m]-o.reference[m],L=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let I=L?L[T]:0;(!I||!await(s.isElement==null?void 0:s.isElement(L)))&&(I=a.floating[T]||o.floating[v]);const E=P/2-M/2,b=I/2-w[v]/2-1,k=_l(h[_],b),A=_l(h[y],b),O=k,C=I-w[v]-A,ee=I/2-w[v]/2+E,oe=X9(O,ee,C),ie=!l.arrow&&sd(i)!=null&&ee!==oe&&o.reference[v]/2-(ee<O?k:A)-w[v]/2<0,ne=ie?ee<O?ee-O:ee-C:0;return{[m]:p[m]+ne,data:{[m]:oe,centerOffset:ee-oe-ne,...ie&&{alignmentOffset:ne}},reset:ie}}}),a5=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:w=!0,...D}=im(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const _=wl(i),y=wl(a)===a,T=await(l.isRTL==null?void 0:l.isRTL(u.floating)),P=p||(y||!w?[qf(a)]:e5(a));!p&&v!=="none"&&P.push(...n5(a,w,v,T));const M=[a,...P],L=await o5(e,D),I=[];let E=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&I.push(L[_]),h){const O=Z9(i,s,T);I.push(L[O[0]],L[O[1]])}if(E=[...E,{placement:i,overflows:I}],!I.every(O=>O<=0)){var b,k;const O=(((b=o.flip)==null?void 0:b.index)||0)+1,C=M[O];if(C)return{data:{index:O,overflows:E},reset:{placement:C}};let ee=(k=E.filter(oe=>oe.overflows[0]<=0).sort((oe,ie)=>oe.overflows[1]-ie.overflows[1])[0])==null?void 0:k.placement;if(!ee)switch(m){case"bestFit":{var A;const oe=(A=E.map(ie=>[ie.placement,ie.overflows.filter(ne=>ne>0).reduce((ne,Y)=>ne+Y,0)]).sort((ie,ne)=>ie[1]-ne[1])[0])==null?void 0:A[0];oe&&(ee=oe);break}case"initialPlacement":ee=a;break}if(i!==ee)return{reset:{placement:ee}}}return{}}}};async function l5(n,e){const{placement:t,platform:r,elements:i}=n,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=wl(t),a=sd(t),l=zw(t)==="y",u=["left","top"].includes(s)?-1:1,d=o&&l?-1:1,h=im(e,n);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const u5=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await l5(e,n);return s===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}};function ZP(n){const e=or(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Lr(n),o=i?n.offsetWidth:t,s=i?n.offsetHeight:r,a=Kf(t)!==o||Kf(r)!==s;return a&&(t=o,r=s),{width:t,height:r,$:a}}function Kw(n){return mn(n)?n:n.contextElement}function za(n){const e=Kw(n);if(!Lr(e))return wo(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:o}=ZP(e);let s=(o?Kf(t.width):t.width)/r,a=(o?Kf(t.height):t.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const c5=wo(0);function eA(n){const e=Pn(n);return!Ww()||!e.visualViewport?c5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function d5(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Pn(n)?!1:e}function Fs(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),o=Kw(n);let s=wo(1);e&&(r?mn(r)&&(s=za(r)):s=za(n));const a=d5(o,t,r)?eA(o):wo(0);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,d=i.width/s.x,h=i.height/s.y;if(o){const p=Pn(o),m=r&&mn(r)?Pn(r):r;let v=p,w=v.frameElement;for(;w&&r&&m!==v;){const D=za(w),_=w.getBoundingClientRect(),y=or(w),T=_.left+(w.clientLeft+parseFloat(y.paddingLeft))*D.x,P=_.top+(w.clientTop+parseFloat(y.paddingTop))*D.y;l*=D.x,u*=D.y,d*=D.x,h*=D.y,l+=T,u+=P,v=Pn(w),w=v.frameElement}}return Gf({width:d,height:h,x:l,y:u})}const h5=[":popover-open",":modal"];function qw(n){return h5.some(e=>{try{return n.matches(e)}catch{return!1}})}function f5(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const o=i==="fixed",s=Ii(r),a=e?qw(e.floating):!1;if(r===s||a&&o)return t;let l={scrollLeft:0,scrollTop:0},u=wo(1);const d=wo(0),h=Lr(r);if((h||!h&&!o)&&((Rl(r)!=="body"||od(s))&&(l=rm(r)),Lr(r))){const p=Fs(r);u=za(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-l.scrollLeft*u.x+d.x,y:t.y*u.y-l.scrollTop*u.y+d.y}}function p5(n){return Array.from(n.getClientRects())}function tA(n){return Fs(Ii(n)).left+rm(n).scrollLeft}function m5(n){const e=Ii(n),t=rm(n),r=n.ownerDocument.body,i=gs(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=gs(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-t.scrollLeft+tA(n);const a=-t.scrollTop;return or(r).direction==="rtl"&&(s+=gs(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function g5(n,e){const t=Pn(n),r=Ii(n),i=t.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const u=Ww();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function y5(n,e){const t=Fs(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,o=Lr(n)?za(n):wo(1),s=n.clientWidth*o.x,a=n.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:s,height:a,x:l,y:u}}function yD(n,e,t){let r;if(e==="viewport")r=g5(n,t);else if(e==="document")r=m5(Ii(n));else if(mn(e))r=y5(e,t);else{const i=eA(n);r={...e,x:e.x-i.x,y:e.y-i.y}}return Gf(r)}function nA(n,e){const t=_o(n);return t===e||!mn(t)||vl(t)?!1:or(t).position==="fixed"||nA(t,e)}function v5(n,e){const t=e.get(n);if(t)return t;let r=Pc(n,[],!1).filter(a=>mn(a)&&Rl(a)!=="body"),i=null;const o=or(n).position==="fixed";let s=o?_o(n):n;for(;mn(s)&&!vl(s);){const a=or(s),l=Bw(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||od(s)&&!l&&nA(n,s))?r=r.filter(d=>d!==s):i=a,s=_o(s)}return e.set(n,r),r}function _5(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const s=[...t==="clippingAncestors"?qw(e)?[]:v5(e,this._c):[].concat(t),r],a=s[0],l=s.reduce((u,d)=>{const h=yD(e,d,i);return u.top=gs(h.top,u.top),u.right=_l(h.right,u.right),u.bottom=_l(h.bottom,u.bottom),u.left=gs(h.left,u.left),u},yD(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function w5(n){const{width:e,height:t}=ZP(n);return{width:e,height:t}}function E5(n,e,t){const r=Lr(e),i=Ii(e),o=t==="fixed",s=Fs(n,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=wo(0);if(r||!r&&!o)if((Rl(e)!=="body"||od(i))&&(a=rm(e)),r){const h=Fs(e,!0,o,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=tA(i));const u=s.left+a.scrollLeft-l.x,d=s.top+a.scrollTop-l.y;return{x:u,y:d,width:s.width,height:s.height}}function pg(n){return or(n).position==="static"}function vD(n,e){return!Lr(n)||or(n).position==="fixed"?null:e?e(n):n.offsetParent}function rA(n,e){const t=Pn(n);if(qw(n))return t;if(!Lr(n)){let i=_o(n);for(;i&&!vl(i);){if(mn(i)&&!pg(i))return i;i=_o(i)}return t}let r=vD(n,e);for(;r&&K9(r)&&pg(r);)r=vD(r,e);return r&&vl(r)&&pg(r)&&!Bw(r)?t:r||q9(n)||t}const T5=async function(n){const e=this.getOffsetParent||rA,t=this.getDimensions,r=await t(n.floating);return{reference:E5(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function I5(n){return or(n).direction==="rtl"}const iA={convertOffsetParentRelativeRectToViewportRelativeRect:f5,getDocumentElement:Ii,getClippingRect:_5,getOffsetParent:rA,getElementRects:T5,getClientRects:p5,getDimensions:w5,getScale:za,isElement:mn,isRTL:I5};function D5(n,e){let t=null,r;const i=Ii(n);function o(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:u,top:d,width:h,height:p}=n.getBoundingClientRect();if(a||e(),!h||!p)return;const m=ah(d),v=ah(i.clientWidth-(u+h)),w=ah(i.clientHeight-(d+p)),D=ah(u),y={rootMargin:-m+"px "+-v+"px "+-w+"px "+-D+"px",threshold:gs(0,_l(1,l))||1};let T=!0;function P(M){const L=M[0].intersectionRatio;if(L!==l){if(!T)return s();L?s(!1,L):r=setTimeout(()=>{s(!1,1e-7)},1e3)}T=!1}try{t=new IntersectionObserver(P,{...y,root:i.ownerDocument})}catch{t=new IntersectionObserver(P,y)}t.observe(n)}return s(!0),o}function S5(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Kw(n),d=i||o?[...u?Pc(u):[],...Pc(e)]:[];d.forEach(_=>{i&&_.addEventListener("scroll",t,{passive:!0}),o&&_.addEventListener("resize",t)});const h=u&&a?D5(u,t):null;let p=-1,m=null;s&&(m=new ResizeObserver(_=>{let[y]=_;y&&y.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=m)==null||T.observe(e)})),t()}),u&&!l&&m.observe(u),m.observe(e));let v,w=l?Fs(n):null;l&&D();function D(){const _=Fs(n);w&&(_.x!==w.x||_.y!==w.y||_.width!==w.width||_.height!==w.height)&&t(),w=_,v=requestAnimationFrame(D)}return t(),()=>{var _;d.forEach(y=>{i&&y.removeEventListener("scroll",t),o&&y.removeEventListener("resize",t)}),h==null||h(),(_=m)==null||_.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const b5=u5,k5=a5,_D=s5,C5=(n,e,t)=>{const r=new Map,i={platform:iA,...t},o={...i.platform,_c:r};return i5(n,e,{...i,platform:o})};var Bh=typeof document<"u"?N.useLayoutEffect:N.useEffect;function Qf(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Qf(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const o=i[r];if(!(o==="_owner"&&n.$$typeof)&&!Qf(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function oA(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function wD(n,e){const t=oA(n);return Math.round(e*t)/t}function ED(n){const e=N.useRef(n);return Bh(()=>{e.current=n}),e}function x5(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=n,[d,h]=N.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=N.useState(r);Qf(p,r)||m(r);const[v,w]=N.useState(null),[D,_]=N.useState(null),y=N.useCallback(ne=>{ne!==L.current&&(L.current=ne,w(ne))},[]),T=N.useCallback(ne=>{ne!==I.current&&(I.current=ne,_(ne))},[]),P=o||v,M=s||D,L=N.useRef(null),I=N.useRef(null),E=N.useRef(d),b=l!=null,k=ED(l),A=ED(i),O=N.useCallback(()=>{if(!L.current||!I.current)return;const ne={placement:e,strategy:t,middleware:p};A.current&&(ne.platform=A.current),C5(L.current,I.current,ne).then(Y=>{const K={...Y,isPositioned:!0};C.current&&!Qf(E.current,K)&&(E.current=K,mp.flushSync(()=>{h(K)}))})},[p,e,t,A]);Bh(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(ne=>({...ne,isPositioned:!1})))},[u]);const C=N.useRef(!1);Bh(()=>(C.current=!0,()=>{C.current=!1}),[]),Bh(()=>{if(P&&(L.current=P),M&&(I.current=M),P&&M){if(k.current)return k.current(P,M,O);O()}},[P,M,O,k,b]);const ee=N.useMemo(()=>({reference:L,floating:I,setReference:y,setFloating:T}),[y,T]),oe=N.useMemo(()=>({reference:P,floating:M}),[P,M]),ie=N.useMemo(()=>{const ne={position:t,left:0,top:0};if(!oe.floating)return ne;const Y=wD(oe.floating,d.x),K=wD(oe.floating,d.y);return a?{...ne,transform:"translate("+Y+"px, "+K+"px)",...oA(oe.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Y,top:K}},[t,a,oe.floating,d.x,d.y]);return N.useMemo(()=>({...d,update:O,refs:ee,elements:oe,floatingStyles:ie}),[d,O,ee,oe,ie])}const P5=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?_D({element:r.current,padding:i}).fn(t):{}:r?_D({element:r,padding:i}).fn(t):{}}}},A5=(n,e)=>({...b5(n),options:[n,e]}),R5=(n,e)=>({...k5(n),options:[n,e]}),N5=(n,e)=>({...P5(n),options:[n,e]}),sA={...tR},O5=sA.useInsertionEffect,M5=O5||(n=>n());function L5(n){const e=N.useRef(()=>{});return M5(()=>{e.current=n}),N.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var Ev=typeof document<"u"?N.useLayoutEffect:N.useEffect;function Tv(){return Tv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Tv.apply(this,arguments)}let TD=!1,V5=0;const ID=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+V5++;function F5(){const[n,e]=N.useState(()=>TD?ID():void 0);return Ev(()=>{n==null&&e(ID())},[]),N.useEffect(()=>{TD=!0},[]),n}const j5=sA.useId,aA=j5||F5,$5=N.forwardRef(function(e,t){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:o}},width:s=14,height:a=7,tipRadius:l=0,strokeWidth:u=0,staticOffset:d,stroke:h,d:p,style:{transform:m,...v}={},...w}=e,D=aA();if(!i)return null;const _=u*2,y=_/2,T=s/2*(l/-8+1),P=a/2*l/4,[M,L]=r.split("-"),I=iA.isRTL(i),E=!!p,b=M==="top"||M==="bottom",k=d&&L==="end"?"bottom":"top";let A=d&&L==="end"?"right":"left";d&&I&&(A=L==="end"?"left":"right");const O=(o==null?void 0:o.x)!=null?d||o.x:"",C=(o==null?void 0:o.y)!=null?d||o.y:"",ee=p||"M0,0"+(" H"+s)+(" L"+(s-T)+","+(a-P))+(" Q"+s/2+","+a+" "+T+","+(a-P))+" Z",oe={top:E?"rotate(180deg)":"",left:E?"rotate(90deg)":"rotate(-90deg)",bottom:E?"":"rotate(180deg)",right:E?"rotate(-90deg)":"rotate(90deg)"}[M];return N.createElement("svg",Tv({},w,{"aria-hidden":!0,ref:t,width:E?s:s+_,height:s,viewBox:"0 0 "+s+" "+(a>s?a:s),style:{position:"absolute",pointerEvents:"none",[A]:O,[k]:C,[M]:b||E?"100%":"calc(100% - "+_/2+"px)",transform:""+oe+(m??""),...v}}),_>0&&N.createElement("path",{clipPath:"url(#"+D+")",fill:"none",stroke:h,strokeWidth:_+(p?0:1),d:ee}),N.createElement("path",{stroke:_&&!p?w.fill:"none",d:ee}),N.createElement("clipPath",{id:D},N.createElement("rect",{x:-y,y:y*(E?-1:1),width:s+_,height:s})))});function U5(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(i=>i(t))},on(e,t){n.set(e,[...n.get(e)||[],t])},off(e,t){var r;n.set(e,((r=n.get(e))==null?void 0:r.filter(i=>i!==t))||[])}}}const B5=N.createContext(null),W5=N.createContext(null),Y5=()=>{var n;return((n=N.useContext(B5))==null?void 0:n.id)||null},z5=()=>N.useContext(W5);function H5(n){const{open:e=!1,onOpenChange:t,elements:r}=n,i=aA(),o=N.useRef({}),[s]=N.useState(()=>U5()),a=Y5()!=null,[l,u]=N.useState(r.reference),d=L5((m,v,w)=>{o.current.openEvent=m?v:void 0,s.emit("openchange",{open:m,event:v,reason:w,nested:a}),t==null||t(m,v,w)}),h=N.useMemo(()=>({setPositionReference:u}),[]),p=N.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return N.useMemo(()=>({dataRef:o,open:e,onOpenChange:d,elements:p,events:s,floatingId:i,refs:h}),[e,d,p,s,i,h])}function K5(n){n===void 0&&(n={});const{nodeId:e}=n,t=H5({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,i=r.elements,[o,s]=N.useState(null),[a,l]=N.useState(null),d=(i==null?void 0:i.reference)||o,h=N.useRef(null),p=z5();Ev(()=>{d&&(h.current=d)},[d]);const m=x5({...n,elements:{...i,...a&&{reference:a}}}),v=N.useCallback(T=>{const P=mn(T)?{getBoundingClientRect:()=>T.getBoundingClientRect(),contextElement:T}:T;l(P),m.refs.setReference(P)},[m.refs]),w=N.useCallback(T=>{(mn(T)||T===null)&&(h.current=T,s(T)),(mn(m.refs.reference.current)||m.refs.reference.current===null||T!==null&&!mn(T))&&m.refs.setReference(T)},[m.refs]),D=N.useMemo(()=>({...m.refs,setReference:w,setPositionReference:v,domReference:h}),[m.refs,w,v]),_=N.useMemo(()=>({...m.elements,domReference:d}),[m.elements,d]),y=N.useMemo(()=>({...m,...r,refs:D,elements:_,nodeId:e}),[m,D,_,e,r]);return Ev(()=>{r.dataRef.current.floatingContext=y;const T=p==null?void 0:p.nodesRef.current.find(P=>P.id===e);T&&(T.context=y)}),N.useMemo(()=>({...m,context:y,refs:D,elements:_}),[m,D,_,y])}/*!
  react-datepicker v6.9.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/function Ct(n,e,t){return e=Xf(e),Q5(n,lA()?Reflect.construct(e,t||[],Xf(n).constructor):e.apply(n,t))}function lA(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lA=function(){return!!n})()}function DD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Qr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DD(Object(t),!0).forEach(function(r){x(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):DD(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function q5(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function uA(n){var e=q5(n,"string");return typeof e=="symbol"?e:e+""}function Iv(n){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iv(n)}function xt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function SD(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,uA(r.key),r)}}function Pt(n,e,t){return e&&SD(n.prototype,e),t&&SD(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function x(n,e,t){return e=uA(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ac(){return Ac=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ac.apply(this,arguments)}function At(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Dv(n,e)}function Xf(n){return Xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xf(n)}function Dv(n,e){return Dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Dv(n,e)}function G5(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Q5(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G5(n)}function Eo(n){return X5(n)||J5(n)||Z5(n)||eY()}function X5(n){if(Array.isArray(n))return Sv(n)}function J5(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Z5(n,e){if(n){if(typeof n=="string")return Sv(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Sv(n,e)}}function Sv(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function eY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ad=12,tY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Ce(n){var e=n?typeof n=="string"||n instanceof String?_9(n):X(n):new Date;return Oi(e)?e:null}function nY(n,e,t,r,i){var o=null,s=uo(t)||uo(ys()),a=!0;return Array.isArray(e)?(e.forEach(function(l){var u=dg(n,l,new Date,{locale:s,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(a=Oi(u,i)&&n===$e(u,l,t)),Oi(u,i)&&a&&(o=u)}),o):(o=dg(n,e,new Date,{locale:s,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r?a=Oi(o)&&n===$e(o,e,t):Oi(o)||(e=e.match(tY).map(function(l){var u=l[0];if(u==="p"||u==="P"){var d=Uf[u];return s?d(l,s.formatLong):u}return l}).join(""),n.length>0&&(o=dg(n,e.slice(0,n.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Oi(o)||(o=new Date(n))),Oi(o)&&a?o:null)}function Oi(n,e){return e=e||new Date("1/1/1000"),kc(n)&&!Vs(n,e)}function $e(n,e,t){if(t==="en")return lD(n,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=uo(t);return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),!r&&ys()&&uo(ys())&&(r=uo(ys())),lD(n,e,{locale:r||null,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Vn(n,e){var t=e.dateFormat,r=e.locale;return n&&$e(n,Array.isArray(t)?t[0]:t,r)||""}function rY(n,e,t){if(!n)return"";var r=Vn(n,t),i=e?Vn(e,t):"";return"".concat(r," - ").concat(i)}function iY(n,e){if(!(n!=null&&n.length))return"";var t=Vn(n[0],e);if(n.length===1)return t;if(n.length===2){var r=Vn(n[1],e);return"".concat(t,", ").concat(r)}var i=n.length-1;return"".concat(t," (+").concat(i,")")}function mg(n,e){var t=e.hour,r=t===void 0?0:t,i=e.minute,o=i===void 0?0:i,s=e.second,a=s===void 0?0:s;return Uh($h(jh(n,a),o),r)}function oY(n,e){return ys()&&uo(ys()),Lw(n)}function sY(n,e){return $e(n,"ddd",e)}function aY(n){return Rr(n)}function ao(n,e,t){var r=uo(e||ys());return yi(n,{locale:r,weekStartsOn:t})}function lo(n){return WP(n)}function xu(n){return tm(n)}function bD(n){return gv(n)}function kD(){return Rr(Ce())}function lY(n){return g6(n)}function yr(n,e){return n&&e?E6(n,e):!n&&!e}function bn(n,e){return n&&e?w6(n,e):!n&&!e}function Jf(n,e){return n&&e?T6(n,e):!n&&!e}function Ie(n,e){return n&&e?_6(n,e):!n&&!e}function ls(n,e){return n&&e?v6(n,e):!n&&!e}function Pu(n,e,t){var r,i=Rr(e),o=yv(t);try{r=xc(n,{start:i,end:o})}catch{r=!1}return r}function ys(){var n=typeof window<"u"?window:globalThis;return n.__localeId__}function uo(n){if(typeof n=="string"){var e=typeof window<"u"?window:globalThis;return e.__localeData__?e.__localeData__[n]:null}else return n}function uY(n,e,t){return e($e(n,"EEEE",t))}function cY(n,e){return $e(n,"EEEEEE",e)}function dY(n,e){return $e(n,"EEE",e)}function Gw(n,e){return $e(Jt(Ce(),n),"LLLL",e)}function cA(n,e){return $e(Jt(Ce(),n),"LLL",e)}function hY(n,e){return $e(pa(Ce(),n),"QQQ",e)}function om(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.minDate,r=e.maxDate,i=e.excludeDates,o=e.excludeDateIntervals,s=e.includeDates,a=e.includeDateIntervals,l=e.filterDate;return sm(n,{minDate:t,maxDate:r})||i&&i.some(function(u){return Ie(n,u.date?u.date:u)})||o&&o.some(function(u){var d=u.start,h=u.end;return xc(n,{start:d,end:h})})||s&&!s.some(function(u){return Ie(n,u)})||a&&!a.some(function(u){var d=u.start,h=u.end;return xc(n,{start:d,end:h})})||l&&!l(Ce(n))||!1}function Qw(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.excludeDates,r=e.excludeDateIntervals;return r&&r.length>0?r.some(function(i){var o=i.start,s=i.end;return xc(n,{start:o,end:s})}):t&&t.some(function(i){return Ie(n,i.date?i.date:i)})||!1}function Wh(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.minDate,r=e.maxDate,i=e.excludeDates,o=e.includeDates,s=e.filterDate;return sm(n,{minDate:WP(t),maxDate:y6(r)})||i&&i.some(function(a){return bn(n,a)})||o&&!o.some(function(a){return bn(n,a)})||s&&!s(Ce(n))||!1}function lh(n,e,t,r){var i=fe(n),o=tn(n),s=fe(e),a=tn(e),l=fe(r);if(i===s&&i===l)return o<=t&&t<=a;if(i<s)return l===i&&o<=t||l===s&&a>=t||l<s&&l>i}function gg(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.minDate,r=e.maxDate,i=e.excludeDates,o=e.includeDates,s=e.filterDate;return sm(n,{minDate:t,maxDate:r})||i&&i.some(function(a){return Jf(n,a)})||o&&!o.some(function(a){return Jf(n,a)})||s&&!s(Ce(n))||!1}function uh(n,e,t){if(!kc(e)||!kc(t))return!1;var r=fe(e),i=fe(t);return r<=n&&i>=n}function dA(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.minDate,r=e.maxDate,i=e.excludeDates,o=e.includeDates,s=e.filterDate,a=new Date(n,0,1);return sm(a,{minDate:tm(t),maxDate:YP(r)})||i&&i.some(function(l){return yr(a,l)})||o&&!o.some(function(l){return yr(a,l)})||s&&!s(Ce(a))||!1}function ch(n,e,t,r){var i=fe(n),o=ms(n),s=fe(e),a=ms(e),l=fe(r);if(i===s&&i===l)return o<=t&&t<=a;if(i<s)return l===i&&o<=t||l===s&&a>=t||l<s&&l>i}function sm(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.minDate,r=e.maxDate;return t&&Cc(n,t)<0||r&&Cc(n,r)>0}function CD(n,e){return e.some(function(t){return Or(t)===Or(n)&&Nr(t)===Nr(n)&&ai(t)===ai(n)})}function xD(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.excludeTimes,r=e.includeTimes,i=e.filterTime;return t&&CD(n,t)||r&&!CD(n,r)||i&&!i(n)||!1}function PD(n,e){var t=e.minTime,r=e.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var i=Ce();i=Uh(i,Or(n)),i=$h(i,Nr(n)),i=jh(i,ai(n));var o=Ce();o=Uh(o,Or(t)),o=$h(o,Nr(t)),o=jh(o,ai(t));var s=Ce();s=Uh(s,Or(r)),s=$h(s,Nr(r)),s=jh(s,ai(r));var a;try{a=!xc(i,{start:o,end:s})}catch{a=!1}return a}function AD(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.minDate,r=e.includeDates,i=gl(n,1);return t&&Wf(t,i)>0||r&&r.every(function(o){return Wf(o,i)>0})||!1}function RD(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.maxDate,r=e.includeDates,i=ir(n,1);return t&&Wf(i,t)>0||r&&r.every(function(o){return Wf(i,o)>0})||!1}function fY(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.minDate,r=e.includeDates,i=tm(n),o=BP(i,1);return t&&zf(t,o)>0||r&&r.every(function(s){return zf(s,o)>0})||!1}function pY(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.maxDate,r=e.includeDates,i=YP(n),o=jw(i,1);return t&&zf(o,t)>0||r&&r.every(function(s){return zf(o,s)>0})||!1}function ND(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.minDate,r=e.includeDates,i=yl(n,1);return t&&Yf(t,i)>0||r&&r.every(function(o){return Yf(o,i)>0})||!1}function mY(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.minDate,r=e.yearItemNumber,i=r===void 0?ad:r,o=xu(yl(n,i)),s=Ki(o,i),a=s.endPeriod,l=t&&fe(t);return l&&l>a||!1}function OD(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.maxDate,r=e.includeDates,i=si(n,1);return t&&Yf(i,t)>0||r&&r.every(function(o){return Yf(i,o)>0})||!1}function gY(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.maxDate,r=e.yearItemNumber,i=r===void 0?ad:r,o=si(n,i),s=Ki(o,i),a=s.startPeriod,l=t&&fe(t);return l&&l<a||!1}function hA(n){var e=n.minDate,t=n.includeDates;if(t&&e){var r=t.filter(function(i){return Cc(i,e)>=0});return dD(r)}else return t?dD(t):e}function fA(n){var e=n.maxDate,t=n.includeDates;if(t&&e){var r=t.filter(function(i){return Cc(i,e)<=0});return hD(r)}else return t?hD(t):e}function MD(){for(var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--highlighted",t=new Map,r=0,i=n.length;r<i;r++){var o=n[r];if(Ls(o)){var s=$e(o,"MM.dd.yyyy"),a=t.get(s)||[];a.includes(e)||(a.push(e),t.set(s,a))}else if(Iv(o)==="object"){var l=Object.keys(o),u=l[0],d=o[l[0]];if(typeof u=="string"&&d.constructor===Array)for(var h=0,p=d.length;h<p;h++){var m=$e(d[h],"MM.dd.yyyy"),v=t.get(m)||[];v.includes(u)||(v.push(u),t.set(m,v))}}}return t}function yY(n,e){return n.length!==e.length?!1:n.every(function(t,r){return t===e[r]})}function vY(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--holidays",t=new Map;return n.forEach(function(r){var i=r.date,o=r.holidayName;if(Ls(i)){var s=$e(i,"MM.dd.yyyy"),a=t.get(s)||{};if(!("className"in a&&a.className===e&&yY(a.holidayNames,[o]))){a.className=e;var l=a.holidayNames;a.holidayNames=l?[].concat(Eo(l),[o]):[o],t.set(s,a)}}}),t}function _Y(n,e,t,r,i){for(var o=i.length,s=[],a=0;a<o;a++){var l=n;l=h6(l,Or(i[a])),l=pv(l,Nr(i[a])),l=M9(l,ai(i[a]));var u=pv(n,(t+1)*r);vo(l,e)&&Vs(l,u)&&s.push(i[a])}return s}function LD(n){return n<10?"0".concat(n):"".concat(n)}function Ki(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ad,t=Math.ceil(fe(n)/e)*e,r=t-(e-1);return{startPeriod:r,endPeriod:t}}function wY(n){var e=new Date(n.getFullYear(),n.getMonth(),n.getDate()),t=new Date(n.getFullYear(),n.getMonth(),n.getDate(),24);return Math.round((+t-+e)/36e5)}function VD(n){var e=n.getSeconds(),t=n.getMilliseconds();return X(n.getTime()-e*1e3-t)}function EY(n,e){return VD(n).getTime()===VD(e).getTime()}function FD(n){if(!Ls(n))throw new Error("Invalid date");var e=new Date(n);return e.setHours(0,0,0,0),e}function jD(n,e){if(!Ls(n)||!Ls(e))throw new Error("Invalid date received");var t=FD(n),r=FD(e);return Vs(t,r)}function pA(n){var e=" ";return n.key===e}function TY(n,e,t,r){for(var i=[],o=0;o<2*e+1;o++){var s=n+e-o,a=!0;t&&(a=fe(t)<=s),r&&a&&(a=fe(r)>=s),a&&i.push(s)}return i}var IY=function(n){function e(t){var r;xt(this,e),r=Ct(this,e,[t]),x(r,"renderOptions",function(){var a=r.props.year,l=r.state.yearsList.map(function(h){return F.createElement("div",{className:a===h?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:h,onClick:r.onChange.bind(r,h),"aria-selected":a===h?"true":void 0},a===h?F.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",h)}),u=r.props.minDate?fe(r.props.minDate):null,d=r.props.maxDate?fe(r.props.maxDate):null;return(!d||!r.state.yearsList.find(function(h){return h===d}))&&l.unshift(F.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},F.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!r.state.yearsList.find(function(h){return h===u}))&&l.push(F.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},F.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l}),x(r,"onChange",function(a){r.props.onChange(a)}),x(r,"handleClickOutside",function(){r.props.onCancel()}),x(r,"shiftYears",function(a){var l=r.state.yearsList.map(function(u){return u+a});r.setState({yearsList:l})}),x(r,"incrementYears",function(){return r.shiftYears(1)}),x(r,"decrementYears",function(){return r.shiftYears(-1)});var i=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,s=i||(o?10:5);return r.state={yearsList:TY(r.props.year,s,r.props.minDate,r.props.maxDate)},r.dropdownRef=N.createRef(),r}return At(e,n),Pt(e,[{key:"componentDidMount",value:function(){var r=this.dropdownRef.current;if(r){var i=r.children?Array.from(r.children):null,o=i?i.find(function(s){return s.ariaSelected}):null;r.scrollTop=o?o.offsetTop+(o.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}}},{key:"render",value:function(){var r=ct({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return F.createElement("div",{className:r,ref:this.dropdownRef},this.renderOptions())}}])}(F.Component),DY=nm(IY),SY=function(n){function e(){var t;xt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=Ct(this,e,[].concat(i)),x(t,"state",{dropdownVisible:!1}),x(t,"renderSelectOptions",function(){for(var s=t.props.minDate?fe(t.props.minDate):1900,a=t.props.maxDate?fe(t.props.maxDate):2100,l=[],u=s;u<=a;u++)l.push(F.createElement("option",{key:u,value:u},u));return l}),x(t,"onSelectChange",function(s){t.onChange(s.target.value)}),x(t,"renderSelectMode",function(){return F.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())}),x(t,"renderReadView",function(s){return F.createElement("div",{key:"read",style:{visibility:s?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(l){return t.toggleDropdown(l)}},F.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),F.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))}),x(t,"renderDropdown",function(){return F.createElement(DY,{key:"dropdown",year:t.props.year,onChange:t.onChange,onCancel:t.toggleDropdown,minDate:t.props.minDate,maxDate:t.props.maxDate,scrollableYearDropdown:t.props.scrollableYearDropdown,yearDropdownItemNumber:t.props.yearDropdownItemNumber})}),x(t,"renderScrollMode",function(){var s=t.state.dropdownVisible,a=[t.renderReadView(!s)];return s&&a.unshift(t.renderDropdown()),a}),x(t,"onChange",function(s){t.toggleDropdown(),s!==t.props.year&&t.props.onChange(s)}),x(t,"toggleDropdown",function(s){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,s)})}),x(t,"handleYearChange",function(s,a){t.onSelect(s,a),t.setOpen()}),x(t,"onSelect",function(s,a){t.props.onSelect&&t.props.onSelect(s,a)}),x(t,"setOpen",function(){t.props.setOpen&&t.props.setOpen(!0)}),t}return At(e,n),Pt(e,[{key:"render",value:function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return F.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)}}])}(F.Component),bY=function(n){function e(){var t;xt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=Ct(this,e,[].concat(i)),x(t,"isSelectedMonth",function(s){return t.props.month===s}),x(t,"renderOptions",function(){return t.props.monthNames.map(function(s,a){return F.createElement("div",{className:t.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:s,onClick:t.onChange.bind(t,a),"aria-selected":t.isSelectedMonth(a)?"true":void 0},t.isSelectedMonth(a)?F.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",s)})}),x(t,"onChange",function(s){return t.props.onChange(s)}),x(t,"handleClickOutside",function(){return t.props.onCancel()}),t}return At(e,n),Pt(e,[{key:"render",value:function(){return F.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}])}(F.Component),kY=nm(bY),CY=function(n){function e(){var t;xt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=Ct(this,e,[].concat(i)),x(t,"state",{dropdownVisible:!1}),x(t,"renderSelectOptions",function(s){return s.map(function(a,l){return F.createElement("option",{key:l,value:l},a)})}),x(t,"renderSelectMode",function(s){return F.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(l){return t.onChange(l.target.value)}},t.renderSelectOptions(s))}),x(t,"renderReadView",function(s,a){return F.createElement("div",{key:"read",style:{visibility:s?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},F.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),F.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[t.props.month]))}),x(t,"renderDropdown",function(s){return F.createElement(kY,{key:"dropdown",month:t.props.month,monthNames:s,onChange:t.onChange,onCancel:t.toggleDropdown})}),x(t,"renderScrollMode",function(s){var a=t.state.dropdownVisible,l=[t.renderReadView(!a,s)];return a&&l.unshift(t.renderDropdown(s)),l}),x(t,"onChange",function(s){t.toggleDropdown(),s!==t.props.month&&t.props.onChange(s)}),x(t,"toggleDropdown",function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})}),t}return At(e,n),Pt(e,[{key:"render",value:function(){var r=this,i=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return cA(s,r.props.locale)}:function(s){return Gw(s,r.props.locale)}),o;switch(this.props.dropdownMode){case"scroll":o=this.renderScrollMode(i);break;case"select":o=this.renderSelectMode(i);break}return F.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},o)}}])}(F.Component);function xY(n,e){for(var t=[],r=lo(n),i=lo(e);!vo(r,i);)t.push(Ce(r)),r=ir(r,1);return t}var PY=function(n){function e(t){var r;return xt(this,e),r=Ct(this,e,[t]),x(r,"renderOptions",function(){return r.state.monthYearsList.map(function(i){var o=mv(i),s=yr(r.props.date,i)&&bn(r.props.date,i);return F.createElement("div",{className:s?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:r.onChange.bind(r,o),"aria-selected":s?"true":void 0},s?F.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",$e(i,r.props.dateFormat,r.props.locale))})}),x(r,"onChange",function(i){return r.props.onChange(i)}),x(r,"handleClickOutside",function(){r.props.onCancel()}),r.state={monthYearsList:xY(r.props.minDate,r.props.maxDate)},r}return At(e,n),Pt(e,[{key:"render",value:function(){var r=ct({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return F.createElement("div",{className:r},this.renderOptions())}}])}(F.Component),AY=nm(PY),RY=function(n){function e(){var t;xt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=Ct(this,e,[].concat(i)),x(t,"state",{dropdownVisible:!1}),x(t,"renderSelectOptions",function(){for(var s=lo(t.props.minDate),a=lo(t.props.maxDate),l=[];!vo(s,a);){var u=mv(s);l.push(F.createElement("option",{key:u,value:u},$e(s,t.props.dateFormat,t.props.locale))),s=ir(s,1)}return l}),x(t,"onSelectChange",function(s){t.onChange(s.target.value)}),x(t,"renderSelectMode",function(){return F.createElement("select",{value:mv(lo(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())}),x(t,"renderReadView",function(s){var a=$e(t.props.date,t.props.dateFormat,t.props.locale);return F.createElement("div",{key:"read",style:{visibility:s?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(u){return t.toggleDropdown(u)}},F.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),F.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))}),x(t,"renderDropdown",function(){return F.createElement(AY,{key:"dropdown",date:t.props.date,dateFormat:t.props.dateFormat,onChange:t.onChange,onCancel:t.toggleDropdown,minDate:t.props.minDate,maxDate:t.props.maxDate,scrollableMonthYearDropdown:t.props.scrollableMonthYearDropdown,locale:t.props.locale})}),x(t,"renderScrollMode",function(){var s=t.state.dropdownVisible,a=[t.renderReadView(!s)];return s&&a.unshift(t.renderDropdown()),a}),x(t,"onChange",function(s){t.toggleDropdown();var a=Ce(parseInt(s));yr(t.props.date,a)&&bn(t.props.date,a)||t.props.onChange(a)}),x(t,"toggleDropdown",function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})}),t}return At(e,n),Pt(e,[{key:"render",value:function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return F.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)}}])}(F.Component),NY=function(n){function e(){var t;xt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=Ct(this,e,[].concat(i)),x(t,"dayEl",F.createRef()),x(t,"handleClick",function(s){!t.isDisabled()&&t.props.onClick&&t.props.onClick(s)}),x(t,"handleMouseEnter",function(s){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(s)}),x(t,"handleOnKeyDown",function(s){var a=s.key;a===" "&&(s.preventDefault(),s.key="Enter"),t.props.handleOnKeyDown(s)}),x(t,"isSameDay",function(s){return Ie(t.props.day,s)}),x(t,"isKeyboardSelected",function(){var s;if(t.props.disabledKeyboardNavigation)return!1;var a=t.props.selectsMultiple?(s=t.props.selectedDates)===null||s===void 0?void 0:s.some(function(l){return t.isSameDayOrWeek(l)}):t.isSameDayOrWeek(t.props.selected);return!a&&t.isSameDayOrWeek(t.props.preSelection)}),x(t,"isDisabled",function(){return om(t.props.day,t.props)}),x(t,"isExcluded",function(){return Qw(t.props.day,t.props)}),x(t,"isStartOfWeek",function(){return Ie(t.props.day,ao(t.props.day,t.props.locale,t.props.calendarStartDay))}),x(t,"isSameWeek",function(s){return t.props.showWeekPicker&&Ie(s,ao(t.props.day,t.props.locale,t.props.calendarStartDay))}),x(t,"isSameDayOrWeek",function(s){return t.isSameDay(s)||t.isSameWeek(s)}),x(t,"getHighLightedClass",function(){var s=t.props,a=s.day,l=s.highlightDates;if(!l)return!1;var u=$e(a,"MM.dd.yyyy");return l.get(u)}),x(t,"getHolidaysClass",function(){var s=t.props,a=s.day,l=s.holidays;if(!l)return!1;var u=$e(a,"MM.dd.yyyy");if(l.has(u))return[l.get(u).className]}),x(t,"isInRange",function(){var s=t.props,a=s.day,l=s.startDate,u=s.endDate;return!l||!u?!1:Pu(a,l,u)}),x(t,"isInSelectingRange",function(){var s,a=t.props,l=a.day,u=a.selectsStart,d=a.selectsEnd,h=a.selectsRange,p=a.selectsDisabledDaysInRange,m=a.startDate,v=a.endDate,w=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(u||d||h)||!w||!p&&t.isDisabled()?!1:u&&v&&(Vs(w,v)||ls(w,v))?Pu(l,w,v):d&&m&&(vo(w,m)||ls(w,m))||h&&m&&!v&&(vo(w,m)||ls(w,m))?Pu(l,m,w):!1}),x(t,"isSelectingRangeStart",function(){var s;if(!t.isInSelectingRange())return!1;var a=t.props,l=a.day,u=a.startDate,d=a.selectsStart,h=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return d?Ie(l,h):Ie(l,u)}),x(t,"isSelectingRangeEnd",function(){var s;if(!t.isInSelectingRange())return!1;var a=t.props,l=a.day,u=a.endDate,d=a.selectsEnd,h=a.selectsRange,p=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return d||h?Ie(l,p):Ie(l,u)}),x(t,"isRangeStart",function(){var s=t.props,a=s.day,l=s.startDate,u=s.endDate;return!l||!u?!1:Ie(l,a)}),x(t,"isRangeEnd",function(){var s=t.props,a=s.day,l=s.startDate,u=s.endDate;return!l||!u?!1:Ie(u,a)}),x(t,"isWeekend",function(){var s=p6(t.props.day);return s===0||s===6}),x(t,"isAfterMonth",function(){return t.props.month!==void 0&&(t.props.month+1)%12===tn(t.props.day)}),x(t,"isBeforeMonth",function(){return t.props.month!==void 0&&(tn(t.props.day)+1)%12===t.props.month}),x(t,"isCurrentDay",function(){return t.isSameDay(Ce())}),x(t,"isSelected",function(){if(t.props.selectsMultiple){var s;return(s=t.props.selectedDates)===null||s===void 0?void 0:s.some(function(a){return t.isSameDayOrWeek(a)})}return t.isSameDayOrWeek(t.props.selected)}),x(t,"getClassNames",function(s){var a=t.props.dayClassName?t.props.dayClassName(s):void 0;return ct("react-datepicker__day",a,"react-datepicker__day--"+sY(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass("react-datepicker__day--highlighted"),t.getHolidaysClass())}),x(t,"getAriaLabel",function(){var s=t.props,a=s.day,l=s.ariaLabelPrefixWhenEnabled,u=l===void 0?"Choose":l,d=s.ariaLabelPrefixWhenDisabled,h=d===void 0?"Not available":d,p=t.isDisabled()||t.isExcluded()?h:u;return"".concat(p," ").concat($e(a,"PPPP",t.props.locale))}),x(t,"getTitle",function(){var s=t.props,a=s.day,l=s.holidays,u=l===void 0?new Map:l,d=s.excludeDates,h=$e(a,"MM.dd.yyyy"),p=[];return u.has(h)&&p.push.apply(p,Eo(u.get(h).holidayNames)),t.isExcluded()&&p.push(d==null?void 0:d.filter(function(m){return Ie(m.date?m.date:m,a)}).map(function(m){return m.message})),p.join(", ")}),x(t,"getTabIndex",function(s,a){var l=s||t.props.selected,u=a||t.props.preSelection,d=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(l)&&Ie(u,l))?0:-1;return d}),x(t,"handleFocusDay",function(){var s,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=!1;t.getTabIndex()===0&&!a.isInputFocused&&t.isSameDay(t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(l=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(l=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(l=!0),t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()&&(l=!1),t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()&&(l=!1)),l&&((s=t.dayEl.current)===null||s===void 0||s.focus({preventScroll:!0}))}),x(t,"renderDayContents",function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(cD(t.props.day),t.props.day):cD(t.props.day)}),x(t,"render",function(){return F.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&F.createElement("span",{className:"overlay"},t.getTitle()))}),t}return At(e,n),Pt(e,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(r){this.handleFocusDay(r)}}])}(F.Component),OY=function(n){function e(){var t;xt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=Ct(this,e,[].concat(i)),x(t,"weekNumberEl",F.createRef()),x(t,"handleClick",function(s){t.props.onClick&&t.props.onClick(s)}),x(t,"handleOnKeyDown",function(s){var a=s.key;a===" "&&(s.preventDefault(),s.key="Enter"),t.props.handleOnKeyDown(s)}),x(t,"isKeyboardSelected",function(){return!t.props.disabledKeyboardNavigation&&!Ie(t.props.date,t.props.selected)&&Ie(t.props.date,t.props.preSelection)}),x(t,"getTabIndex",function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Ie(t.props.date,t.props.selected)&&Ie(t.props.preSelection,t.props.selected))?0:-1}),x(t,"handleFocusWeekNumber",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=!1;t.getTabIndex()===0&&!s.isInputFocused&&Ie(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(a=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})}),t}return At(e,n),Pt(e,[{key:"componentDidMount",value:function(){this.handleFocusWeekNumber()}},{key:"componentDidUpdate",value:function(r){this.handleFocusWeekNumber(r)}},{key:"render",value:function(){var r=this.props,i=r.weekNumber,o=r.ariaLabelPrefix,s=o===void 0?"week ":o,a=r.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a,"react-datepicker__week-number--selected":!!a&&Ie(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return F.createElement("div",{ref:this.weekNumberEl,className:ct(l),"aria-label":"".concat(s," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},i)}}],[{key:"defaultProps",get:function(){return{ariaLabelPrefix:"week "}}}])}(F.Component),MY=function(n){function e(){var t;xt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=Ct(this,e,[].concat(i)),x(t,"handleDayClick",function(s,a){t.props.onDayClick&&t.props.onDayClick(s,a)}),x(t,"handleDayMouseEnter",function(s){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(s)}),x(t,"handleWeekClick",function(s,a,l){typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(s,a,l),t.props.showWeekPicker&&t.handleDayClick(s,l),t.props.shouldCloseOnSelect&&t.props.setOpen(!1)}),x(t,"formatWeekNumber",function(s){return t.props.formatWeekNumber?t.props.formatWeekNumber(s):oY(s)}),x(t,"renderDays",function(){var s=t.startOfWeek(),a=[],l=t.formatWeekNumber(s);if(t.props.showWeekNumber){var u=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,s,l):void 0;a.push(F.createElement(OY,{key:"W",weekNumber:l,date:s,onClick:u,selected:t.props.selected,preSelection:t.props.preSelection,ariaLabelPrefix:t.props.ariaLabelPrefix,showWeekPicker:t.props.showWeekPicker,showWeekNumber:t.props.showWeekNumber,disabledKeyboardNavigation:t.props.disabledKeyboardNavigation,handleOnKeyDown:t.props.handleOnKeyDown,isInputFocused:t.props.isInputFocused,containerRef:t.props.containerRef}))}return a.concat([0,1,2,3,4,5,6].map(function(d){var h=Ro(s,d);return F.createElement(NY,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:h.valueOf(),day:h,month:t.props.month,onClick:t.handleDayClick.bind(t,h),usePointerEvent:t.props.usePointerEvent,onMouseEnter:t.handleDayMouseEnter.bind(t,h),minDate:t.props.minDate,maxDate:t.props.maxDate,calendarStartDay:t.props.calendarStartDay,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDates:t.props.includeDates,includeDateIntervals:t.props.includeDateIntervals,highlightDates:t.props.highlightDates,holidays:t.props.holidays,selectingDate:t.props.selectingDate,filterDate:t.props.filterDate,preSelection:t.props.preSelection,selected:t.props.selected,selectsStart:t.props.selectsStart,selectsEnd:t.props.selectsEnd,selectsRange:t.props.selectsRange,showWeekPicker:t.props.showWeekPicker,showWeekNumber:t.props.showWeekNumber,selectsDisabledDaysInRange:t.props.selectsDisabledDaysInRange,selectsMultiple:t.props.selectsMultiple,selectedDates:t.props.selectedDates,startDate:t.props.startDate,endDate:t.props.endDate,dayClassName:t.props.dayClassName,renderDayContents:t.props.renderDayContents,disabledKeyboardNavigation:t.props.disabledKeyboardNavigation,handleOnKeyDown:t.props.handleOnKeyDown,isInputFocused:t.props.isInputFocused,containerRef:t.props.containerRef,inline:t.props.inline,shouldFocusDayInline:t.props.shouldFocusDayInline,monthShowsDuplicateDaysEnd:t.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:t.props.monthShowsDuplicateDaysStart,locale:t.props.locale})}))}),x(t,"startOfWeek",function(){return ao(t.props.day,t.props.locale,t.props.calendarStartDay)}),x(t,"isKeyboardSelected",function(){return!t.props.disabledKeyboardNavigation&&!Ie(t.startOfWeek(),t.props.selected)&&Ie(t.startOfWeek(),t.props.preSelection)}),t}return At(e,n),Pt(e,[{key:"render",value:function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":Ie(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return F.createElement("div",{className:ct(r)},this.renderDays())}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}])}(F.Component),LY=6,Ha={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},yg=x(x(x({},Ha.TWO_COLUMNS,{grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2}),Ha.THREE_COLUMNS,{grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3}),Ha.FOUR_COLUMNS,{grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4}),dh=1;function $D(n,e){return n?Ha.FOUR_COLUMNS:e?Ha.TWO_COLUMNS:Ha.THREE_COLUMNS}var VY=function(n){function e(){var t;xt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=Ct(this,e,[].concat(i)),x(t,"MONTH_REFS",Eo(Array(12)).map(function(){return F.createRef()})),x(t,"QUARTER_REFS",Eo(Array(4)).map(function(){return F.createRef()})),x(t,"isDisabled",function(s){return om(s,t.props)}),x(t,"isExcluded",function(s){return Qw(s,t.props)}),x(t,"handleDayClick",function(s,a){t.props.onDayClick&&t.props.onDayClick(s,a,t.props.orderInDisplay)}),x(t,"handleDayMouseEnter",function(s){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(s)}),x(t,"handleMouseLeave",function(){t.props.onMouseLeave&&t.props.onMouseLeave()}),x(t,"isRangeStartMonth",function(s){var a=t.props,l=a.day,u=a.startDate,d=a.endDate;return!u||!d?!1:bn(Jt(l,s),u)}),x(t,"isRangeStartQuarter",function(s){var a=t.props,l=a.day,u=a.startDate,d=a.endDate;return!u||!d?!1:Jf(pa(l,s),u)}),x(t,"isRangeEndMonth",function(s){var a=t.props,l=a.day,u=a.startDate,d=a.endDate;return!u||!d?!1:bn(Jt(l,s),d)}),x(t,"isRangeEndQuarter",function(s){var a=t.props,l=a.day,u=a.startDate,d=a.endDate;return!u||!d?!1:Jf(pa(l,s),d)}),x(t,"isInSelectingRangeMonth",function(s){var a,l=t.props,u=l.day,d=l.selectsStart,h=l.selectsEnd,p=l.selectsRange,m=l.startDate,v=l.endDate,w=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(d||h||p)||!w?!1:d&&v?lh(w,v,s,u):h&&m||p&&m&&!v?lh(m,w,s,u):!1}),x(t,"isSelectingMonthRangeStart",function(s){var a;if(!t.isInSelectingRangeMonth(s))return!1;var l=t.props,u=l.day,d=l.startDate,h=l.selectsStart,p=Jt(u,s),m=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return h?bn(p,m):bn(p,d)}),x(t,"isSelectingMonthRangeEnd",function(s){var a;if(!t.isInSelectingRangeMonth(s))return!1;var l=t.props,u=l.day,d=l.endDate,h=l.selectsEnd,p=l.selectsRange,m=Jt(u,s),v=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return h||p?bn(m,v):bn(m,d)}),x(t,"isInSelectingRangeQuarter",function(s){var a,l=t.props,u=l.day,d=l.selectsStart,h=l.selectsEnd,p=l.selectsRange,m=l.startDate,v=l.endDate,w=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(d||h||p)||!w?!1:d&&v?ch(w,v,s,u):h&&m||p&&m&&!v?ch(m,w,s,u):!1}),x(t,"isWeekInMonth",function(s){var a=t.props.day,l=Ro(s,6);return bn(s,a)||bn(l,a)}),x(t,"isCurrentMonth",function(s,a){return fe(s)===fe(Ce())&&a===tn(Ce())}),x(t,"isCurrentQuarter",function(s,a){return fe(s)===fe(Ce())&&a===ms(Ce())}),x(t,"isSelectedMonth",function(s,a,l){return tn(l)===a&&fe(s)===fe(l)}),x(t,"isSelectedQuarter",function(s,a,l){return ms(s)===a&&fe(s)===fe(l)}),x(t,"renderWeeks",function(){for(var s=[],a=t.props.fixedHeight,l=0,u=!1,d=ao(lo(t.props.day),t.props.locale,t.props.calendarStartDay),h=t.props.showWeekPicker?ao(t.props.selected,t.props.locale,t.props.calendarStartDay):t.props.selected,p=t.props.showWeekPicker?ao(t.props.preSelection,t.props.locale,t.props.calendarStartDay):t.props.preSelection;s.push(F.createElement(MY,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:t.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:t.props.disabledDayAriaLabelPrefix,key:l,day:d,month:tn(t.props.day),onDayClick:t.handleDayClick,usePointerEvent:t.props.usePointerEvent,onDayMouseEnter:t.handleDayMouseEnter,onWeekSelect:t.props.onWeekSelect,formatWeekNumber:t.props.formatWeekNumber,locale:t.props.locale,minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDates:t.props.includeDates,includeDateIntervals:t.props.includeDateIntervals,inline:t.props.inline,shouldFocusDayInline:t.props.shouldFocusDayInline,highlightDates:t.props.highlightDates,holidays:t.props.holidays,selectingDate:t.props.selectingDate,filterDate:t.props.filterDate,preSelection:p,selected:h,selectsStart:t.props.selectsStart,selectsEnd:t.props.selectsEnd,selectsRange:t.props.selectsRange,selectsDisabledDaysInRange:t.props.selectsDisabledDaysInRange,selectsMultiple:t.props.selectsMultiple,selectedDates:t.props.selectedDates,showWeekNumber:t.props.showWeekNumbers,showWeekPicker:t.props.showWeekPicker,startDate:t.props.startDate,endDate:t.props.endDate,dayClassName:t.props.dayClassName,setOpen:t.props.setOpen,shouldCloseOnSelect:t.props.shouldCloseOnSelect,disabledKeyboardNavigation:t.props.disabledKeyboardNavigation,renderDayContents:t.props.renderDayContents,handleOnKeyDown:t.props.handleOnKeyDown,isInputFocused:t.props.isInputFocused,containerRef:t.props.containerRef,calendarStartDay:t.props.calendarStartDay,monthShowsDuplicateDaysEnd:t.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:t.props.monthShowsDuplicateDaysStart})),!u;){l++,d=Bf(d,1);var m=a&&l>=LY,v=!a&&!t.isWeekInMonth(d);if(m||v)if(t.props.peekNextMonth)u=!0;else break}return s}),x(t,"onMonthClick",function(s,a){var l=Jt(t.props.day,a);Wh(l,t.props)||t.handleDayClick(lo(l),s)}),x(t,"onMonthMouseEnter",function(s){var a=Jt(t.props.day,s);Wh(a,t.props)||t.handleDayMouseEnter(lo(a))}),x(t,"handleMonthNavigation",function(s,a){t.isDisabled(a)||t.isExcluded(a)||(t.props.setPreSelection(a),t.MONTH_REFS[s].current&&t.MONTH_REFS[s].current.focus())}),x(t,"onMonthKeyDown",function(s,a){var l=t.props,u=l.selected,d=l.preSelection,h=l.disabledKeyboardNavigation,p=l.showTwoColumnMonthYearPicker,m=l.showFourColumnMonthYearPicker,v=l.setPreSelection,w=l.handleOnMonthKeyDown,D=s.key;if(D!=="Tab"&&s.preventDefault(),!h){var _=$D(m,p),y=yg[_].verticalNavigationOffset,T=yg[_].grid;switch(D){case"Enter":t.onMonthClick(s,a),v(u);break;case"ArrowRight":t.handleMonthNavigation(a===11?0:a+dh,ir(d,dh));break;case"ArrowLeft":t.handleMonthNavigation(a===0?11:a-dh,gl(d,dh));break;case"ArrowUp":t.handleMonthNavigation(T[0].includes(a)?a+12-y:a-y,gl(d,y));break;case"ArrowDown":t.handleMonthNavigation(T[T.length-1].includes(a)?a-12+y:a+y,ir(d,y));break}}w&&w(s)}),x(t,"onQuarterClick",function(s,a){var l=pa(t.props.day,a);gg(l,t.props)||t.handleDayClick(bD(l),s)}),x(t,"onQuarterMouseEnter",function(s){var a=pa(t.props.day,s);gg(a,t.props)||t.handleDayMouseEnter(bD(a))}),x(t,"handleQuarterNavigation",function(s,a){t.isDisabled(a)||t.isExcluded(a)||(t.props.setPreSelection(a),t.QUARTER_REFS[s-1].current&&t.QUARTER_REFS[s-1].current.focus())}),x(t,"onQuarterKeyDown",function(s,a){var l=s.key;if(!t.props.disabledKeyboardNavigation)switch(l){case"Enter":t.onQuarterClick(s,a),t.props.setPreSelection(t.props.selected);break;case"ArrowRight":t.handleQuarterNavigation(a===4?1:a+1,jw(t.props.preSelection,1));break;case"ArrowLeft":t.handleQuarterNavigation(a===1?4:a-1,BP(t.props.preSelection,1));break}}),x(t,"isMonthDisabled",function(s){var a=t.props,l=a.day,u=a.minDate,d=a.maxDate,h=a.excludeDates,p=a.includeDates,m=Jt(l,s);return(u||d||h||p)&&Wh(m,t.props)}),x(t,"getMonthClassNames",function(s){var a=t.props,l=a.day,u=a.startDate,d=a.endDate,h=a.selected,p=a.preSelection,m=a.monthClassName,v=m?m(Jt(l,s)):void 0;return ct("react-datepicker__month-text","react-datepicker__month-".concat(s),v,{"react-datepicker__month-text--disabled":t.isMonthDisabled(s),"react-datepicker__month-text--selected":t.isSelectedMonth(l,s,h),"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&t.isSelectedMonth(l,s,p),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(s),"react-datepicker__month-text--in-range":lh(u,d,s,l),"react-datepicker__month-text--range-start":t.isRangeStartMonth(s),"react-datepicker__month-text--range-end":t.isRangeEndMonth(s),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(s),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(s),"react-datepicker__month-text--today":t.isCurrentMonth(l,s)})}),x(t,"getTabIndex",function(s){var a=tn(t.props.preSelection),l=!t.props.disabledKeyboardNavigation&&s===a?"0":"-1";return l}),x(t,"getQuarterTabIndex",function(s){var a=ms(t.props.preSelection),l=!t.props.disabledKeyboardNavigation&&s===a?"0":"-1";return l}),x(t,"getAriaLabel",function(s){var a=t.props,l=a.chooseDayAriaLabelPrefix,u=l===void 0?"Choose":l,d=a.disabledDayAriaLabelPrefix,h=d===void 0?"Not available":d,p=a.day,m=a.locale,v=Jt(p,s),w=t.isDisabled(v)||t.isExcluded(v)?h:u;return"".concat(w," ").concat($e(v,"MMMM yyyy",m))}),x(t,"getQuarterClassNames",function(s){var a=t.props,l=a.day,u=a.startDate,d=a.endDate,h=a.selected,p=a.minDate,m=a.maxDate,v=a.preSelection,w=a.disabledKeyboardNavigation;return ct("react-datepicker__quarter-text","react-datepicker__quarter-".concat(s),{"react-datepicker__quarter-text--disabled":(p||m)&&gg(pa(l,s),t.props),"react-datepicker__quarter-text--selected":t.isSelectedQuarter(l,s,h),"react-datepicker__quarter-text--keyboard-selected":!w&&t.isSelectedQuarter(l,s,v),"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(s),"react-datepicker__quarter-text--in-range":ch(u,d,s,l),"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(s),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(s)})}),x(t,"getMonthContent",function(s){var a=t.props,l=a.showFullMonthYearPicker,u=a.renderMonthContent,d=a.locale,h=a.day,p=cA(s,d),m=Gw(s,d);return u?u(s,p,m,h):l?m:p}),x(t,"getQuarterContent",function(s){var a=t.props,l=a.renderQuarterContent,u=a.locale,d=hY(s,u);return l?l(s,d):d}),x(t,"renderMonths",function(){var s=t.props,a=s.showTwoColumnMonthYearPicker,l=s.showFourColumnMonthYearPicker,u=s.day,d=s.selected,h=yg[$D(l,a)].grid;return h.map(function(p,m){return F.createElement("div",{className:"react-datepicker__month-wrapper",key:m},p.map(function(v,w){return F.createElement("div",{ref:t.MONTH_REFS[v],key:w,onClick:function(_){t.onMonthClick(_,v)},onKeyDown:function(_){pA(_)&&(_.preventDefault(),_.key="Enter"),t.onMonthKeyDown(_,v)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(v)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(v)}:void 0,tabIndex:t.getTabIndex(v),className:t.getMonthClassNames(v),"aria-disabled":t.isMonthDisabled(v),role:"option","aria-label":t.getAriaLabel(v),"aria-current":t.isCurrentMonth(u,v)?"date":void 0,"aria-selected":t.isSelectedMonth(u,v,d)},t.getMonthContent(v))}))})}),x(t,"renderQuarters",function(){var s=t.props,a=s.day,l=s.selected,u=[1,2,3,4];return F.createElement("div",{className:"react-datepicker__quarter-wrapper"},u.map(function(d,h){return F.createElement("div",{key:h,ref:t.QUARTER_REFS[h],role:"option",onClick:function(m){t.onQuarterClick(m,d)},onKeyDown:function(m){t.onQuarterKeyDown(m,d)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(d)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(d)}:void 0,className:t.getQuarterClassNames(d),"aria-selected":t.isSelectedQuarter(a,d,l),tabIndex:t.getQuarterTabIndex(d),"aria-current":t.isCurrentQuarter(a,d)?"date":void 0},t.getQuarterContent(d))}))}),x(t,"getClassNames",function(){var s=t.props,a=s.selectingDate,l=s.selectsStart,u=s.selectsEnd,d=s.showMonthYearPicker,h=s.showQuarterYearPicker,p=s.showWeekPicker;return ct("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(l||u)},{"react-datepicker__monthPicker":d},{"react-datepicker__quarterPicker":h},{"react-datepicker__weekPicker":p})}),t}return At(e,n),Pt(e,[{key:"render",value:function(){var r=this.props,i=r.showMonthYearPicker,o=r.showQuarterYearPicker,s=r.day,a=r.ariaLabelPrefix,l=a===void 0?"Month ":a,u=l?l.trim()+" ":"";return F.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(u).concat($e(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},i?this.renderMonths():o?this.renderQuarters():this.renderWeeks())}}])}(F.Component),mA=function(n){function e(){var t;xt(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=Ct(this,e,[].concat(i)),x(t,"state",{height:null}),x(t,"scrollToTheSelectedTime",function(){requestAnimationFrame(function(){t.list&&(t.list.scrollTop=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-t.header.clientHeight:t.list.clientHeight,t.centerLi))})}),x(t,"handleClick",function(s){(t.props.minTime||t.props.maxTime)&&PD(s,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&xD(s,t.props)||t.props.onChange(s)}),x(t,"isSelectedTime",function(s){return t.props.selected&&EY(t.props.selected,s)}),x(t,"isDisabledTime",function(s){return(t.props.minTime||t.props.maxTime)&&PD(s,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&xD(s,t.props)}),x(t,"liClasses",function(s){var a=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(s):void 0];return t.isSelectedTime(s)&&a.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(s)&&a.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Or(s)*3600+Nr(s)*60+ai(s))%(t.props.intervals*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")}),x(t,"handleOnKeyDown",function(s,a){s.key===" "&&(s.preventDefault(),s.key="Enter"),(s.key==="ArrowUp"||s.key==="ArrowLeft")&&s.target.previousSibling&&(s.preventDefault(),s.target.previousSibling.focus()),(s.key==="ArrowDown"||s.key==="ArrowRight")&&s.target.nextSibling&&(s.preventDefault(),s.target.nextSibling.focus()),s.key==="Enter"&&t.handleClick(a),t.props.handleOnKeyDown(s)}),x(t,"renderTimes",function(){for(var s=[],a=t.props.format?t.props.format:"p",l=t.props.intervals,u=t.props.selected||t.props.openToDate||Ce(),d=aY(u),h=t.props.injectTimes&&t.props.injectTimes.sort(function(y,T){return y-T}),p=60*wY(u),m=p/l,v=0;v<m;v++){var w=pv(d,v*l);if(s.push(w),h){var D=_Y(d,w,v,l,h);s=s.concat(D)}}var _=s.reduce(function(y,T){return T.getTime()<=u.getTime()?T:y},s[0]);return s.map(function(y,T){return F.createElement("li",{key:T,onClick:t.handleClick.bind(t,y),className:t.liClasses(y),ref:function(M){y===_&&(t.centerLi=M)},onKeyDown:function(M){t.handleOnKeyDown(M,y)},tabIndex:y===_?0:-1,role:"option","aria-selected":t.isSelectedTime(y)?"true":void 0,"aria-disabled":t.isDisabledTime(y)?"true":void 0},$e(y,a,t.props.locale))})}),t}return At(e,n),Pt(e,[{key:"componentDidMount",value:function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var r=this,i=this.state.height;return F.createElement("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},F.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(s){r.header=s}},F.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),F.createElement("div",{className:"react-datepicker__time"},F.createElement("div",{className:"react-datepicker__time-box"},F.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){r.list=s},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}])}(F.Component);x(mA,"calcCenterPosition",function(n,e){return e.offsetTop-(n/2-e.clientHeight/2)});var UD=3,FY=function(n){function e(t){var r;return xt(this,e),r=Ct(this,e,[t]),x(r,"YEAR_REFS",Eo(Array(r.props.yearItemNumber)).map(function(){return F.createRef()})),x(r,"isDisabled",function(i){return om(i,r.props)}),x(r,"isExcluded",function(i){return Qw(i,r.props)}),x(r,"selectingDate",function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection}),x(r,"updateFocusOnPaginate",function(i){var o=(function(){this.YEAR_REFS[i].current.focus()}).bind(r);window.requestAnimationFrame(o)}),x(r,"handleYearClick",function(i,o){r.props.onDayClick&&r.props.onDayClick(i,o)}),x(r,"handleYearNavigation",function(i,o){var s=r.props,a=s.date,l=s.yearItemNumber,u=Ki(a,l),d=u.startPeriod;r.isDisabled(o)||r.isExcluded(o)||(r.props.setPreSelection(o),i-d<0?r.updateFocusOnPaginate(l-(d-i)):i-d>=l?r.updateFocusOnPaginate(Math.abs(l-(i-d))):r.YEAR_REFS[i-d].current.focus())}),x(r,"isSameDay",function(i,o){return Ie(i,o)}),x(r,"isCurrentYear",function(i){return i===fe(Ce())}),x(r,"isRangeStart",function(i){return r.props.startDate&&r.props.endDate&&yr(gr(Ce(),i),r.props.startDate)}),x(r,"isRangeEnd",function(i){return r.props.startDate&&r.props.endDate&&yr(gr(Ce(),i),r.props.endDate)}),x(r,"isInRange",function(i){return uh(i,r.props.startDate,r.props.endDate)}),x(r,"isInSelectingRange",function(i){var o=r.props,s=o.selectsStart,a=o.selectsEnd,l=o.selectsRange,u=o.startDate,d=o.endDate;return!(s||a||l)||!r.selectingDate()?!1:s&&d?uh(i,r.selectingDate(),d):a&&u||l&&u&&!d?uh(i,u,r.selectingDate()):!1}),x(r,"isSelectingRangeStart",function(i){if(!r.isInSelectingRange(i))return!1;var o=r.props,s=o.startDate,a=o.selectsStart,l=gr(Ce(),i);return a?yr(l,r.selectingDate()):yr(l,s)}),x(r,"isSelectingRangeEnd",function(i){if(!r.isInSelectingRange(i))return!1;var o=r.props,s=o.endDate,a=o.selectsEnd,l=o.selectsRange,u=gr(Ce(),i);return a||l?yr(u,r.selectingDate()):yr(u,s)}),x(r,"isKeyboardSelected",function(i){var o=xu(gr(r.props.date,i));return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Ie(o,xu(r.props.selected))&&Ie(o,xu(r.props.preSelection))}),x(r,"onYearClick",function(i,o){var s=r.props.date;r.handleYearClick(xu(gr(s,o)),i)}),x(r,"onYearKeyDown",function(i,o){var s=i.key,a=r.props,l=a.date,u=a.yearItemNumber,d=a.handleOnKeyDown;if(s!=="Tab"&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(s){case"Enter":r.onYearClick(i,o),r.props.setPreSelection(r.props.selected);break;case"ArrowRight":r.handleYearNavigation(o+1,si(r.props.preSelection,1));break;case"ArrowLeft":r.handleYearNavigation(o-1,yl(r.props.preSelection,1));break;case"ArrowUp":{var h=Ki(l,u),p=h.startPeriod,m=UD,v=o-m;if(v<p){var w=u%m;o>=p&&o<p+w?m=w:m+=w,v=o-m}r.handleYearNavigation(v,yl(r.props.preSelection,m));break}case"ArrowDown":{var D=Ki(l,u),_=D.endPeriod,y=UD,T=o+y;if(T>_){var P=u%y;o<=_&&o>_-P?y=P:y+=P,T=o+y}r.handleYearNavigation(T,si(r.props.preSelection,y));break}}d&&d(i)}),x(r,"getYearClassNames",function(i){var o=r.props,s=o.date,a=o.minDate,l=o.maxDate,u=o.selected,d=o.excludeDates,h=o.includeDates,p=o.filterDate,m=o.yearClassName;return ct("react-datepicker__year-text","react-datepicker__year-".concat(i),m?m(gr(s,i)):void 0,{"react-datepicker__year-text--selected":i===fe(u),"react-datepicker__year-text--disabled":(a||l||d||h||p)&&dA(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})}),x(r,"getYearTabIndex",function(i){if(r.props.disabledKeyboardNavigation)return"-1";var o=fe(r.props.preSelection);return i===o?"0":"-1"}),x(r,"getYearContainerClassNames",function(){var i=r.props,o=i.selectingDate,s=i.selectsStart,a=i.selectsEnd,l=i.selectsRange;return ct("react-datepicker__year",{"react-datepicker__year--selecting-range":o&&(s||a||l)})}),x(r,"getYearContent",function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i}),r}return At(e,n),Pt(e,[{key:"render",value:function(){for(var r=this,i=[],o=this.props,s=o.date,a=o.yearItemNumber,l=o.onYearMouseEnter,u=o.onYearMouseLeave,d=Ki(s,a),h=d.startPeriod,p=d.endPeriod,m=function(D){i.push(F.createElement("div",{ref:r.YEAR_REFS[D-h],onClick:function(y){r.onYearClick(y,D)},onKeyDown:function(y){pA(y)&&(y.preventDefault(),y.key="Enter"),r.onYearKeyDown(y,D)},tabIndex:r.getYearTabIndex(D),className:r.getYearClassNames(D),onMouseEnter:r.props.usePointerEvent?void 0:function(_){return l(_,D)},onPointerEnter:r.props.usePointerEvent?function(_){return l(_,D)}:void 0,onMouseLeave:r.props.usePointerEvent?void 0:function(_){return u(_,D)},onPointerLeave:r.props.usePointerEvent?function(_){return u(_,D)}:void 0,key:D,"aria-current":r.isCurrentYear(D)?"date":void 0},r.getYearContent(D)))},v=h;v<=p;v++)m(v);return F.createElement("div",{className:this.getYearContainerClassNames()},F.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},i))}}])}(F.Component),jY=function(n){function e(t){var r;return xt(this,e),r=Ct(this,e,[t]),x(r,"onTimeChange",function(i){r.setState({time:i});var o=r.props.date,s=o instanceof Date&&!isNaN(o),a=s?o:new Date;a.setHours(i.split(":")[0]),a.setMinutes(i.split(":")[1]),r.props.onChange(a)}),x(r,"renderTimeInput",function(){var i=r.state.time,o=r.props,s=o.date,a=o.timeString,l=o.customTimeInput;return l?F.cloneElement(l,{date:s,value:i,onChange:r.onTimeChange}):F.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:i,onChange:function(d){r.onTimeChange(d.target.value||a)}})}),r.state={time:r.props.timeString},r}return At(e,n),Pt(e,[{key:"render",value:function(){return F.createElement("div",{className:"react-datepicker__input-time-container"},F.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),F.createElement("div",{className:"react-datepicker-time__input-container"},F.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.timeString!==i.time?{time:r.timeString}:null}}])}(F.Component);function $Y(n){var e=n.showTimeSelectOnly,t=e===void 0?!1:e,r=n.showTime,i=r===void 0?!1:r,o=n.className,s=n.children,a=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return F.createElement("div",{className:o,role:"dialog","aria-label":a,"aria-modal":"true"},s)}var UY=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],BY=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=(e.className||"").split(/\s+/);return UY.some(function(r){return t.indexOf(r)>=0})},WY=function(n){function e(t){var r;return xt(this,e),r=Ct(this,e,[t]),x(r,"handleClickOutside",function(i){r.props.onClickOutside(i)}),x(r,"setClickOutsideRef",function(){return r.containerRef.current}),x(r,"handleDropdownFocus",function(i){BY(i.target)&&r.props.onDropdownFocus()}),x(r,"getDateInView",function(){var i=r.props,o=i.preSelection,s=i.selected,a=i.openToDate,l=hA(r.props),u=fA(r.props),d=Ce(),h=a||s||o;return h||(l&&Vs(d,l)?l:u&&vo(d,u)?u:d)}),x(r,"increaseMonth",function(){r.setState(function(i){var o=i.date;return{date:ir(o,1)}},function(){return r.handleMonthChange(r.state.date)})}),x(r,"decreaseMonth",function(){r.setState(function(i){var o=i.date;return{date:gl(o,1)}},function(){return r.handleMonthChange(r.state.date)})}),x(r,"handleDayClick",function(i,o,s){r.props.onSelect(i,o,s),r.props.setPreSelection&&r.props.setPreSelection(i)}),x(r,"handleDayMouseEnter",function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)}),x(r,"handleMonthMouseLeave",function(){r.setState({selectingDate:null}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()}),x(r,"handleYearMouseEnter",function(i,o){r.setState({selectingDate:gr(Ce(),o)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,o)}),x(r,"handleYearMouseLeave",function(i,o){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,o)}),x(r,"handleYearChange",function(i){r.props.onYearChange&&(r.props.onYearChange(i),r.setState({isRenderAriaLiveMessage:!0})),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(i),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(i)}),x(r,"handleMonthChange",function(i){r.handleCustomMonthChange(i),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(i),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(i)}),x(r,"handleCustomMonthChange",function(i){r.props.onMonthChange&&(r.props.onMonthChange(i),r.setState({isRenderAriaLiveMessage:!0}))}),x(r,"handleMonthYearChange",function(i){r.handleYearChange(i),r.handleMonthChange(i)}),x(r,"changeYear",function(i){r.setState(function(o){var s=o.date;return{date:gr(s,i)}},function(){return r.handleYearChange(r.state.date)})}),x(r,"changeMonth",function(i){r.setState(function(o){var s=o.date;return{date:Jt(s,i)}},function(){return r.handleMonthChange(r.state.date)})}),x(r,"changeMonthYear",function(i){r.setState(function(o){var s=o.date;return{date:gr(Jt(s,tn(i)),fe(i))}},function(){return r.handleMonthYearChange(r.state.date)})}),x(r,"header",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.state.date,o=ao(i,r.props.locale,r.props.calendarStartDay),s=[];return r.props.showWeekNumbers&&s.push(F.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),s.concat([0,1,2,3,4,5,6].map(function(a){var l=Ro(o,a),u=r.formatWeekday(l,r.props.locale),d=r.props.weekDayClassName?r.props.weekDayClassName(l):void 0;return F.createElement("div",{key:a,"aria-label":$e(l,"EEEE",r.props.locale),className:ct("react-datepicker__day-name",d)},u)}))}),x(r,"formatWeekday",function(i,o){return r.props.formatWeekDay?uY(i,r.props.formatWeekDay,o):r.props.useWeekdaysShort?dY(i,o):cY(i,o)}),x(r,"decreaseYear",function(){r.setState(function(i){var o=i.date;return{date:yl(o,r.props.showYearPicker?r.props.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})}),x(r,"clearSelectingDate",function(){r.setState({selectingDate:null})}),x(r,"renderPreviousButton",function(){if(!r.props.renderCustomHeader){var i;switch(!0){case r.props.showMonthYearPicker:i=ND(r.state.date,r.props);break;case r.props.showYearPicker:i=mY(r.state.date,r.props);break;case r.props.showQuarterYearPicker:i=fY(r.state.date,r.props);break;default:i=AD(r.state.date,r.props);break}if(!(!r.props.forceShowMonthNavigation&&!r.props.showDisabledMonthNavigation&&i||r.props.showTimeSelectOnly)){var o=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],s=["react-datepicker__navigation","react-datepicker__navigation--previous"],a=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(a=r.decreaseYear),i&&r.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--previous--disabled"),a=null);var l=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,u=r.props,d=u.previousMonthButtonLabel,h=u.previousYearButtonLabel,p=r.props,m=p.previousMonthAriaLabel,v=m===void 0?typeof d=="string"?d:"Previous Month":m,w=p.previousYearAriaLabel,D=w===void 0?typeof h=="string"?h:"Previous Year":w;return F.createElement("button",{type:"button",className:s.join(" "),onClick:a,onKeyDown:r.props.handleOnKeyDown,"aria-label":l?D:v},F.createElement("span",{className:o.join(" ")},l?r.props.previousYearButtonLabel:r.props.previousMonthButtonLabel))}}}),x(r,"increaseYear",function(){r.setState(function(i){var o=i.date;return{date:si(o,r.props.showYearPicker?r.props.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})}),x(r,"renderNextButton",function(){if(!r.props.renderCustomHeader){var i;switch(!0){case r.props.showMonthYearPicker:i=OD(r.state.date,r.props);break;case r.props.showYearPicker:i=gY(r.state.date,r.props);break;case r.props.showQuarterYearPicker:i=pY(r.state.date,r.props);break;default:i=RD(r.state.date,r.props);break}if(!(!r.props.forceShowMonthNavigation&&!r.props.showDisabledMonthNavigation&&i||r.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],s=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var a=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(a=r.increaseYear),i&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),a=null);var l=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,u=r.props,d=u.nextMonthButtonLabel,h=u.nextYearButtonLabel,p=r.props,m=p.nextMonthAriaLabel,v=m===void 0?typeof d=="string"?d:"Next Month":m,w=p.nextYearAriaLabel,D=w===void 0?typeof h=="string"?h:"Next Year":w;return F.createElement("button",{type:"button",className:o.join(" "),onClick:a,onKeyDown:r.props.handleOnKeyDown,"aria-label":l?D:v},F.createElement("span",{className:s.join(" ")},l?r.props.nextYearButtonLabel:r.props.nextMonthButtonLabel))}}}),x(r,"renderCurrentMonth",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.state.date,o=["react-datepicker__current-month"];return r.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),F.createElement("div",{className:o.join(" ")},$e(i,r.props.dateFormat,r.props.locale))}),x(r,"renderYearDropdown",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r.props.showYearDropdown||i))return F.createElement(SY,{adjustDateOnChange:r.props.adjustDateOnChange,date:r.state.date,onSelect:r.props.onSelect,setOpen:r.props.setOpen,dropdownMode:r.props.dropdownMode,onChange:r.changeYear,minDate:r.props.minDate,maxDate:r.props.maxDate,year:fe(r.state.date),scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})}),x(r,"renderMonthDropdown",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r.props.showMonthDropdown||i))return F.createElement(CY,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,onChange:r.changeMonth,month:tn(r.state.date),useShortMonthInDropdown:r.props.useShortMonthInDropdown})}),x(r,"renderMonthYearDropdown",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r.props.showMonthYearDropdown||i))return F.createElement(RY,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,dateFormat:r.props.dateFormat,onChange:r.changeMonthYear,minDate:r.props.minDate,maxDate:r.props.maxDate,date:r.state.date,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown})}),x(r,"handleTodayButtonClick",function(i){r.props.onSelect(kD(),i),r.props.setPreSelection&&r.props.setPreSelection(kD())}),x(r,"renderTodayButton",function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return F.createElement("div",{className:"react-datepicker__today-button",onClick:function(o){return r.handleTodayButtonClick(o)}},r.props.todayButton)}),x(r,"renderDefaultHeader",function(i){var o=i.monthDate,s=i.i;return F.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(o),F.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(s!==0),r.renderMonthYearDropdown(s!==0),r.renderYearDropdown(s!==0)),F.createElement("div",{className:"react-datepicker__day-names"},r.header(o)))}),x(r,"renderCustomHeader",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=i.monthDate,s=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var a=AD(r.state.date,r.props),l=RD(r.state.date,r.props),u=ND(r.state.date,r.props),d=OD(r.state.date,r.props),h=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return F.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},r.props.renderCustomHeader(Qr(Qr({},r.state),{},{customHeaderCount:s,monthDate:o,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:a,nextMonthButtonDisabled:l,prevYearButtonDisabled:u,nextYearButtonDisabled:d})),h&&F.createElement("div",{className:"react-datepicker__day-names"},r.header(o)))}),x(r,"renderYearHeader",function(i){var o=i.monthDate,s=r.props,a=s.showYearPicker,l=s.yearItemNumber,u=Ki(o,l),d=u.startPeriod,h=u.endPeriod;return F.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(d," - ").concat(h):fe(o))}),x(r,"renderHeader",function(i){switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(i);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(i);default:return r.renderDefaultHeader(i)}}),x(r,"renderMonths",function(){var i;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var o=[],s=r.props.showPreviousMonths?r.props.monthsShown-1:0,a=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?si(r.state.date,s):gl(r.state.date,s),l=(i=r.props.monthSelectedIn)!==null&&i!==void 0?i:s,u=0;u<r.props.monthsShown;++u){var d=u-l+s,h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?si(a,d):ir(a,d),p="month-".concat(u),m=u<r.props.monthsShown-1,v=u>0;o.push(F.createElement("div",{key:p,ref:function(D){r.monthContainer=D},className:"react-datepicker__month-container"},r.renderHeader({monthDate:h,i:u}),F.createElement(VY,{chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,ariaLabelPrefix:r.props.monthAriaLabelPrefix,onChange:r.changeMonthYear,day:h,dayClassName:r.props.dayClassName,calendarStartDay:r.props.calendarStartDay,monthClassName:r.props.monthClassName,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,usePointerEvent:r.props.usePointerEvent,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,onWeekSelect:r.props.onWeekSelect,orderInDisplay:u,formatWeekNumber:r.props.formatWeekNumber,locale:r.props.locale,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,highlightDates:r.props.highlightDates,holidays:r.props.holidays,selectingDate:r.state.selectingDate,includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,inline:r.props.inline,shouldFocusDayInline:r.props.shouldFocusDayInline,fixedHeight:r.props.fixedHeight,filterDate:r.props.filterDate,preSelection:r.props.preSelection,setPreSelection:r.props.setPreSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,selectsMultiple:r.props.selectsMultiple,selectedDates:r.props.selectedDates,showWeekNumbers:r.props.showWeekNumbers,startDate:r.props.startDate,endDate:r.props.endDate,peekNextMonth:r.props.peekNextMonth,setOpen:r.props.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,renderDayContents:r.props.renderDayContents,renderMonthContent:r.props.renderMonthContent,renderQuarterContent:r.props.renderQuarterContent,renderYearContent:r.props.renderYearContent,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showWeekPicker:r.props.showWeekPicker,isInputFocused:r.props.isInputFocused,containerRef:r.containerRef,monthShowsDuplicateDaysEnd:m,monthShowsDuplicateDaysStart:v})))}return o}}),x(r,"renderYears",function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return F.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),F.createElement(FY,Ac({onDayClick:r.handleDayClick,selectingDate:r.state.selectingDate,clearSelectingDate:r.clearSelectingDate,date:r.state.date},r.props,{onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))}),x(r,"renderTimeSection",function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return F.createElement(mA,{selected:r.props.selected,openToDate:r.props.openToDate,onChange:r.props.onTimeChange,timeClassName:r.props.timeClassName,format:r.props.timeFormat,includeTimes:r.props.includeTimes,intervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,todayButton:r.props.todayButton,showMonthDropdown:r.props.showMonthDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,monthRef:r.state.monthContainer,injectTimes:r.props.injectTimes,locale:r.props.locale,handleOnKeyDown:r.props.handleOnKeyDown,showTimeSelectOnly:r.props.showTimeSelectOnly})}),x(r,"renderInputTimeSection",function(){var i=new Date(r.props.selected),o=Oi(i)&&!!r.props.selected,s=o?"".concat(LD(i.getHours()),":").concat(LD(i.getMinutes())):"";if(r.props.showTimeInput)return F.createElement(jY,{date:i,timeString:s,timeInputLabel:r.props.timeInputLabel,onChange:r.props.onTimeChange,customTimeInput:r.props.customTimeInput})}),x(r,"renderAriaLiveRegion",function(){var i=Ki(r.state.date,r.props.yearItemNumber),o=i.startPeriod,s=i.endPeriod,a;return r.props.showYearPicker?a="".concat(o," - ").concat(s):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?a=fe(r.state.date):a="".concat(Gw(tn(r.state.date),r.props.locale)," ").concat(fe(r.state.date)),F.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&a)}),x(r,"renderChildren",function(){if(r.props.children)return F.createElement("div",{className:"react-datepicker__children-container"},r.props.children)}),r.containerRef=F.createRef(),r.state={date:r.getDateInView(),selectingDate:null,monthContainer:null,isRenderAriaLiveMessage:!1},r}return At(e,n),Pt(e,[{key:"componentDidMount",value:function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){r.setState({monthContainer:r.monthContainer})}())}},{key:"componentDidUpdate",value:function(r){var i=this;if(this.props.preSelection&&(!Ie(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var o=!bn(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return o&&i.handleCustomMonthChange(i.state.date)})}else this.props.openToDate&&!Ie(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})}},{key:"render",value:function(){var r=this.props.container||$Y;return F.createElement("div",{style:{display:"contents"},ref:this.containerRef},F.createElement(r,{className:ct("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))}}],[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null,yearItemNumber:ad}}}])}(F.Component),YY=function(e){var t=e.icon,r=e.className,i=r===void 0?"":r,o=e.onClick,s="react-datepicker__calendar-icon";return F.isValidElement(t)?F.cloneElement(t,{className:"".concat(t.props.className||""," ").concat(s," ").concat(i),onClick:function(l){typeof t.props.onClick=="function"&&t.props.onClick(l),typeof o=="function"&&o(l)}}):typeof t=="string"?F.createElement("i",{className:"".concat(s," ").concat(t," ").concat(i),"aria-hidden":"true",onClick:o}):F.createElement("svg",{className:"".concat(s," ").concat(i),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:o},F.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},zY=YY,gA=function(n){function e(t){var r;return xt(this,e),r=Ct(this,e,[t]),r.el=document.createElement("div"),r}return At(e,n),Pt(e,[{key:"componentDidMount",value:function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.portalRoot.removeChild(this.el)}},{key:"render",value:function(){return ka.createPortal(this.props.children,this.el)}}])}(F.Component),HY="[tabindex], a, button, input, select, textarea",KY=function(e){return!e.disabled&&e.tabIndex!==-1},yA=function(n){function e(t){var r;return xt(this,e),r=Ct(this,e,[t]),x(r,"getTabChildren",function(){return Array.prototype.slice.call(r.tabLoopRef.current.querySelectorAll(HY),1,-1).filter(KY)}),x(r,"handleFocusStart",function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()}),x(r,"handleFocusEnd",function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()}),r.tabLoopRef=F.createRef(),r}return At(e,n),Pt(e,[{key:"render",value:function(){return this.props.enableTabLoop?F.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},F.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,F.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})):this.props.children}}],[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}])}(F.Component);function qY(n){var e=function(r){var i=Qr(Qr({},r),{},{popperModifiers:r.popperModifiers||[],popperProps:r.popperProps||{},hidePopper:typeof r.hidePopper=="boolean"?r.hidePopper:!0}),o=F.useRef(),s=K5(Qr({open:!i.hidePopper,whileElementsMounted:S5,placement:i.popperPlacement,middleware:[R5({padding:15}),A5(10),N5({element:o})].concat(Eo(i.popperModifiers))},i.popperProps));return F.createElement(n,Ac({},i,{popperProps:Qr(Qr({},s),{},{arrowRef:o})}))};return e}var GY=function(n){function e(){return xt(this,e),Ct(this,e,arguments)}return At(e,n),Pt(e,[{key:"render",value:function(){var r=this.props,i=r.className,o=r.wrapperClassName,s=r.hidePopper,a=r.popperComponent,l=r.targetComponent,u=r.enableTabLoop,d=r.popperOnKeyDown,h=r.portalId,p=r.portalHost,m=r.popperProps,v=r.showArrow,w;if(!s){var D=ct("react-datepicker-popper",i);w=F.createElement(yA,{enableTabLoop:u},F.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:D,"data-placement":m.placement,onKeyDown:d},a,v&&F.createElement($5,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(w=F.createElement(this.props.popperContainer,{},w)),h&&!s&&(w=F.createElement(gA,{portalId:h,portalHost:p},w));var _=ct("react-datepicker-wrapper",o);return F.createElement(F.Fragment,null,F.createElement("div",{ref:m.refs.setReference,className:_},l),w)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0}}}])}(F.Component),QY=qY(GY),BD="react-datepicker-ignore-onclickoutside",XY=nm(WY);function JY(n,e){return n&&e?tn(n)!==tn(e)||fe(n)!==fe(e):n!==e}var vg="Date input not valid.",WD=function(n){function e(t){var r;return xt(this,e),r=Ct(this,e,[t]),x(r,"getPreSelection",function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Ce()}),x(r,"modifyHolidays",function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(o,s){var a=new Date(s.date);return kc(a)?[].concat(Eo(o),[Qr(Qr({},s),{},{date:a})]):o},[])}),x(r,"calcInitialState",function(){var i,o=r.getPreSelection(),s=hA(r.props),a=fA(r.props),l=s&&Vs(o,Rr(s))?s:a&&vo(o,yv(a))?a:o;return{open:r.props.startOpen||!1,preventFocus:!1,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:l,highlightDates:MD(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1}}),x(r,"clearPreventFocusTimeout",function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)}),x(r,"setFocus",function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})}),x(r,"setBlur",function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()}),x(r,"setOpen",function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:_g},function(){i||r.setState(function(s){return{focused:o?s.focused:!1}},function(){!o&&r.setBlur(),r.setState({inputValue:null})})})}),x(r,"inputOk",function(){return Ls(r.state.preSelection)}),x(r,"isCalendarOpen",function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open}),x(r,"handleFocus",function(i){r.state.preventFocus||(r.props.onFocus(i),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})}),x(r,"sendFocusBackToInput",function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})}),x(r,"cancelFocusInput",function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=null}),x(r,"deferFocusInput",function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)}),x(r,"handleDropdownFocus",function(){r.cancelFocusInput()}),x(r,"handleBlur",function(i){(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&r.props.onBlur(i),r.setState({focused:!1})}),x(r,"handleCalendarClickOutside",function(i){r.props.inline||r.setOpen(!1),r.props.onClickOutside(i),r.props.withPortal&&i.preventDefault()}),x(r,"handleChange",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a=o[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,o),typeof a.isDefaultPrevented!="function"||a.isDefaultPrevented()))){r.setState({inputValue:a.target.value,lastPreSelectChange:ZY});var l=nY(a.target.value,r.props.dateFormat,r.props.locale,r.props.strictParsing,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&l&&!Ie(l,r.props.selected)&&(l=L9(r.props.selected,{hours:Or(l),minutes:Nr(l),seconds:ai(l)})),(l||!a.target.value)&&r.setSelected(l,a,!0)}}),x(r,"handleSelect",function(i,o,s){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(o),r.setSelected(i,o,!1,s),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,l=a.startDate,u=a.endDate;l&&!u&&(r.props.swapRange||!jD(i,l))&&r.setOpen(!1)}}),x(r,"setSelected",function(i,o,s,a){var l=i;if(r.props.showYearPicker){if(l!==null&&dA(fe(l),r.props))return}else if(r.props.showMonthYearPicker){if(l!==null&&Wh(l,r.props))return}else if(l!==null&&om(l,r.props))return;var u=r.props,d=u.onChange,h=u.selectsRange,p=u.startDate,m=u.endDate,v=u.selectsMultiple,w=u.selectedDates,D=u.minTime,_=u.swapRange;if(!ls(r.props.selected,l)||r.props.allowSameDay||h||v)if(l!==null&&(r.props.selected&&(!s||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(l=mg(l,{hour:Or(r.props.selected),minute:Nr(r.props.selected),second:ai(r.props.selected)})),!s&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&D&&(l=mg(l,{hour:D.getHours(),minute:D.getMinutes(),second:D.getSeconds()})),r.props.inline||r.setState({preSelection:l}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),h){var y=!p&&!m,T=p&&!m,P=p&&m;y?d([l,null],o):T&&(l===null?d([null,null],o):jD(l,p)?d(_?[l,p]:[l,null],o):d([p,l],o)),P&&d([l,null],o)}else if(v)if(!(w!=null&&w.length))d([l],o);else{var M=w.some(function(I){return Ie(I,l)});if(M){var L=w.filter(function(I){return!Ie(I,l)});d(L,o)}else d([].concat(Eo(w),[l]),o)}else d(l,o);s||(r.props.onSelect(l,o),r.setState({inputValue:null}))}),x(r,"setPreSelection",function(i){var o=typeof r.props.minDate<"u",s=typeof r.props.maxDate<"u",a=!0;if(i){var l=Rr(i);if(o&&s)a=Pu(i,r.props.minDate,r.props.maxDate);else if(o){var u=Rr(r.props.minDate);a=vo(i,u)||ls(l,u)}else if(s){var d=yv(r.props.maxDate);a=Vs(i,d)||ls(l,d)}}a&&r.setState({preSelection:i})}),x(r,"toggleCalendar",function(){r.setOpen(!r.state.open)}),x(r,"handleTimeChange",function(i){var o=r.props.selected?r.props.selected:r.getPreSelection(),s=r.props.selected?i:mg(o,{hour:Or(i),minute:Nr(i)});r.setState({preSelection:s}),r.props.onChange(s),r.props.shouldCloseOnSelect&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}),x(r,"onInputClick",function(){!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),r.props.onInputClick()}),x(r,"onInputKeyDown",function(i){r.props.onKeyDown(i);var o=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(o==="ArrowDown"||o==="ArrowUp"||o==="Enter")&&r.onInputClick();return}if(r.state.open){if(o==="ArrowDown"||o==="ArrowUp"){i.preventDefault();var s=r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',a=r.calendar.componentNode&&r.calendar.componentNode.querySelector(s);a&&a.focus({preventScroll:!0});return}var l=Ce(r.state.preSelection);o==="Enter"?(i.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===_g?(r.handleSelect(l,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(l)):r.setOpen(!1)):o==="Escape"?(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1)):o==="Tab"&&r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:vg})}}),x(r,"onPortalKeyDown",function(i){var o=i.key;o==="Escape"&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))}),x(r,"onDayKeyDown",function(i){r.props.onKeyDown(i);var o=i.key,s=i.shiftKey,a=Ce(r.state.preSelection);if(o==="Enter")i.preventDefault(),r.handleSelect(a,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(a);else if(o==="Escape")i.preventDefault(),r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:vg});else if(!r.props.disabledKeyboardNavigation){var l;switch(o){case"ArrowLeft":r.props.showWeekPicker?l=uD(a,1):l=f6(a,1);break;case"ArrowRight":r.props.showWeekPicker?l=Bf(a,1):l=Ro(a,1);break;case"ArrowUp":l=uD(a,1);break;case"ArrowDown":l=Bf(a,1);break;case"PageUp":l=s?yl(a,1):gl(a,1);break;case"PageDown":l=s?si(a,1):ir(a,1);break;case"Home":l=ao(a,r.props.locale,r.props.calendarStartDay);break;case"End":l=lY(a);break;default:l=null;break}if(!l){r.props.onInputError&&r.props.onInputError({code:1,msg:vg});return}if(i.preventDefault(),r.setState({lastPreSelectChange:_g}),r.props.adjustDateOnChange&&r.setSelected(l),r.setPreSelection(l),r.props.inline){var u=tn(a),d=tn(l),h=fe(a),p=fe(l);u!==d||h!==p?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}}),x(r,"onPopperKeyDown",function(i){var o=i.key;o==="Escape"&&(i.preventDefault(),r.sendFocusBackToInput())}),x(r,"onClearClick",function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput(),r.props.selectsRange?r.props.onChange([null,null],i):r.props.onChange(null,i),r.setState({inputValue:null})}),x(r,"clear",function(){r.onClearClick()}),x(r,"onScroll",function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)}),x(r,"renderCalendar",function(){return!r.props.inline&&!r.isCalendarOpen()?null:F.createElement(XY,{ref:function(o){r.calendar=o},locale:r.props.locale,calendarStartDay:r.props.calendarStartDay,chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,monthAriaLabelPrefix:r.props.monthAriaLabelPrefix,adjustDateOnChange:r.props.adjustDateOnChange,setOpen:r.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,dateFormat:r.props.dateFormatCalendar,useWeekdaysShort:r.props.useWeekdaysShort,formatWeekDay:r.props.formatWeekDay,dropdownMode:r.props.dropdownMode,selected:r.props.selected,preSelection:r.state.preSelection,onSelect:r.handleSelect,onWeekSelect:r.props.onWeekSelect,openToDate:r.props.openToDate,minDate:r.props.minDate,maxDate:r.props.maxDate,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsMultiple:r.props.selectsMultiple,selectedDates:r.props.selectedDates,startDate:r.props.startDate,endDate:r.props.endDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,filterDate:r.props.filterDate,onClickOutside:r.handleCalendarClickOutside,formatWeekNumber:r.props.formatWeekNumber,highlightDates:r.state.highlightDates,holidays:vY(r.modifyHolidays()),includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,includeTimes:r.props.includeTimes,injectTimes:r.props.injectTimes,inline:r.props.inline,shouldFocusDayInline:r.state.shouldFocusDayInline,peekNextMonth:r.props.peekNextMonth,showMonthDropdown:r.props.showMonthDropdown,showPreviousMonths:r.props.showPreviousMonths,useShortMonthInDropdown:r.props.useShortMonthInDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showWeekNumbers:r.props.showWeekNumbers,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,forceShowMonthNavigation:r.props.forceShowMonthNavigation,showDisabledMonthNavigation:r.props.showDisabledMonthNavigation,scrollableYearDropdown:r.props.scrollableYearDropdown,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown,todayButton:r.props.todayButton,weekLabel:r.props.weekLabel,outsideClickIgnoreClass:BD,fixedHeight:r.props.fixedHeight,monthsShown:r.props.monthsShown,monthSelectedIn:r.state.monthSelectedIn,onDropdownFocus:r.handleDropdownFocus,onMonthChange:r.props.onMonthChange,onYearChange:r.props.onYearChange,dayClassName:r.props.dayClassName,weekDayClassName:r.props.weekDayClassName,monthClassName:r.props.monthClassName,timeClassName:r.props.timeClassName,showDateSelect:r.props.showDateSelect,showTimeSelect:r.props.showTimeSelect,showTimeSelectOnly:r.props.showTimeSelectOnly,onTimeChange:r.handleTimeChange,timeFormat:r.props.timeFormat,timeIntervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,className:r.props.calendarClassName,container:r.props.calendarContainer,yearItemNumber:r.props.yearItemNumber,yearDropdownItemNumber:r.props.yearDropdownItemNumber,previousMonthAriaLabel:r.props.previousMonthAriaLabel,previousMonthButtonLabel:r.props.previousMonthButtonLabel,nextMonthAriaLabel:r.props.nextMonthAriaLabel,nextMonthButtonLabel:r.props.nextMonthButtonLabel,previousYearAriaLabel:r.props.previousYearAriaLabel,previousYearButtonLabel:r.props.previousYearButtonLabel,nextYearAriaLabel:r.props.nextYearAriaLabel,nextYearButtonLabel:r.props.nextYearButtonLabel,timeInputLabel:r.props.timeInputLabel,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,renderCustomHeader:r.props.renderCustomHeader,popperProps:r.props.popperProps,renderDayContents:r.props.renderDayContents,renderMonthContent:r.props.renderMonthContent,renderQuarterContent:r.props.renderQuarterContent,renderYearContent:r.props.renderYearContent,onDayMouseEnter:r.props.onDayMouseEnter,onMonthMouseLeave:r.props.onMonthMouseLeave,onYearMouseEnter:r.props.onYearMouseEnter,onYearMouseLeave:r.props.onYearMouseLeave,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,showTimeInput:r.props.showTimeInput,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showWeekPicker:r.props.showWeekPicker,excludeScrollbar:r.props.excludeScrollbar,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,isInputFocused:r.state.focused,customTimeInput:r.props.customTimeInput,setPreSelection:r.setPreSelection,usePointerEvent:r.props.usePointerEvent,yearClassName:r.props.yearClassName},r.props.children)}),x(r,"renderAriaLiveRegion",function(){var i=r.props,o=i.dateFormat,s=i.locale,a=r.props.showTimeInput||r.props.showTimeSelect,l=a?"PPPPp":"PPPP",u;return r.props.selectsRange?u="Selected start date: ".concat(Vn(r.props.startDate,{dateFormat:l,locale:s}),". ").concat(r.props.endDate?"End date: "+Vn(r.props.endDate,{dateFormat:l,locale:s}):""):r.props.showTimeSelectOnly?u="Selected time: ".concat(Vn(r.props.selected,{dateFormat:o,locale:s})):r.props.showYearPicker?u="Selected year: ".concat(Vn(r.props.selected,{dateFormat:"yyyy",locale:s})):r.props.showMonthYearPicker?u="Selected month: ".concat(Vn(r.props.selected,{dateFormat:"MMMM yyyy",locale:s})):r.props.showQuarterYearPicker?u="Selected quarter: ".concat(Vn(r.props.selected,{dateFormat:"yyyy, QQQ",locale:s})):u="Selected date: ".concat(Vn(r.props.selected,{dateFormat:l,locale:s})),F.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},u)}),x(r,"renderDateInput",function(){var i,o=ct(r.props.className,x({},BD,r.state.open)),s=r.props.customInput||F.createElement("input",{type:"text"}),a=r.props.customInputRef||"ref",l=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?rY(r.props.startDate,r.props.endDate,r.props):r.props.selectsMultiple?iY(r.props.selectedDates,r.props):Vn(r.props.selected,r.props);return F.cloneElement(s,(i={},x(x(x(x(x(x(x(x(x(x(i,a,function(u){r.input=u}),"value",l),"onBlur",r.handleBlur),"onChange",r.handleChange),"onClick",r.onInputClick),"onFocus",r.handleFocus),"onKeyDown",r.onInputKeyDown),"id",r.props.id),"name",r.props.name),"form",r.props.form),x(x(x(x(x(x(x(x(x(x(i,"autoFocus",r.props.autoFocus),"placeholder",r.props.placeholderText),"disabled",r.props.disabled),"autoComplete",r.props.autoComplete),"className",ct(s.props.className,o)),"title",r.props.title),"readOnly",r.props.readOnly),"required",r.props.required),"tabIndex",r.props.tabIndex),"aria-describedby",r.props.ariaDescribedBy),x(x(x(i,"aria-invalid",r.props.ariaInvalid),"aria-labelledby",r.props.ariaLabelledBy),"aria-required",r.props.ariaRequired)))}),x(r,"renderClearButton",function(){var i=r.props,o=i.isClearable,s=i.disabled,a=i.selected,l=i.startDate,u=i.endDate,d=i.clearButtonTitle,h=i.clearButtonClassName,p=h===void 0?"":h,m=i.ariaLabelClose,v=m===void 0?"Close":m,w=i.selectedDates;return o&&(a!=null||l!=null||u!=null||w!=null&&w.length)?F.createElement("button",{type:"button",className:ct("react-datepicker__close-icon",p,{"react-datepicker__close-icon--disabled":s}),disabled:s,"aria-label":v,onClick:r.onClearClick,title:d,tabIndex:-1}):null}),r.state=r.calcInitialState(),r.preventFocusTimeout=null,r}return At(e,n),Pt(e,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentDidUpdate",value:function(r,i){r.inline&&JY(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:MD(this.props.highlightDates)}),!i.focused&&!ls(r.selected,this.props.selected)&&this.setState({inputValue:null}),i.open!==this.state.open&&(i.open===!1&&this.state.open===!0&&this.props.onCalendarOpen(),i.open===!0&&this.state.open===!1&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0)}},{key:"renderInputContainer",value:function(){var r=this.props,i=r.showIcon,o=r.icon,s=r.calendarIconClassname,a=r.toggleCalendarOnIconClick,l=this.state.open;return F.createElement("div",{className:"react-datepicker__input-container".concat(i?" react-datepicker__view-calendar-icon":"")},i&&F.createElement(zY,Ac({icon:o,className:"".concat(s," ").concat(l&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())}},{key:"render",value:function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var i=this.state.open?F.createElement(yA,{enableTabLoop:this.props.enableTabLoop},F.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(i=F.createElement(gA,{portalId:this.props.portalId,portalHost:this.props.portalHost},i)),F.createElement("div",null,this.renderInputContainer(),i)}return F.createElement(QY,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),portalId:this.props.portalId,portalHost:this.props.portalHost,popperModifiers:this.props.popperModifiers,targetComponent:this.renderInputContainer(),popperContainer:this.props.popperContainer,popperComponent:r,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop,showArrow:this.props.showPopperArrow})}}],[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:ad,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}}}])}(F.Component),ZY="input",_g="navigate";function ez({next:n,previous:e,close:t}){const r=[parseInt(nt.getCache($a)),parseInt(nt.getCache(Ua))],[i,o]=N.useState(isNaN(r[0])?new Date:new Date(r[0])),[s,a]=N.useState(isNaN(r[1])?null:new Date(r[1])),[l,u]=N.useState(null),d=()=>(console.log(s,i),!s||!i?(u("Please provide start and end dates"),!1):s<i?(u("End date must be after start date"),!1):(u(null),!0)),h=m=>{m.preventDefault(),d()&&(console.log("Start Date:",i),console.log("End Date:",s),nt.setCache($a,i.getTime()),nt.setCache(Ua,s.getTime()),n())},p=()=>{nt.setCache($a,i==null?void 0:i.getTime()),nt.setCache(Ua,s==null?void 0:s.getTime()),e()};return R.jsx("div",{className:"max-width daterange-container",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:R.jsxs("div",{style:{border:"0",boxShadow:iU,padding:"20px",display:"flex",flexDirection:"column",borderRadius:"10px",justifyContent:"center",alignItems:"center"},children:[R.jsx("h2",{className:"heading",children:"Specify Duration of course"}),R.jsxs(Ot,{onSubmit:()=>{},children:[R.jsxs(Ot.Group,{controlId:"formStartDate",className:"date-picker-container",children:[R.jsx(Ot.Label,{children:"Start Date: "}),R.jsx(WD,{selected:i,onChange:m=>o(m),selectsStart:!0,startDate:i,endDate:s,className:"form-control"})]}),R.jsxs(Ot.Group,{controlId:"formEndDate",className:"date-picker-container",children:[R.jsx(Ot.Label,{children:"End Date :"}),R.jsx(WD,{selected:s,onChange:m=>a(m),selectsEnd:!0,startDate:i,endDate:s,minDate:i,className:"form-control"})]}),R.jsxs(fo,{className:"flex-inline-container",style:{width:"100%",justifyContent:"center"},children:[R.jsx(wt,{onClick:p,variant:"primary",children:"Previous"}),R.jsx(wt,{onClick:h,variant:"primary",children:"Next"}),R.jsx(wt,{variant:"outline-primary",onClick:t,children:"Cancel"})]}),l&&R.jsx(sM,{variant:"danger",children:l})]})]})})}function tz({setSignup:n}){const[e,t]=N.useState("subjects");function r(i){switch(i){case"subjects":return R.jsx(fW,{close:n,next:()=>t("classtime")});case"classtime":return R.jsx(ez,{close:n,previous:()=>t("subjects"),next:()=>t("timetable")});default:return R.jsx(gW,{close:n,next:n,previous:()=>t("classtime")})}}return r(e)}const nz=({setLoginState:n})=>{const[e,t]=N.useState(!1),[r,i]=N.useState(!1),[o,s]=N.useState(!0),[a,l]=N.useState(""),[u,d]=N.useState(""),h=()=>{t(!e),l(""),d("")};nt.clear();const p=(D,_="",y="")=>{if(i(!1),D)n(!0,!0);else switch(console.log(_),_){case"auth/invalid-email":l("Invalid email");break;case"auth/invalid-password":d("Invalid password");break;case"auth/email-already-in-use":l("Email already in use");break;default:console.trace(_,y)}},m=D=>{var y;const _=((y=D.target)==null?void 0:y.value)||"";l(Zt.validateEmail(_))},v=D=>{var y;const _=((y=D.target)==null?void 0:y.value)||"";d(Zt.validatePassword(_))};function w(D){D.preventDefault();var _=D.target.querySelectorAll("input"),y=_[0].value||"",T=_[1].value||"";if(e){var P=_[2].value;T!==P?s(!1):u==""&&a==""&&(s(!0),i(!0),Zt.signUp(y,T,p))}else i(!0),Zt.login(y,T,(M,L)=>{i(!1),M?n(!0,!1):d("invalid login details")})}return R.jsxs(Ot,{onSubmit:w,children:[R.jsx("h1",{className:"heading",children:e?"Sign Up":"Login"}),R.jsxs(Ot.Group,{className:"mb-3 no-margin",controlId:"formBasicEmail",children:[R.jsx(Ot.Label,{className:"input-label",children:"Email address"}),R.jsx(Ot.Control,{onBlur:m,type:"email",placeholder:"Enter email",required:!0}),a!=""?R.jsx("p",{className:"wrong",children:a}):""]}),R.jsxs(Ot.Group,{className:"mb-3 no-margin",controlId:"formBasicPassword",children:[R.jsx(Ot.Label,{className:"input-label",children:"Password"}),R.jsx(Ot.Control,{onBlur:e?v:()=>{},type:"password",placeholder:"Password",required:!0}),u!=""?R.jsx("p",{className:"wrong",children:u}):""]}),e&&R.jsxs(Ot.Group,{className:"mb-3",controlId:"formBasicEmail",children:[R.jsx(Ot.Label,{className:"input-label",children:"Confirm password"}),R.jsx(Ot.Control,{type:"password",placeholder:"Confirm password",required:!0}),!o&&R.jsx("p",{className:"wrong",children:"Password do not match!"})]}),R.jsx(wt,{variant:"outline-primary",type:"submit",disabled:!!r,children:r?"Please wait.. ":"Submit"}),R.jsxs("a",{children:[e?"Already":"Don't"," have an account?",R.jsx("b",{onClick:h,children:e?" Login":" Sign Up"})]})]})},rz=""+new URL("logo-BCqGzhy0.svg",import.meta.url).href;function iz({setLoginState:n}){return R.jsxs("div",{className:"login-container",children:[R.jsxs("div",{className:"app-details",children:[R.jsx("h2",{children:"Welcome"}),R.jsx("img",{src:rz})]}),R.jsxs("div",{className:"login-form",children:[R.jsx("h1",{className:"app-name",children:"Track Well"}),R.jsx(nz,{setLoginState:n})]})]})}function oz(){const[n,e]=N.useState(""),[t,r]=N.useState(!1);N.useEffect(()=>{Zt.onAuthStateChanged(o=>{e(!!o)})},[]);function i(o,s){o||Zt.logOut(),e(o),r(s)}return R.jsx(R.Fragment,{children:R.jsx("div",{className:"max-width",children:n===""?R.jsx("p",{children:"Loading"}):n?t?R.jsx(tz,{setSignup:()=>i(!0,!1)}):R.jsx(dW,{setLoginState:i}):R.jsx(iz,{setLoginState:i})})})}mw.automaticDataCollectionEnabled=!1;wg.createRoot(document.getElementById("root")).render(R.jsx(F.StrictMode,{children:R.jsx(oz,{})}));
